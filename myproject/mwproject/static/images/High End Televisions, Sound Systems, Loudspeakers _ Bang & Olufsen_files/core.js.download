!function(){var e,t,i,n,o,r,s,a,c,l,h,u,d,f,g,p,m,v,b,y,w,k,S,x,C,T,O,E,I,N,P,L,A,M,D,R,B,_;(function(){function t(e){var t,i=e.charAt(0).toUpperCase()+e.slice(1);if(e in N.style)return"";for(t=I.length;t--;)if(I[t]+i in N.style)return I[t];return!1}function i(e,t){t||(t=P),L[t]||(L[t]={});var i=L[t][e];return void 0===i&&(i=L[t][e]=t.length?t+e.charAt(0).toUpperCase()+e.substr(1):e[0].toLowerCase()+e.substr(1)),i}function n(e){return 16==e.which||17==e.which||18==e.which||91==e.which?e.which:e.ctrlKey&&17||e.shiftKey&&16||e.altKey&&18||e.metaKey&&91||0}function o(e){var t="right",i="middle";if(void 0!==e.buttons&&0!==e.buttons){if(2==e.buttons)return t;if(4==e.buttons)return i}else{if(2==e.button)return t;if(1==e.button)return i;if(A.mac&&17==n(e))return t}return"left"}function r(){var e,t=[];for(e=I.length;e--;)I[e]!=P&&t.push(I[e]);return P.length&&t.push(""),t}function s(){return O.navigator.language||O.navigator.userLanguage}function a(){return(new Date).getTimezoneOffset()}function c(){return O.innerHeight||(E.documentElement||E.body).clientHeight||0}function l(){return O.innerWidth||(E.documentElement||E.body).clientWidth||0}function h(){return l()<c()?0:90}function u(){return 90===h()}function d(){return O.navigator.userAgent}function f(e,t,i,n){i||(i=E.body),n||(n=E.documentElement);var o=O.getComputedStyle(n),r=O.getComputedStyle(i),s=Math.max(i.offsetHeight,n.offsetHeight,i.clientHeight,n.clientHeight),a=Math.max(i.offsetWidth,n.offsetWidth,i.clientWidth,n.clientWidth);return"hidden"==o.overflowY||"hidden"==r.overflowY||t||(s=Math.max(s,i.scrollHeight,n.scrollHeight)),"hidden"==o.overflowX||"hidden"==r.overflowX||e||(a=Math.max(a,i.scrollWidth,n.scrollWidth)),{width:a,height:s}}function g(){return O.pageYOffset||(E.documentElement||E.body.parentNode||E.body).scrollTop||0}function p(){var e;return void 0!==q?q:(q=0,B.touch||(E.body.insertAdjacentHTML("beforeend",'<div style="visibility:hidden;overflow-y:scroll;">blaah</div>'),e=E.body.lastElementChild,q=e.offsetWidth-e.clientWidth,e.parentNode.removeChild(e)),q)}function m(){return A.desktop?G.win.width()-G.doc.width():0}function v(){return A.desktop?G.win.height()-G.doc.height():0}function b(e,t){return A.desktop?e:G.screen[t]()===G.win[t]()?e:G.win[t]()/G.content[t]*e}function y(e,t,i){return"calc("+e+(t?" - "+t+"px":"")+(i?" + "+i+"px":"")+")"}function w(e,t){e||(e=0);var i=t?100:b(100,"width"),n=m(),o=i+"vw";return(n||e)&&(o=y(o,n,e)),o}function k(e,t){e||(e=0);var i=t?100:b(100,"height"),n=v(),o=i+"vh";return(n||e)&&(o=y(o,n,e)),o}function S(e,t){if(e&&"fixed"==t)return"fixed"==e||~e.indexOf("sticky")}function x(e){return S(e,"fixed")?A.desktop&&A.safari?"-webkit-sticky":"fixed":e}function C(e){return e=+e||1,(A.desktop?1:G.win.width()/G.screen.width())*e}var T,O=this,E=O.document,I=["Webkit","ms","Moz"],N=E.createElement("div"),P=t("transform"),L={},A={standalone:O.navigator.standalone,retina:O.devicePixelRatio>=1.5},M=O.navigator.userAgent.toLowerCase(),D=/adsbot-google|googlebot|mediapartners-google|googleweblight|google page speed insights/gi;A.bot=D.test(M);var R=function(){var e=M.match(/(edge)[\s\/:]([\w\d\.]+)/);e||(e=M.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0]),"trident"==e[1]?(e[1]="ie",e[4]&&(e[2]=e[4])):"crios"==e[1]&&(e[1]="chrome");var t;return t=/iemobile|windows phone/i.test(O.navigator.appVersion)?"winphone":M.match(/ip(?:ad|od|hone)/)?"ios":(M.match(/(?:webos|android)/)||M.match(/mac|win|linux|cros/)||["other"])[0],"win"==t&&(t="windows"),{name:"version"==e[1]?e[3]:e[1],version:parseFloat("opera"==e[1]&&e[4]?e[4]:e[2]),platform:t}}();"unknown"!=R.name&&(A[R.name]=!0),A.version=R.version,A.name=R.name,A.platform=R.platform,"ie"==R.name&&E.documentMode&&(A.version=E.documentMode),"BackCompat"==E.compatMode&&(A.quirks=!0,A.version=1),A[R.platform]=!0,A.windows=A.windows||A.winphone,A.mozilla=A.firefox,A.webkit=A.safari||A.chrome,A.webkit&&"webkitAnimation"in N.style&&(P="Webkit"),A.desktop=!(A.android||A.ios||A.winphone),A.android&&(A.tablet=!/mobile/i.test(M)),A.ios&&(A.tablet=/ipad/i.test(M),N.style.setProperty("-webkit-overflow-scrolling","touch"),A.genuineApple="touch"==N.style.getPropertyValue("-webkit-overflow-scrolling")),A.phone=!A.desktop&&!A.tablet,A.device=A.tablet?"tablet":A.phone?"phone":"desktop";var B={orientationchange:"onorientationchange"in O,threeD:i("perspective")in E.documentElement.style,touch:"ontouchstart"in O||O.navigator.msMaxTouchPoints>0,transform:!1!==P,animation:!1!==t("animationName"),pointer:!!O.PointerEvent,pointerGestures:!!O.MSGesture,pointerEvents:function(e){return"pointerEvents"in e&&(e.pointerEvents="auto",e.pointerEvents="foo","auto"==e.pointerEvents)}(N.style)};A.ie&&A.version<=10&&(B.pointerEvents=!1);var _,H,j="onorientationchange"in O?"orientationchange":"resize",F={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"};for(T in F)if(void 0!==N.style[T]){_=F[T];break}var U={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend"};for(T in U)if(void 0!==N.style[T]){H=U[T];break}var q,z=P.length?"-"+P.toLowerCase()+"-":"",V={language:s,timezoneOffSet:a},W={top:g,pct:function(){var e=f().height-c();return 0===e?100:Math.floor(g()/e*100)}},G={screen:{width:function(){return Math[u()?"max":"min"](O.screen.width,O.screen.height)},height:function(){return Math[u()?"min":"max"](O.screen.width,O.screen.height)},availWidth:function(){return Math[u()?"max":"min"](O.screen.availWidth,O.screen.availHeight)},availHeight:function(){return Math[u()?"min":"max"](O.screen.availWidth,O.screen.availHeight)}},content:{width:0,height:0},win:{width:l,height:c},doc:{dims:f,width:function(e,t,i){return f(e,!0,t,i).width},height:function(e,t,i){return f(!0,e,t,i).height}}},Q=E.querySelector("meta[name=viewport], meta[id=viewport]"),X={viewportScaleFactor:C,isPositionValue:S,getPositionValue:x,systemScrollbarWidth:p,verticalScrollbarWidth:m,viewportCSSWidth:w,viewportCSSHeight:k,translateViewportUnitValue:b,is:A,has:B,jsVendor:P,otherVendors:r,cssVendor:z,prefixStyle:i,transitionEnd:_,animationEnd:H,resizeEvent:j,mouseButton:o,isLandscape:u,dim:G,scroll:W,user:V,userAgent:d};e=function(){if(G.content.width=G.screen.width(),G.content.height=G.screen.height(),!A.desktop&&Q&&Q.content){var e=Q.content.split(",").filter(function(e){if(~e.indexOf("width"))return 1})[0];e&&(e=parseInt(e.split("=")[1],10)),e===Number(e)&&(G.content.width=e,G.content.height=G.screen.height()/(G.screen.width()/e))}return X}()}).call(this),function(){function e(e){var t;return Oe.JSON&&(t=l(Ee)),t||(t=this.document.getElementById(Ee),t||this.document.body.insertAdjacentHTML("beforeend","<span id="+Ee+"></span>"),t=this.document.getElementById(Ee)),e&&(Ee=t.id=e),t}function i(){return l(Ie)}function n(){return Se&&Se.contentWindow||this}function o(e,t){if(e)switch(e.nodeType){case 0:return function(){};case 1:return n().Element.prototype[t];case 9:return n().Document.prototype[t];case 11:return n().DocumentFragment.prototype[t]||function(){};default:return console.warn("unknown node type: "+e.nodeType),function(){}}}function r(e){try{return n().Object.keys(e)}catch(n){console.warn("frame!");var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=o.length;if("function"!=typeof e&&("object"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var s,a,c=[];for(s in e)t.call(e,s)&&c.push(s);if(i)for(a=0;a<r;a++)t.call(e,o[a])&&c.push(o[a]);return c}}function s(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function a(){var e,t,i,n,o,r=arguments.length;for(1==r?(t=s(arguments[0]),"array"==t&&(n=[]),"object"==t&&(n={}),o=0):(n=arguments[0],o=1);o<r;o++)if(i=arguments[o],"array"!=(t=s(i))&&"object"!=t)n=i;else for(e in i)t=s(i[e]),n[e]="array"==t||"object"==t?a(n[e]?n[e]:"array"==t?[]:{},i[e]):i[e];return n}function c(e){return e.nodeName?e:Oe.getElementsByTagName(Te,e)[0]}function l(e){return e?e.nodeName?e:Te.getElementById(e):null}function h(e,t){return t&&!t.nodeName?(console.warn("QSA second argument must be Element",t),[]):Array.prototype.slice.call(Oe.querySelectorAll(t||Te,e))}function u(e){e.stopPropagation?e.stopPropagation():Ce.event&&(Ce.event.cancelBubble=!0)}function d(e){e.preventDefault?e.preventDefault():Ce.event&&(Ce.event.returnValue=!1)}function f(e){return e=e||Ce.event,null===e.which&&(e.which=null!==e.charCode?e.charCode:e.keyCode),e.target||(e.target=e.srcElement||Te),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e}function g(e){return r(e).length}function p(e,t){var i=Oe.getComputedStyle,n=i?i(e,null):null;return n?n[t]:e.currentStyle[t]}function m(e){e&&(e.nodeName||(e=l(e)),e&&e.parentNode&&e.parentNode.removeChild(e))}function v(e){var t,i=Te.documentElement,n=Te.body;t=e&&e.nodeName?e.getBoundingClientRect():e||{};var o=(t.top||0)+(i.scrollTop||n&&n.scrollTop)-(i.clientTop||n.clientTop||0),r=(t.left||0)+(i.scrollLeft||n&&n.scrollLeft)-(i.clientLeft||n.clientLeft||0);return{top:o,left:r,right:r+t.width||0,bottom:o+t.height||0,width:t.width||0,height:t.height||0}}function b(e,t){var i,n;return t||(t=0),e.changedTouches&&e.changedTouches.length>t?(i=e.changedTouches[t].pageX,n=e.changedTouches[t].pageY):e.targetTouches&&e.targetTouches.length>t?(i=e.targetTouches[t].pageX,n=e.targetTouches[t].pageY):e.pageX||e.pageY?(i=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(i=e.clientX+Te.body.scrollLeft+Te.documentElement.scrollLeft,n=e.clientY+Te.body.scrollTop+Te.documentElement.scrollTop),{x:i,y:n}}function y(e,t,i,n,o){function r(){this.lastTime=0,this.timer=0,this.after=this.after.bind(this),this.run=this.run.bind(this),this.a1,this.a2,this.a3}i||(i=Ce),r.prototype={after:function(){t.call(i,this.a1,this.a2,this.a3,3),this.lastTime=0,this.timer=0},run:function(){var r=+new Date,s=n&&!this.lastTime?1:r-this.lastTime>e?2:0;s&&(o||(t.call(i,this.a1,this.a2,this.a3,s),this.lastTime=r),this.timer&&Ce.clearTimeout(this.timer),this.timer=Ce.setTimeout(this.after,1.25*e))},throttle:function(e,t,i){this.a1=e,this.a2=t,this.a3=i,Ce.setTimeout(this.run,0)}};var s=new r;return s.throttle.bind(s)}function w(e){var t,i=Object.prototype.hasOwnProperty;if(e)for(t in e)i.call(e,t)&&(this[t]=e[t])}function k(e,t){for(var i=Array.isArray(t)?t.map(function(e,t){return t}):r(t),n=i.length;n--;)e=e.replace(new RegExp("\\{"+i[n]+"\\}","g"),t[i[n]]);return e.replace(/\{\w*\}/g,"")}function S(e,t,i){if(!e||!e.nodeName)return null;i||(i="beforeend");var n;return"afterbegin"==i?n=e.firstElementChild:"afterend"==i&&(n=e.nextElementSibling),e.insertAdjacentHTML(i,Array.isArray(t)?t.join(""):t),"beforebegin"==i?e.previousElementSibling:"afterbegin"==i?n?n.previousElementSibling:e.lastElementChild:"beforeend"==i?e.lastElementChild:"afterend"==i?n?n.previousElementSibling:e.parentNode.lastElementChild:void 0}function x(e,t){var i=e.parentNode;if(i){var n=Oe.createElement.call(Te,"div");n.innerHTML=t,i.replaceChild(n.children[0],e)}}function C(e){return!/^(NaN|-?Infinity)$/.test(+e)}function T(e){return"function"==s(e)}function O(e,t,i,n){function o(){t&&t.call(n.defaultView,e,i)}n||(n=Te);var r=Oe.createElement.call(n,"script");r.type="text/javascript",r.async=!0,r.defer=!0,i&&(l(i)?o():r.id=i),r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,o())}:r.onload=o,r.src=e,n.head.insertBefore(r,n.head.firstChild)}function E(e){var t,i=0,n={};if(e=e+""||(e=Oe.getElementsByTagName("script"))&&e.item(e.length-1).src,(e=([e.split("#")[1]]+"").split("&"))[0])for(;i<e.length;i++)t=e[i].split("=",2),n[t[0]]=t[1]?Oe.decodeURIComponent(t[1].replace(/\+/g," ")):void 0;return n}function I(e){var t=Object.prototype.hasOwnProperty;if(!e||0===e.length)return!0;var i=s(e);if("array"!=i){if("object"==i){for(var n in e)if(t.call(e,n))return!1;return!0}return!(e+"").match(/\S/)}}function N(e,t){var i=e;if(!e)return null;for(;i!==e.ownerDocument&&!Me(i,t);)i=i.parentNode;return i.ownerDocument?i:null}function P(e){function t(e){return void 0===t.link&&(t.link=Oe.createElement.call(Te,"a")),t.link.href=2==e.split("://").length?e:Ce.location.protocol+"//"+e,String(t.link.host)}return t(e)}function L(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(Ce.location.search||Ce.location.hash);return i?Oe.decodeURIComponent(i[1].replace(/\+/g," ")):""}function A(e){return e?(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""}function M(e,t){t||(t=Oe.createElement.call(Te,"div")),t.innerHTML=e||"";for(var i=Oe.createDocumentFragment.call(Te);t.hasChildNodes();)i.appendChild(t.firstChild);return i.childNodes}function D(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function R(e){return D(e).substr(1)}function B(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function _(e){var t=e;t=t.replace("https://",""),t=t.replace("http://",""),t=t.replace("www.",""),t=t.split("/")[0];var i=t.split(".");return t=t.replace("."+i[i.length-1],"")}function H(e,t,i){for(var n=t.split(i||"."),o=e,r=0;r<n.length&&void 0!==(o=o[n[r]]);r++);return o}function j(e,t,i,n){for(var o,r=t.split(n||"."),s=e,a=0;a<r.length;a++)if(o=s,void 0===(s=s[r[a]]))return;o[r[a-1]]=i}function F(e,t){var i=0,n={top:0,bottom:0,left:0,right:0};if(e){var o=t.getComputedStyle(e).boxShadow.split(" ").filter(function(e){return~e.indexOf("px")}).map(function(e){return e.replace(/px/g,"")});3==o.length&&o.push(0),(o[2]||o[3])&&(i=-(-o[3]-Math.ceil(o[2]/2+1)),n.top=i-o[1],n.bottom=-(-i-o[1]),n.left=i-o[0],n.right=-(-i-o[0]))}return n}function U(e){var t=Object.create(null);return(arguments[1]?Array.isArray(arguments[1])?arguments[1]:K(arguments,1):Object.keys(e)).forEach(function(i){i in e&&(t[i]=e[i])}),t}function q(e,t){var i,n=1e4,o=n,r=n,s=-n,a=-n,c=0,l=0,h=Array.prototype.slice.call(Oe.querySelectorAll(e,t||"*")).concat(e);return h.forEach(function(e,t){if("inline"!=Ce.getComputedStyle(e).display){var n=Q(e);if(n.height&&n.width||!(t<h.length-1)){var u=F(e,Oe);n.top=Math.min(n.top,n.top-u.top),n.bottom=Math.max(n.bottom,n.bottom+u.bottom),n.left=Math.min(n.left,n.left-u.left),n.right=Math.max(n.right,n.right+u.right),t+1==h.length&&(i=Q(e),c=n.right-n.left,l=n.bottom-n.top),n.top<o&&(o=n.top),n.left<r&&(r=n.left),n.bottom>a&&(a=n.bottom),n.right>s&&(s=n.right)}}}),U({elem:U({top:i.top-o,left:i.left-r,bottom:a-i.bottom,right:s-i.right,width:c,height:l}),top:o,left:r,bottom:a,right:s,width:s-r,height:a-o,elemWidth:c,elemHeight:l})}function z(e,t){var i=N(e.target,"[data-action]");if(i&&!i.hasAttribute("disabled")){var n,o=i.getAttribute("data-action");try{n=Oe.JSON.parse(i.getAttribute("data-value"))}catch(e){n=i.getAttribute("data-value")}return t(o,n,i),!0}}function V(e,t){t=t||function(){};var i=e.innerHTML,n=Ce.setInterval(function(){e.innerHTML==i&&(t(),Ce.clearInterval(n))},100)}function W(e){var t=function(e,t){for(var i,n,o=t.call(e),r={top:o.top,left:o.left,right:o.right,bottom:o.bottom,width:o.width,height:o.height},s=[];e.ownerDocument.defaultView!=e.ownerDocument.defaultView.top;)for(i=e.ownerDocument.defaultView,s=Oe.querySelectorAll(i.parent.document,"iframe"),n=s.length;n--;)if(s[n].contentWindow==i){o=s[n].getBoundingClientRect(),r.left+=o.left,r.top+=o.top,e=s[n];break}return r.right=r.left+r.width,r.bottom=r.top+r.height,Object.freeze?Object.freeze(r):r};e.ownerDocument.defaultView==e.ownerDocument.defaultView.top||e.getBoundingClientRect.custom||(e.getBoundingClientRect=function(){return t(this,De)},e.getBoundingClientRect.custom=!0)}function G(e){for(var t,i,n=De.call(e),o={top:n.top,left:n.left,right:n.right,bottom:n.bottom,width:n.width,height:n.height},r=[];e.ownerDocument.defaultView!=e.ownerDocument.defaultView.top;)for(t=e.ownerDocument.defaultView,r=Oe.querySelectorAll(t.parent.document,"iframe"),i=r.length;i--;)if(r[i].contentWindow==t){n=r[i].getBoundingClientRect(),o.left+=n.left,o.top+=n.top,e=r[i];break}return o.right=o.left+o.width,o.bottom=o.top+o.height,Object.freeze?Object.freeze(o):o}function Q(e){var t=e.getBoundingClientRect();return a(Object.create(null),{top:t.top,left:t.left,right:t.right,bottom:t.bottom,width:t.width,height:t.height})}function X(e){for(var t,i=e.style.cssText.split(";"),n=i.length,o={};n--;)(t=i[n].indexOf(":"))>0&&(o[A(i[n].substr(0,t))]=A(i[n].substr(t+1)));return o}function J(e,t){var i,n=X(e),o=X(t),r=[];for(i in o)o.hasOwnProperty(i)&&(n[i]||delete o[i]);for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);for(i in o)o.hasOwnProperty(i)&&r.push(i+":"+o[i]);return t.style.cssText=r.join(";")}function Y(e,t,i){if(e&&e.attributes&&t&&t.attributes){var n,o;for(n=e.attributes.length;n--;)o=e.attributes[n],t.getAttribute(o.name)!==o.value&&("style"==o.name?J(e,t):t.setAttribute(o.name,o.value));if(i)for(n=t.attributes.length;n--;)o=t.attributes[n],e.hasAttribute(o.name)||t.removeAttribute(o.name)}}function K(e,t,i){return Array.prototype.slice.call(e,t,i)}function $(e){var t=Array.isArray(arguments[1])?arguments[1]:K(arguments,1);return Array.isArray(e)?t.some(function(t){return~e.indexOf(t)}):"object"==s(e)?t.some(function(t){return t in e}):t.some(function(t){return e==t})}function Z(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function ee(e,t,i){"use strict";function n(e,t,i){l[e]=t}var o,s,a,c,l={};if(!e||!e.nodeName||"form"!==e.nodeName.toLowerCase())throw"You must supply a form element";for(o=0,s=e.elements.length;o<s;o++)a=e.elements[o],""===a.name||a.disabled||void 0!==(c=te(a))&&n(a.name,c);r(t||{}).forEach(function(e){n(e,t[e])});var h=[];return i?h=l:(h=[],r(l).forEach(function(e){h.push(Z(e)+"="+Z(l[e]))})),h}function te(e){switch(e.nodeName.toLowerCase()){case"input":switch(e.type){case"checkbox":case"radio":if(e.checked)return e.value;break;case"file":case"reset":break;default:return e.value}break;case"textarea":return e.value;case"select":switch(e.type){case"select-one":return e.value;case"select-multiple":var t=0,i=0;for(t=0,i=e.options.length;t<i;t++)if(e.options[t].selected)return e.options[t].value}break;default:return e.innerText}}function ie(e,t){return ee(e,t).join("&")}function ne(e,t){var i;if(e)try{if(Te.createEvent)return i=Te.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,Ce,0,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),!e.dispatchEvent(i);if(Te.createEventObject)return i=Te.createEventObject(Ce.event),e.fireEvent("onclick",i)}catch(e){console.log(e.message)}}function oe(e,t){return e+(t?(~e.indexOf("?")?"&":"?")+t:"")}function re(e,t,i){return!1!==t?parseInt(e,10)/i+"rem":e}function se(e,t,i){return i||(i=.1),Math.abs(e-t)<=i}function ae(e,t,i){for(var n=e.options||[],o=n.length,r=[];o--;)if(n[o].id==t){r=n[o].values||[];break}if(void 0===i)return r;for(o=r.length;o--;)if(r[o].id==i)return r[o].value}function ce(e,t,i){var n=[];return(e||[]).forEach(function(){var e=t&&t.apply(i,arguments);e&&n.push(e)},i),n}function le(e){var t=e||{prefix:!1,length:8};t.prefix||(t.prefix=!1),t.length||(t.length=8),this.length=t.length,this.timestamp=+new Date;for(var i=this.timestamp.toString(),n=i.split("").reverse(),o="",r=0;r<this.length;++r){o+=n[function(e,t){return Math.floor(Math.random()*(t-e+1))+e}(0,n.length-1)]}return t.prefix&&(o=t.prefix+"-"+o),o}function he(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function ue(e,t,i){de(0,e,0,t,i)}function de(e,t,i,n,o){o||(o=function(){console.log("error",arguments)});var s=new Ce.XMLHttpRequest;if(s.onerror=o,s.onload=function(){s.status>=200&&s.status<400?n&&n(s):o()},"POST"==e)s.open(e,t,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(i);else{var a="";i&&(a=r(i).map(function(e){return Z(e)+"="+Z(i[e])}).join("&"));try{s.open("GET",oe(t,a),!0),s.send()}catch(e){o()}}}function fe(e){var t="";return e&&(t=r(e).map(function(t){return Z(t)+"="+Z(e[t])}).join("&")),t}function ge(e){return"contentDocument"in e?e.contentDocument:e.contentWindow.document}function pe(e){return ge(e).defaultView}function me(){var e;do{e=Math.random().toString(36).substring(7)}while(!e.substr(0,1).match(/[a-zA-Z]/));return e}function ve(e,t,i,n){if(e=e||{},t=t||function(e){},i=i||function(e){},n=n||function(e){return!1},i(e),n(e))return e;for(var o,r=t(e),s=r.length,a=0;a<s&&!o;a++)o=ve(r[a],t,i,n);return o}function be(e,t,i){return e<t?t:e>i?i:e}function ye(e,t,i,n,o){return i-t?(e-t)/(i-t)*(o-n)+n:n}function we(e){if(Array.isArray(e))return e;var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(e[t]);return i}function ke(e){return"sleeknote-"+e.replace(/[^a-zA-Z0-9\-\_\:\.\[\]]/g,"")}var Se,xe,Ce=this,Te=Ce.document,Oe={};Ce.location&&!Ce.location.origin&&(Ce.location.origin=Ce.location.protocol+"//"+Ce.location.hostname+(Ce.location.port?":"+Ce.location.port:"")),Te.head||(Te.head=Te.getElementsByTagName("head")[0]);var Ee="sleeknote",Ie=me();if(this.document.body){var Ne=e();Ne.insertAdjacentHTML("beforeend",'<iframe id="'+Ie+'" name="'+Ie+'" style="display:none!important"></iframe>'),Se=Ne.lastElementChild,["querySelectorAll","querySelector","getElementsByClassName","getElementsByTagName"].forEach(function(e){Oe[e]=function(t,i){try{return o(t,e).call(t,i)}catch(e){}}})}xe=function(e,t,i,n){return e===e+""&&(e=Oe.getElementById(e)),function o(r){return e[t+"EventListener"](r,i,!!n),o}},Oe.JSON={parse:function(){return n().JSON.parse.apply(Ce,arguments)},stringify:function(){return n().JSON.stringify.apply(Ce,arguments)}},["XMLHttpRequest","decodeURIComponent","encodeURIComponent"].forEach(function(e){Oe[e]=function(){return n()[e].apply(Ce,arguments)}},this),["getElementById","createElement","createDocumentFragment"].forEach(function(e){Oe[e]=function(){return n().document[e].apply(Te,arguments)}},this),Oe.getComputedStyle=function(e,t){return n().getComputedStyle.call(Ce,e,t)};var Pe=function(){var e=n(),t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame;return t?function(e){return t.call(null,e)}:function(e){return Ce.setTimeout(e,13)}}(),Le=function(){var e=n(),t=e.cancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame;return t?function(e){t.call(null,e)}:function(e){Ce.clearTimeout(e)}}(),Ae=Te.documentElement,Me=function(e){return e?function(t,i){return e.call(t,i)}:function(e,t){for(var i=e.parentNode?Oe.querySelectorAll(e.parentNode,t):[],n=i.length;n--;)if(i[n]===e)return!0}}(Ae.matches||Ae.matchesSelector||Ae.webkitMatchesSelector||Ae.msMatchesSelector||Ae.mozMatchesSelector||Ae.oMatchesSelector);if(Ce.Element)var De=Ce.Element.prototype.getBoundingClientRect;a(Oe,{stepId:ke,toArray:we,fetch:ue,limit:be,scale:ye,newDict:U,randomName:me,sandbox:i,wrapper:e.bind(this),Objectkeys:r,getDocument:ge,getWindow:pe,filterMap:ce,isEqual:se,px2rem:re,appendToUrl:oe,serialize:ie,parseForm:ee,parseNodeValue:te,click:ne,getAdvOption:ae,clickListener:z,bounds:q,stopPropagation:u,preventDefault:d,normalizedEvent:f,getStyle:p,typeStr:s,listener:xe,gid:l,qsa:h,gtag:c,objectSize:g,extend:a,contains:$,slice:K,removeNode:m,eventXY:b,offsetRect:v,requestFrame:Pe,cancelFrame:Le,throttle:y,applyOptions:w,template:k,insertHTML:S,replaceHTML:x,isNumeric:C,isFunction:T,loadScript:O,getHostname:P,getHashParams:E,empty:I,matchesSel:Me,detectHTMLChange:V,guid:le,guid_string:he,querySelectorClosest:N,getQueryVarByName:L,httpRequest:de,buildQueryString:fe,cleanUpReferral:_,trim:A,camelCaseToDashSeparated:D,dashSeparatedToCamelCase:B,PascalCaseToDashSeparated:R,htmlToFragment:M,htmlToElement:function(e,t){return M(e,t)[0]},syncAttributes:Y,applyCustomGetBoundingClientRect:W,customGetBoundingClientRect:G,deepProp:H,deepPropSet:j,treeWalker:ve}),t=function(){return Oe}()}.call(this),function(){function e(t){if(!("colno"in t))return e({c:-1,l:-1,m:"unknown ErrorEvent "+t});var i="";t.error&&t.error.stack&&(i=String(t.error.stack).split("\n"),i=i[0]+i[1]);var n={c:t.colno,l:t.lineno,filename:t.filename,m:t.message};return i&&(n.s=i),n}var t,n=this,o=function(e){e&&e.apply&&(t=e)};n.addEventListener("error",function(i){t&&t(e(i))}),i=function(){return t=console.log.bind(console),o}()}.call(this),function(){!function(e,t){var i=function(e){"use strict";function t(t){var i,r=t.trace?(Math.random()+Math.PI).toString(36).substring(2,10):null,s=t.page_info,a=t.token,c=t.print,l=t.no_format,h=function(){return"undefined"==typeof XDomainRequest?t.ssl:"https:"===e.location.protocol}();i=e.LEENDPOINT?e.LEENDPOINT:l?"webhook.logentries.com/noformat":"js.logentries.com/v1",i=(h?"https://":"http://")+i+"/logs/"+a;var u=[],d=!1,f=!1;if(t.catchall){var g=e.onerror,p=function(e,t,i){return b({error:e,line:i,location:t}).level("ERROR").send(),!!g&&g(e,t,i)};e.onerror=p}var m=function(){var t=e.navigator||{doNotTrack:void 0},i=e.screen||{};return{url:(e.location||{}).pathname,referrer:document.referrer,screen:{width:i.width,height:i.height},window:{width:e.innerWidth,height:e.innerHeight},browser:{name:t.appName,version:t.appVersion,cookie_enabled:t.cookieEnabled,do_not_track:t.doNotTrack},platform:t.platform}},v=function(){var e=Array.prototype.slice.call(arguments);if(0===e.length)throw new Error("No arguments!");return 1===e.length?e[0]:e},b=function(e){var t=v.apply(this,arguments),i={event:t};return"never"!==s&&(f&&"per-entry"!==s||(f=!0,void 0===t.screen&&void 0===t.browser&&b(m()).level("PAGE").send())),r&&(i.trace=r),{level:function(e){if(c&&"undefined"!=typeof console&&"PAGE"!==e){var t=null;"undefined"!=typeof XDomainRequest&&(t=i.trace+" "+i.event);try{console[e.toLowerCase()].call(console,t||i)}catch(e){console.log(t||i)}}return i.level=e,{send:function(){var e=[],t=JSON.stringify(i,function(t,i){if(void 0===i)return"undefined";if("object"==typeof i&&null!==i){if(-1!==n(e,i))return"<?>";e.push(i)}return i});d?u.push(t):y(a,t)}}}}};this.log=b;var y=function(e,t){d=!0;var n=o();n.constructor===XMLHttpRequest?n.onreadystatechange=function(){4===n.readyState&&(n.status>=400?(console.error("Couldn't submit events."),410===n.status&&console.warn("This version of le_js is no longer supported!")):(301===n.status&&console.warn("This version of le_js is deprecated! Consider upgrading."),u.length>0?y(e,u.shift()):d=!1))}:n.onload=function(){u.length>0?y(e,u.shift()):d=!1},n.open("POST",i,!0),n.constructor===XMLHttpRequest&&(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-type","application/json")),n.overrideMimeType&&n.overrideMimeType("text"),n.send(t)}}function i(e){var i,n={ssl:!0,catchall:!1,trace:!0,page_info:"never",print:!1,endpoint:null,token:null};if("object"!=typeof e)throw new Error("Invalid parameters for createLogStream()");for(var o in e)n[o]=e[o];if(null===n.token)throw new Error("Token not present.");i=new t(n);var r=function(e){if(i)return i.log.apply(this,arguments);throw new Error("You must call LE.init(...) first.")};return{log:function(){r.apply(this,arguments).level("LOG").send()},warn:function(){r.apply(this,arguments).level("WARN").send()},error:function(){r.apply(this,arguments).level("ERROR").send()},info:function(){r.apply(this,arguments).level("INFO").send()}}}var n=function(e,t){for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1},o=function(){return"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest},r={},s=function(e){if(!r.hasOwnProperty(e))throw new Error("Invalid name for logStream");return r[e]},a=function(e){if("string"!=typeof e.name)throw new Error("Name not present.");if(r.hasOwnProperty(e.name))throw new Error("A logger with that name already exists!");return r[e.name]=new i(e),!0};return{init:function(e){var t={name:"default"};if("object"==typeof e)for(var i in e)t[i]=e[i];else{if("string"!=typeof e)throw new Error("Invalid parameters for init()");t.token=e}return a(t)},createLogStream:a,to:s,destroy:function(e){void 0===e&&(e="default"),delete r[e]},log:function(){for(var e in r)r[e].log.apply(this,arguments)},warn:function(){for(var e in r)r[e].warn.apply(this,arguments)},error:function(){for(var e in r)r[e].error.apply(this,arguments)},info:function(){for(var e in r)r[e].info.apply(this,arguments)}}}(e),o=e.SleekNote;i.init(o?"a78dabea-a262-4195-b62f-1ee0bfe26adf":"2564181e-abb1-4c37-8925-2c99d789f341"),n=function(){return i}()}(this)}.call(this),o=function(e,t,i,n){function o(){try{throw new Error("debug")}catch(i){var e=Array.prototype.slice.call(arguments),t=i.stack.split("\n").slice(2,3).join("").split(":").slice(2,3).join("");e.push("line:",t),console&&console.log.apply(console,e)}}function r(e,t,i){var n=c.CustomInitSettings&&c.CustomInitSettings[e];return void 0===i?n||t:n?t:i}var s=this,a=s.document,c={storageOptions:{useLocalStorage:!1},CustomInitSettings:{},STATUS:{UNKN:1,IGNORE:2,DESKTOP:3,TABLET:4,MOBILE:5}};i(function(e){delete e.filename;var i={message:"crash",details:t.extend({u:String(s.location)},e)},o=i.details;if(o.s&&(o.s=o.s.replace(o.u,"")),c.local)console.log(i);else if(/sleeknote/i.test(e.filename)){if(Math.random(0,1)>.05)return;n.error(i)}});for(var l=s.location,h=function(e,i){var n,o,r={};if(e=e.replace(/[?#]/,""),e=e.split("&").filter(function(e){return!t.empty(e)}),e[0])for(n=0;n<e.length;n++)o=e[n].split("=",2),r[o[0]]=o[1]?i?o[1]:t.decodeURIComponent(o[1].replace(/\+/g," ")):void 0;return r}(!l.search&&l.hash?l.hash:l.search),u=h.sndebug,d=h.snscript,f=a.getElementsByTagName("script"),g=f.length,p="";g--;)if((c.local||~f[g].src.indexOf("sleeknotestaticcontent"))&&~f[g].src.indexOf("core")){p=f[g].src;break}if(d&&p){var m=p.lastIndexOf("/")+1,v=p.substr(0,m),b=p.substr(m);m=d.indexOf("-");var y=~m?d.substr(m):"";if(y&&(y=y.split(".")[0]),d&&b!=(~d.lastIndexOf("/")?d.substr(d.lastIndexOf("/")+1):d)&&~String(d).indexOf(".js")){var w=s.document.createElement("script");throw w.type="text/javascript",w.src=v+d,a.body.appendChild(w),m=d.indexOf("/"),~m&&(v+=d.substr(0,m+1)),c.cssName=v+"sleeknote"+c.Version+y+".css",new Error("Switching to "+w.src)}}return c.debug=u||"",c.reset=h.snreset,c.print=o,c.debugMessage=function(e){var t=c.debug;return t&&(~t.indexOf("1")||e&&~t.indexOf(e))?o:function(){}},c.custom=r,c.getFixedValue=function(){return"fixed"},c.use3D=!(e.is.desktop&&e.is.chrome&&e.is.version<66),c.translateViewportUnitValue=function(t,i){return r("disableScaling")?t:e.translateViewportUnitValue(t,i)},c.viewportScaleFactor=function(t){return r("disableScaling")?+t||1:e.viewportScaleFactor(t)},c.viewportCSSWidth=function(t,i){return e.viewportCSSWidth(t,r("disableScaling"))},c.viewportCSSHeight=function(t,i){return e.viewportCSSHeight(t,r("disableScaling"))},c.isDeviceWidthSite=function(){return e.is.phone&&"isRealMobileSite"in c.CustomInitSettings?!!c.CustomInitSettings.isRealMobileSite:1==c.viewportScaleFactor()},h.snhide||("SleekNote"in s?t.extend(c,s.SleekNote):["CustomerId","HideSleeknoteBadge","SleeknotePiwikSiteId","SleekNotes","SleeknoteGoals"].forEach(function(e){e in s&&(c[e]=s[e],delete s[e])})),c.CustomInitSettings.cookiePath&&(c.storageOptions.cookiePath=c.CustomInitSettings.cookiePath),s.SleekNote.editor||(s.SleekNote={}),c}(e,t,i,n),function(){function i(e,t){var i=e.indexOf("-");if(0===i)return e;var n,o=~i?C.dashSeparatedToCamelCase(e.toLowerCase()):e;return"-"==e.charAt(0)&&(o=o.charAt(0).toLowerCase()+o.substr(1)),n=C.camelCaseToDashSeparated(o),o in A?t?R.map(function(e){return e+n}):T.cssVendor+n:(0===n.indexOf("webkit-")&&(n="-"+n),t?[n]:n)}function n(e,t){function i(e){return"cubic-bezier("+e.join(",")+")"}function n(e){
return e.blink?~e.indexOf("e-")&&(e="0%"):(e<1&&e>0||e<0&&e>-1)&&(e=0),e}function o(e){var t=3==e.length,i=n(e[0]||0),o=n(1==e.length?0:e[1]||0);return(!i.indexOf||i.indexOf("%")<0)&&(i+="px"),(!o.indexOf||o.indexOf("%")<0)&&(o+="px"),"translate"+(t?"3d":"")+"("+i+","+o+(t?","+(e[2]||0):"")+")"}var r=D(t),s=C.isNumeric(t),a=!(r||""!==t&&s);s&&""!==t&&(t=+t);var c,l,h="";if(e=e.toLowerCase().replace(/\-/g,""),/origin/.test(e)&&r)return Math.round(100*t[0])+"% "+Math.round(100*t[1])+"%";if("transform"==e&&r){if((c=t.length)<=5)return c>=4&&+t[3]&&(h="perspective("+t[3]+"px) "),h+=o(D(t[0])?t[0]:t),5==c&&(h+=" "+o(D(t[4])?t[4]:[t[4]])),c>1&&D(t[0])&&(h+=D(t[1])?" rotate3d("+t[1].join()+"deg)":" rotate("+(+t[1]||0)+"deg)",h+=" scale("+(+t[2]||1)+")"),h;if(6==c)return"matrix("+t.join(",")+")"}else{if(C.contains(e,"width","height","left","top","right","bottom")&&r){t=t.filter(function(e){return parseInt(e,10)}).map(function(e){return C.isNumeric(e)?e+"px":e});return t.length>1?"calc("+t.join("")+")":t[0]||"0px"}if("backgroundposition"==e&&r)return function(e){var t=n(e[0]),i=n(1==e.length?0:e[1]);return t.blink||(t+="px"),i.blink||(i+="px"),t+" "+i}(t);if(!a&&0!==t&&(~M.indexOf(","+e)||/width|height|margin|padding|radius|size/.test(e)))return t+"px";if("transitionproperty"==e)return r&&(t=t.join(", ")),t=t.replace(T.cssVendor,""),t.replace("transform",T.cssVendor+"transform");if("display"==e&&!a)return t?"block":"none";if("pointerevents"==e&&!a)return t?"auto":"none";if(("visibility"==e||/overflow/.test(e)||"backfacevisibility"==e)&&!a)return t?"visible":"hidden";if(/delay|duration/.test(e)&&!a)return r&&(t=t.join("ms, ")),t+"ms";if(/timingFunction/.test(e)&&r){if(t[0]===+t[0])return i(t);for(l=0;l<t.length;l++)h+=(l?", ":"")+(D(t[l])?i(t[l]):t[l]);return h}}return void 0!==t&&null!==t||(t=""),t}function o(e,t,o,r){e.style.setProperty(i(t),n(t,o),r?"important":""),"fontFamily"==t&&(e.style.fontFamily=e.style.fontFamily.replace(/\"/g,"'"))}function s(){var e,t,i=Array.prototype.slice.call(arguments);if("object"==C.typeStr(i[1])){i.splice(2,0,""),t=i[1];for(e in t)L.call(t,e)&&(i[1]=e,i[2]=t[e],o.apply(this,i))}else o.apply(this,i)}function a(){var e,t,i=Array.prototype.slice.call(arguments);if(i[0])if(!i[0].nodeName&&(e=i[0].length))for(t=i[0];e--;)i[0]=t[e],s.apply(this,i);else i[0].style&&s.apply(this,i)}function c(e,t,i){if(!t||!t.blink)return"";e.length&&(e=e[0]);var n;"cached"==i&&E?n=E:(n=O(e,null),E=void 0),"seed"==i&&(E=n);var o=n[l(t)];return o&&String(o).indexOf("px")==o.length-2?parseInt(o,10):o}function l(e){e=C.dashSeparatedToCamelCase(e);var t=A[e];return t||e}function h(e,t,i){var o=e;if(void 0===o)return"";"object"!=C.typeStr(e)?(o={},o[e]=t):i=t;var r,s,a=[];for(e in o)if(L.call(o,e)){if(t=n(e,o[e]),"fontFamily"==e&&(t=t.replace(/\"/g,"'")),void 0===t)continue;t=":"+t+";",r=C.dashSeparatedToCamelCase(e),A[r]?i?(s=C.camelCaseToDashSeparated(r),(Array.isArray(i)?i:R).forEach(function(e){a.push(e,s,t)})):a.push(C.camelCaseToDashSeparated(A[r]),t):a.push(C.camelCaseToDashSeparated(r),t)}return a.join("")}function u(e,t,i,n){i||(i=P);var o=C.qsa("#"+I,i)[0];o||(o=i.createElement("style"),o.id=I,(i.head||C.qsa("head",i)[0]||i.documentElement).appendChild(o)),o.sheet.insertRule(e+"{"+t+"}",n||0)}function d(e,t){var i,n,o={};return e&&e.nodeName?(i=e.style,n=i.cssText):(n=h(e),i=e),t.forEach(function(e){o[e]=~n.indexOf(C.camelCaseToDashSeparated(e))?i[e]:""}),C.JSON.stringify(o)}function f(e,t,i,n,o){if(e="data-"+e,t){if(t.hasAttribute(e)){var r=C.JSON.parse(t.getAttribute(e));n.forEach(function(e){i[e]&&(r[e]=i[e],delete i[e])}),t.setAttribute(e,C.JSON.stringify(r))}a(t,i,o)}}function g(e,t,i){t.setAttribute("data-"+e,d(t,Object.keys(i))),a(t,i)}function p(e,t){e="data-"+e,t.hasAttribute(e)&&(a(t,C.JSON.parse(t.getAttribute(e))),t.removeAttribute(e))}function m(){return{height:0,pointerEvents:"none",visibility:0}}function v(e){return h(C.extend({},e||{},m()))}function b(e){return d(e,B)}function y(e){return g("conceal",e,m())}function w(e){return p("conceal",e)}function k(e,t,i){return f("conceal",e,t,B,i)}function S(e,t){var i=e.hasAttribute("data-conceal");i&&w(e);var n=t(e);return i&&y(e),n}function x(e,t){return(e.transform.length>=3&&Array.isArray(e.transform[0])&&e.transform[0][2]>0||Array.isArray(e.transform[4])&&e.transform[4][2]>0||Array.isArray(e.transform[1])&&(e.transform[1][0]||e.transform[1][1]))&&(e.transform[3]=+t||800),e}var C,T,O,E,I,N=this,P=N.document,L=Object.prototype.hasOwnProperty,A={userDrag:"",userSelect:"",flexDirection:"",flexWrap:"",justifyContent:"",alignItems:"",alignContent:"",order:"",flex:"",alignSelf:"",flexGrow:"",flexShrink:"",flexBasis:"",animation:"",animationDelay:"",animationDirection:"",animationDuration:"",animationFillMode:"",animationIterationCount:"",animationName:"",animationPlayState:"",animationTimingFunction:"",transform:"",transformOrigin:"",transformStyle:"",transition:"",transitionDelay:"",transitionDuration:"",transitionProperty:"",transitionTimingFunction:"",perspective:"",perspectiveOrigin:"",backfaceVisibility:""},M=",top,left,bottom,right,perspective",D=Array.isArray,R=["-webkit-","-moz-","-ms-",""],R=["-webkit-","-moz-","-ms-",""],B=Object.keys(m()),_={applyPerspectiveIf:x,addRule:u,set:a,get:c,inline:h,property:l,clear:function(e,t){a(e,t)},overwriteCSS:g,restoreCSS:p,conceal:y,concealedStyle:v,concealedData:b,cssConcealed:k,flashRevealIf:S,reveal:w,addRuleObj:function(e,t){this.addRule(e,h(t)),this.addRule("@media print",e+"{display: none!important;}")}};r=function(e,t){return C=e,T=t,I=C.randomName(),O=C.getComputedStyle,_}(t,e)}.call(this),s=function(e,t){function i(e){if(Array.isArray(e)){var t=new r(e[0],e[1],e[2],e[3]);return function(e,i,o,r){return d(t.solve(e,n((+r||600)/1e3)),0,1,i,o)}}switch(e){case"easeOut":return function(e,t,i){var n;return d((n=e-1)*n*n*n*n+1,0,1,t,i)};case"wall":return function(e,t,i){var n=a(1-a(e,u(2*e)),2);return d(1-h(u(l*e*e))*n,0,1,t,i)};case"linear":return function(e,t,i){return d(e,0,1,t,i)};default:return e===e+""?function(e,t,i){return d(-u(e*c)/2+.5,0,1,t,i)}:e}}function n(e){return 1/(200*e)}function o(){this.duration=0,this.finished,this.started,this.motions=[],this.timer=0,this.animate=this.animate.bind(this),this.add.apply(this,arguments),this.play=this.play.bind(this)}function r(e,t,i,n){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by}var s=this,a=Math.pow,c=Math.PI,l=2.5*c,h=Math.abs,u=Math.cos,d=e.scale,f=e.limit;return o.scale=d,o.makeEaseFunc=i,o.makeFullTransformArray=function(t){return t=e.extend(t),Array.isArray(t[0])?(Array.isArray(t[1])||(t[1]=[0,0,1,t[1]]),Array.isArray(t[4])||(t[4]=[0,0])):t=[t,[0,0,1,0],1,void 0,[0,0]],t},o.blendTransformArray=function(e,t,i){function n(e,t){var n=e.indexOf?e.indexOf("%"):-1;~n&&(e=parseInt(e,10),t=parseInt(t,10));var o=(e+(t-e)*i).toFixed(6);return~n&&(o+="%"),o}if(!Array.isArray(e[0]))return[n(e[0],t[0]),n(e[1],t[1])];var o=[n(e[0][0],t[0][0]),n(e[0][1],t[0][1]),0];i=f(i,0,1);var r=Array.isArray(e[1])?[e[1][0],e[1][1],e[1][2],n(e[1][3],t[1][3])]:n(e[1],t[1]),s=[o,r,e[2]+(t[2]-e[2])*i];return void 0===e[3]&&void 0===t[3]||(s[3]=void 0===e[3]?t[3]:e[3]),void 0===e[4]&&void 0===t[4]||(s[4]=[n(e[4][0],t[4][0]),n(e[4][1],t[4][1])]),s},o.getTransformPos=function(e,t,i){return e[0][0]!=t[0][0]?Math.abs(i[0][0]-e[0][0])/Math.abs(t[0][0]-e[0][0]):e[0][1]!=t[0][1]?Math.abs(i[0][1]-e[0][1])/Math.abs(t[0][1]-e[0][1]):0},o.createMotion=function(i,n,o){var r,s,a=Object.keys(n),c=e.extend(n),l={},h={},u={},d={frame:function(e,d,f){if(f)t.set(i,o);else if(d)t.set(i,n);else{for(r=a.length;r--;)s=a[r],l[s]=h[s]+(u[s]-h[s])*e+c[s];t.set(i,l)}}};for(r=a.length;r--;)s=a[r],c[s]=String(c[s]).replace(/[0-9\-\.]/g,""),h[s]=parseFloat(n[s]),u[s]=parseFloat(o[s]);return d},o.prototype={add:function(){var e,t=0;for(e=Array.isArray(arguments[0])?arguments[0]:arguments;t<e.length;t++)this.motion(e[t]);return this},play:function(e){var t,i=0;if(this.timer)return this;if(!this.motions.length)return e&&e(),this;for(this.startTime=+new Date;t=this.motions[i];i++)t.finished=!1;e&&(this.finished=e);try{this.timer=s.setTimeout(this.animate,13)}catch(e){this.frame(this.duration)}return this},stop:function(){return this.timer&&(s.clearTimeout(this.timer),this.timer=0,this.finished&&this.finished()),this},ffwd:function(){return this.timer&&(this.frame(this.duration),this.stop()),this},motion:function(e){if(e==Object(e)&&e.frame){var t=+e.delay||0,n=+e.duration||400;return e.parent=this,this.motions[this.motions.length]={ease:i(e.ease||"default"),from:+e.from||0,to:+e.to||1,frame:e.frame,duration:n,delay:t,pos:void 0},this.duration=Math.max(this.duration,n+t),e.finished&&(this.finished=e.finished),this}},go:function(e,t){for(var i,n=0;i=this.motions[n];n++)i.pos=t?i.ease(e,i.from,i.to):e,i.frame(i.pos,e<=0,e>=1)},frame:function(e){for(var t,i,n,o,r=0;t=this.motions[r];r++)(i=e-t.delay)<0||t.finished||(n=i>=t.duration,o=void 0===t.pos,t.pos=t.ease(n?1:i/t.duration,t.from,t.to,t.duration),t.frame(t.pos,o,n),t.finished=n,o&&this.started&&(this.started(),this.started=void 0))},playLastFrame:function(){for(var e,t=0;e=this.motions[t];t++)e.frame(1,!1,!0)},animate:function(e){var t=f(Date.now()-this.startTime,0,this.duration);this.frame(t),t>=this.duration?this.stop():this.timer=s.setTimeout(this.animate,13)}},r.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){var i,n,o,r,s,a;for(o=e,a=0;a<8;a++){if(r=this.sampleCurveX(o)-e,h(r)<t)return o;if(s=this.sampleCurveDerivativeX(o),h(s)<1e-6)break;o-=r/s}if(i=0,n=1,(o=e)<i)return i;if(o>n)return n;for(;i<n;){if(r=this.sampleCurveX(o),h(r-e)<t)return o;e>r?i=o:n=o,o=.5*(n-i)+i}return o},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},o}(t,r),a=function(e,t){function i(e,t){return new a(s(e,t))}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e?[e]:e}function o(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}function r(t,i,n){return i&&t?t.filter(function(t){var o=e.matchesSel(t,i);return n?!o:o}):t}function s(t,i){return t?t instanceof a||Array.isArray(t)?t:"object"==typeof t&&(t.nodeType||"setInterval"in t)?[t]:"string"==typeof t&&"<"==t[0]&&">"==t[t.length-1]&&t.length>=3?e.htmlToElement(t):(i||h).querySelectorAll(t):[]}function a(e){var t=e.length;for(this.length=t;t--;)this[t]=e[t];return this}function c(e){var t=e.nodeType;return!(3==t||8==t||2==t)}var l=this,h=l.document;return i.each=function(e,t){var i,n=0;if("length"in e)for(i=+e.length||0;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},i.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},i.bindTo=function(e){var t=function(t,n){return i(t,n||e)};return t.each=i.each,t.hasClass=i.hasClass,t},a.prototype={each:function(e){return i.each(this,e)},attr:function(e,t){if("string"==typeof e&&void 0===t&&this[0])return this[0].getAttribute(e);if("object"!=typeof e){var i={};i[e]=t,e=i}var n=Object.keys(e);return this.each(function(){for(var t,i=0;t=n[i];i++)c(this)&&this.setAttribute(t,e[t])})},prop:function(e,t){if("string"==typeof e&&void 0===t&&this[0])return c(this[0])?this[0][e]:null;if("object"!=typeof e){var i={};i[e]=t,e=i}var n=Object.keys(e);return this.each(function(){for(var t,i=0;t=n[i];i++)c(this)&&(this[t]=e[t])})},css:function(e,i){return"string"==typeof e&&void 0===i&&this[0]?t.get(this[0],e):this.each(function(){t.set(this,e,i)})},remove:function(){this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},show:function(){return this.each(t.conceal)},hide:function(){return this.each(t.reveal)},val:function(){if(this[0]&&1===this[0].nodeType)return e.trim(this[0].value)},children:function(){return i(this.length?o(this[0].firstChild):0)},next:function(e){return i(this.length?r(n(this[0],"nextSibling"),e):0)},not:function(e){return i(r(Array.prototype.slice.call(this),e,!0))},first:function(){return i(this[0])},bind:function(t,i,n){return this.each(function(){e.listener(this,"add",i,n)(t)})},unbind:function(t,i,n){return this.each(function(){e.listener(this,"remove",i,n)(t)})},hasClass:function(e){return i.hasClass(this[0],e)},addClass:function(e){var t,n;for("string"==typeof e&&(e=[e]),t=0,n=e.length;t<n;t++)this.each(function(){e[t]&&!i.hasClass(this,e[t])&&(this.className=this.className?this.className+" "+e[t]:e[t])});return this},removeClass:function(e){var t,i;for("string"==typeof e&&(e=[e]),t=0,i=e.length;t<i;t++)this.each(function(){this.className=this.className.replace(new RegExp("(^|\\s+)"+e[t]+"(\\s+|$)")," ")});return this}},i}(t,r),c=function(e,t,i){function n(e){return t.extend({visibility:"hidden",width:"100%",height:"100%",zIndex:0},e||{},{padding:0,margin:0,border:"none",boxSizing:"border-box",backgroundColor:l?"rgba(255,127,0,0.5)":"transparent",willChange:"transform, opacity, visibility",transitionDuration:0,maxWidth:"100%"})}function o(e){return e.querySelector("."+v)}function r(e){return t.getDocument(o(e))}function s(e,o){var s=h?n(e.style):e.style||{},a=t.insertHTML(e.parent,t.template(h?u:f,{tagName:e.tagName||"span",id:e.id,className:y+" "+(e.className||""),conceal:e.concealed?t.template(p,{data:i.concealedData(s)}):"",style:e.concealed?i.concealedStyle(s):i.inline(s),frame:t.template(o,{id:e.id,className:v})}),e.position||"beforeend"),c=r(a);return c.open(),e.html.querySelector?(c.write("<!doctype html><html>"),Array.prototype.slice.call(e.html.childNodes).forEach(function(e){8!=e.nodeType&&c.write("outerHTML"in e?e.outerHTML:e.textContent)})):c.write(e.html||"<body>"),c.close(),a}function a(e){return s(e,h?d:g)}function c(e,n,r){if(n.width,i.cssConcealed(e,n),!h){var s=o(e);if(r||(r={}),s){if(w.forEach(function(e){e in n&&!(e in r)&&(r[e]=n[e])}),t.empty(r))return;i.cssConcealed(s,r,!0)}}}var l=!1,h=!1,u='<div class="sleeknote" id="{id}" {conceal} style="{style}">{frame}</div>',d='<iframe data-id="{id}" frameBorder=0 allowTransparency=true scrolling=no horizontalscrolling=no verticalscrolling=no style="box-sizing:border-box;background:transparent;height:1px;width:1px;min-width:100%;min-height:100%;display:block;position:absolute;border:none;margin:0;padding:0;"></iframe>',f='<{tagName} id="{id}" class="{className}" {conceal} style="{style}">{frame}</{tagName}>',g="<iframe frameBorder=0 allowTransparency=true scrolling=no horizontalscrolling=no verticalscrolling=no class={className}></iframe>",p="data-conceal='{data}'",m={display:"block!important",position:"static!important",boxSizing:"border-box!important",background:"transparent!important",border:"none!important",minHeight:"0!important",minWidth:"0!important",maxWidth:"none!important",maxHeight:"none!important",margin:"0!important",padding:"0!important",height:"inherit!important",width:"inherit!important"},v=t.randomName();i.addRuleObj("."+v,m);var b={display:"block",position:"relative",top:0,left:0,padding:0,margin:0,border:"none",boxSizing:"border-box",backgroundColor:l?"rgba(255,127,0,0.5)":"transparent",willChange:"transform, opacity",transitionDuration:0,height:0,width:"100vw"},y=t.randomName();i.addRuleObj("."+y,b);var w=["width","height"];return{sleeknoteWrap:y,css:c,insertOLD:function(e){return h=!0,a(e)},insert:a,doc:r}}(0,t,r),l={PROFILE:{UNKN:1,IGNORE:2,DESKTOP:3,TABLET:4,MOBILE:5},POS:{POPUP:5,BOTTOM_LEFT:7,BOTTOM_RIGHT:9,CENTER_LEFT:4,CENTER_RIGHT:6,SLIDEUP:10,SLIDEUP2:11,HELLO:12,HELLO2:17,POPUP2:13,POPUP7:15,POPUP9:16,POPUP5:18},AL:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4},PA:{CENTER:1,INSIDE:2,OUTSIDE:3,RIGHT:4,LEFT:5,BOTTOM:6,TOP:7}},h=function(e,t,i,n,o){function r(e){return e.nodeName?e.getBoundingClientRect():e}function s(e){return Array.isArray(e)?e[0]||e[1]?0:+e[3]||0:e}function a(){this.getAngle=s}function c(e,t,i){this.bounds=i||(t?r(t):void 0),t&&t.nodeName&&(this.elem=t),this.anchor=+e||0,this.translate=[0,0],this.translatePx=[0,0],this.angle=0,this.scale=1}function l(i){var n=this.pos[i];if(Array.isArray(n)){var r=n[1];"left"==i&&-100==n[3]&&(n[1]+=e.verticalScrollbarWidth());var s;s=t.contains(i,"left","right")?o.translateViewportUnitValue(n[3],"width"):o.translateViewportUnitValue(n[3],"height"),this.style[i]=[s+n[0]," - "+(n[2]*n[3]/100-n[1])+"px"],n[1]=r}else this.style[i]=n}function h(e,t){Array.isArray(this.pos[e])?(t=parseInt(t,10),this.pos[e][3]=this.pos[e][3]+t):this.pos[e]=t}var u=n.AL,d=n.PA,f=[{top:0,left:0,bottom:"auto",right:"auto"},{top:0,left:"auto",bottom:"auto",right:0},{top:"auto",left:"auto",bottom:0,right:0},{top:"auto",left:0,bottom:0,right:"auto"}],g=[0,90,180,270],p="inside";return a.prototype={start:function(e,i,n,r,s){if(n!==String(n)){if(n&&n.nodeType)return this.startRelative(e,i,n,r,s);n=n?"absolute":o.getFixedValue()}return this.mirror=s,c.call(this,e,i,r),this.style={position:n,transformOrigin:[.5,.5]},this.pos=t.extend({},f[this.anchor-1]),this.rightStart=this.bottomStart=p,this},startRelative:function(e,t,i,n,o){if(c.call(this,e,t,n),this.style={position:"relative",transformOrigin:[.5,.5]},this.rightStart=this.bottomStart="outside",this.anchor=+e||0,this.mirror=o,this.pos={top:["vh",0,0,0],left:["vw",0,0,0]},i){var s=t.ownerDocument.documentElement,a=r(i);a.width&&a.height||(a=r(i.parentNode)),this.pos.left[2]=s.clientWidth-a.width,this.pos.top[2]=s.clientHeight-a.height}var l=o?100:0;switch(this.anchor){case u.TOP_LEFT:this.pos.left[3]=0-l,this.pos.top[3]=0-l;break;case u.TOP_RIGHT:this.pos.left[3]=100-l,this.pos.top[3]=0-l;break;case u.BOTTOM_RIGHT:this.pos.left[3]=100-l,this.pos.top[3]=100-l;break;case u.BOTTOM_LEFT:this.pos.left[3]=0-l,this.pos.top[3]=100-l}return this},css:function(e){return t.extend(this.style,e),this},origin:function(e,t){return void 0===t&&(t=e),void 0!==e&&(this.style.transformOrigin=[e,t]),this},to:function(e,t){function i(e,t,i){switch(t){case d.CENTER:return e==p?50*i:-50*i;case d.INSIDE:return e==p?0:-100*i;case d.OUTSIDE:return e==p?100*i:0}}switch(void 0===t&&(t=e),this.anchor){case u.TOP_LEFT:this.translate=[i(p,e,-1),i(p,t,-1)];break;case u.TOP_RIGHT:this.translate=[i(this.rightStart,e,1),i(p,t,-1)];break;case u.BOTTOM_RIGHT:this.translate=[i(this.rightStart,e,1),i(this.bottomStart,t,1)];break;case u.BOTTOM_LEFT:this.translate=[i(p,e,-1),i(this.bottomStart,t,1)]}return this},move:function(e,t){if(void 0===t&&(t=e),void 0===e)return this;var i=0,n=0;switch(e&&e===+e&&(i=e,e=0),t&&t===+t&&(n=t,t=0),this.anchor){case u.TOP_RIGHT:i=-i;break;case u.BOTTOM_RIGHT:i=-i,n=-n;break;case u.BOTTOM_LEFT:n=-n}this.translatePx[0]+=i,this.translatePx[1]+=n;var o=Array.isArray(this.pos.top);switch(this.anchor){case u.TOP_LEFT:h.call(this,"top",t),h.call(this,"left",e);break;case u.TOP_RIGHT:h.call(this,"top",t),h.call(this,o?"left":"right",e);break;case u.BOTTOM_RIGHT:this.mirror&&(t="-"+t),h.call(this,o?"top":"bottom",t),h.call(this,o?"left":"right",e);break;case u.BOTTOM_LEFT:this.mirror&&(t="-"+t),h.call(this,o?"top":"bottom",t),h.call(this,"left",e)}return this},rotateScale:function(e,t,i,n){if(this.bounds&&void 0!==e&&void 0!==t){this.scale=+n||1,this.angle=Array.isArray(i)?i:+i||0;var o=s(this.angle)%360;o<0&&(o+=360),~g.indexOf(o)||(o=i=0);var r=o&&o-180,a=r?this.bounds.height:this.bounds.width,c=r?this.bounds.width:this.bounds.height;e!=d.CENTER&&(this.translate[0]+=(e==d.LEFT?-1:1)*(this.bounds.width-a*this.scale)/2/this.bounds.width*100),t!=d.CENTER&&(this.translate[1]+=(t==d.BOTTOM?-1:1)*(c*this.scale-this.bounds.height)/2/this.bounds.height*100)}else this.scale=1,this.angle=0;return this},set:function(e){return i.set(e||this.elem,this.get()),this},get:function(){return this.style.transform=[this.translate[0]+"%",this.translate[1]+"%"],(Array.isArray(this.angle)||this.angle||1!==this.scale||this.translatePx[0]||this.translatePx[1])&&(this.style.transform=[this.style.transform,this.angle,this.scale,void 0,this.translatePx]),["top","left","bottom","right"].forEach(l,this),this.style},prepForTrans:function(e,n,o,s){var a,c;if(String(n.left)==String(o.left)&&String(n.top)==String(o.top)&&String(n.bottom)==String(o.bottom)&&String(n.right)==String(o.right))a=t.extend({},n,{visibility:1});else{var l,h;c=e.style.visibility,i.set(e,n),l=r(e);var u=t.extend({},o,{visibility:0,position:"absolute"});Array.isArray(u.transform[0])&&(u.transform[2]=1);var d=t.insertHTML(e,'<div style="'+i.inline(u)+'"><(div>',"beforebegin");h=r(d),t.removeNode(d),a=t.extend({},o,{visibility:1});var f=l.left+l.width/2-(h.left+h.width/2),g=l.top+l.height/2-(h.top+h.height/2),p=t.extend(Array.isArray(a.transform[0])?a.transform[0]:a.transform),m=(Array.isArray(o.transform[0])?+o.transform[1]||0:0)%360;m<0&&(m+=360);var v=m&&m-180,b=v?h.height:h.width,y=v?h.width:h.height;p[0]=f/(b/1)*100+parseInt(p[0],10)+"%",p[1]=g/(y/1)*100+parseInt(p[1],10)+"%",a.transform=p,Array.isArray(n.transform[0])&&(a.transform=[p,n.transform[1],n.transform[2]]),o.transform[4]&&(a.transform[4]=o.transform[4])}return s?c&&i.set(e,c):i.set(e,a),a}},new a}(e,t,r,l,o),u=function(e,t,i,n,o){function r(n,r,c){var h=t.randomName();l?this.DOMNode=t.insertHTML(r||a.body,"<span id="+h+"></span>","afterbegin"):(this.DOMNode=t.wrapper(h),l=!0),this.mirror=n,this.verticalScrollbar=e.dim.win.width()-e.dim.doc.width();var u={zIndex:c,display:"block",margin:0,padding:0,width:0,height:0,transform:o.use3D?"translateZ(0)":"none",overflow:"visible"};if(this.mirror?(u.bottom=0,u.left=o.viewportCSSWidth()):u.top=u.left=0,r){this.position=this.mirror?"absolute":"relative";var d=r.ownerDocument.documentElement;this.width="calc(100vw - "+(d.clientWidth-r.clientWidth)+"px)",this.height="calc(100vh - "+(d.clientHeight-r.clientHeight)+"px)"}else this.position=o.getFixedValue(),this.height=o.viewportCSSHeight(),this.width=o.viewportCSSWidth();if(u.position=this.position,"relative"==this.position){var f=s.getComputedStyle(this.DOMNode.parentNode);u.left=-parseInt(f.paddingLeft,10),u.top=-parseInt(f.paddingTop,10)}o.debug&&(u.outline="10px red solid"),i.addRuleObj("#"+h,u)}var s=this,a=s.document,c=t.randomName();i.addRuleObj("."+c,{direction:"ltr!important",position:"static",margin:0,padding:0,width:0,height:0,overflow:"visible"});var l=!1;return r.prototype={zIndex:function(e){this.DOMNode.style.zIndex=e},reposition:function(){this.mirror&&i.set(this.DOMNode,{left:o.viewportCSSWidth()})},insert:function(e,i,o,r){return t.gid(e)&&t.removeNode(e),n.insert({parent:t.insertHTML(this.DOMNode,'<div class="'+c+" "+r+" "+e+'"></div>'),id:e,html:o||"",style:i||{},concealed:!0,position:"beforeend"})}},r}(e,t,r,c,o),d=function(e,t,i,n){function o(e){return e%2?e+1:e}function r(e){return i.CustomInitSettings&&i.CustomInitSettings[e]}function s(e){return isNaN(+e.distanceFromEdge)?e.profile==x?10:0:e.profile==k&&100==e.relativeWidth?0:o(+e.distanceFromEdge)}function a(e,t,i){var n,o=-1,r=-1,a=-1,c=-1,l=e.config;if(l.edge&&!i)return l.edge;n=s(l),t||(t=-1);var h=e.controller.manager.badge,u=h&&N.badge(l)?h.dimensions().height+(l.version>1?0:6):0;switch(l.position){case p.SLIDEUP2:case p.SLIDEUP:o=c=n,l.relativeWidth&&100!=l.relativeWidth&&(l.relativeWidth<0?o=-1:c=-1);break;case p.HELLO2:case p.HELLO:o=c=n=0,l.position==p.HELLO?a=0:r=0}switch(l.position){case p.SLIDEUP:"teaser"==l.type?(r=n,a=t):(a=n,r=t);break;case p.SLIDEUP2:a=n,r=t;break;case p.POPUP:case p.POPUP2:case p.POPUP7:case p.POPUP9:"teaser"==l.type?(a=o=c=t,r=n):a=o=c=r=(l.profile==x?0:n)+t;break;case p.CENTER_LEFT:"teaser"==l.type?r=n:o=n;break;case p.CENTER_RIGHT:"teaser"==l.type?r=n:c=n;break;case p.BOTTOM_LEFT:o=Math.max(u,n),r=n,a=c=t;break;case p.BOTTOM_RIGHT:c=Math.max(u,n),r=n,a=o=t}return l.relativeWidth&&(o<0&&(o=n),c<0&&(c=n)),l.edge={top:a,left:o,bottom:r,right:c},l.edge}function c(e){if(!e.relativeWidth)return"0px";switch(e.profile){case k:return e.relativeWidth+"vmin";case S:if(t.contains(e.position,p.HELLO,p.HELLO2))return e.relativeWidth+"vw";return 100/(Math.min(n.dim.screen.width(),n.dim.screen.height())/320)+"vmin"}return e.relativeWidth+"vw"}function l(e){switch(e.position){case p.SLIDEUP:case p.SLIDEUP2:if(e.profile!=x)return!0;break;case p.POPUP:case p.POPUP2:case p.POPUP5:case p.POPUP7:case p.POPUP9:return!0}}function h(e,t,i){switch(e.relativeWidth&&(100!=e.relativeWidth&&"left"!=e.attach||(t.left=~i.left?i.left:0),100!=e.relativeWidth&&"right"!=e.attach||(t.right=~i.right?i.right:0)),e.position){case p.SLIDEUP2:case p.HELLO:t.top=~i.top?i.top:0;break;case p.POPUP5:case p.POPUP2:e.mobile&&(t.bottom=~i.bottom?i.bottom:0);break;case p.SLIDEUP:case p.HELLO2:t.bottom=~i.bottom?i.bottom:0}return t}function u(e){return t.contains(e.position,p.HELLO,p.HELLO2)}function d(e){return t.contains(e.position,p.HELLO)}function f(e,i,n,o){var r=e.config.type,s=e.dimensions({edge:!0}),a=t.extend({description:{name:e.config.name,what:r,to:n,from:i,obj:e}},e.config,s);return a.from=P[r](a,i,o,!1),a.to=P[r](a,n,o,!0),a.to&&(a.duration=a.to.duration,a.delay=a.to.delay,a.ease=a.to.ease,a.duration*=1),a}function g(e,i){var n=t.extend({},e.config,e.dimensions());return n.to=P[e.config.type](n,i),n.next=i,n}var p=e.POS,m=e.PA.CENTER,v=e.PA.INSIDE,b=e.PA.OUTSIDE,y=e.PA.BOTTOM,w=e.PA.TOP,k=e.PROFILE.MOBILE,S=e.PROFILE.TABLET,x=e.PROFILE.DESKTOP,C=e.AL.TOP_LEFT,T={common:{relativeWidth:0,current:"close",adjustableSize:!1,scrollContent:!1,width:0,height:0,attach:"left"},spacer:function(e){var i={bodyTop:{def:"bodyTop",kind:"shared",selector:"body",insert:"afterbegin",style:{width:"100vw",position:"relative"}},selector:{def:"selector",selector:"",kind:"controller",insert:"afterbegin",style:{width:"100%",position:"static"}}},n="object"==t.typeStr(e.placement),o=i.bodyTop;return n?o=i[n.def]:(o=i[e.placement])||(o=i.selector,o.selector=e.placement),t.extend({type:"spacer",id:"sleeknote-spacer-"+("shared"==o.kind?o.selector:e.campaignId),next:e.next,current:e.current,width:e.width,height:e.bounds.height},o,n?e.placement:{})},badge:function(e){return t.extend({},this.common,e||{},{type:"badge"})},cover:function(e){return t.extend({},this.common,{type:"cover",width:i.viewportCSSWidth(),height:n.is.ios?"100vh":i.viewportCSSHeight()})},teaser:function(e){var i=+e.relativeWidth||0,n=e.attach;if(e.profile==k)switch(i=i||100,e.position){case p.POPUP9:case p.BOTTOM_RIGHT:n=n||"right";break;default:n=n||"left"}return t.extend({},this.common,e,{type:"teaser",attach:n,relativeWidth:i,distanceFromEdge:s(e)})},form:function(e){var i,n=+e.relativeWidth||0;switch(e.profile==k&&(n=n||100),e.position){case p.SLIDEUP:case p.SLIDEUP2:n=n||(e.profile==k?100:0);break;case p.HELLO:case p.HELLO2:i=i||'[data-type="toggle"]',n=n||100}return t.extend({},this.common,e,{type:"form",toggle:i,relativeWidth:n})},success:function(e){return t.extend(T.form(e),{type:"success",toggle:void 0})}},O=[.33,.66,.66,1],E=[.32,0,1,.5],I={defaults:{ease:O,duration:300,delay:0,style:{}},create:function(){var e=[{},this.defaults].concat(Array.prototype.slice.call(arguments));return t.extend.apply(null,e)},centerSlideIn:{rotateScale:function(t,i){if(t.rotate){var n="left"==t.halign,o=t.rotate;return[e.PA[o.toUpperCase()],m,90*(n?1:-1),1]}},open:function(t){return I.create({anchor:e.AL[(t.valign||"bottom").toUpperCase()+"_"+(t.halign||"left").toUpperCase()],to:[v,m],move:[0,"50%"],rotateScale:void 0,duration:300})},close:function(e){return I.create(this.open(e),{to:[b,m]})},box:function(e){return this.open(e)}},centerPopupSlide:{open:function(){return I.create({anchor:C,to:[m,m],move:["50%","50%"],animate:{opacity:1},duration:400})},close:function(){return I.create(this.open(),{ease:"easeOut",move:["50%","45%"],animate:{opacity:0},duration:400})},closeDown:function(){return I.create(this.close(),{move:["50%","55%"]})},openSpring:function(){return I.create(this.open(),{duration:600,ease:"wall"})}},centerPopupRotate:{open:function(){return I.create({anchor:C,to:[m,m],move:["50%","50%"],rotateScale:[m,m,[0,1,1,0],1],animate:{opacity:1},duration:300})},close:function(){return I.create(this.open(),{rotateScale:[m,m,[0,1,1,-180],.1],ease:E,animate:{opacity:0}})},close2:function(){return I.create(this.close(),{rotateScale:[m,m,[0,1,1,180],.1]})},openflip:function(){return I.create(this.open(),{style:{backfaceVisibility:"hidden"},ease:[.5,0,.5,1],origin:[0,.5],rotateScale:[m,m,[1,0,0,0],1]})},closeflip:function(){return I.create(this.close(),{style:{backfaceVisibility:"hidden"},ease:[.5,0,.5,1],rotateScale:[m,m,[1,0,0,-180],1],origin:[0,.5],animate:{opacity:1}})},closeflip2:function(){return I.create(this.closeflip(),{rotateScale:[m,m,[1,0,0,180],1]})}},topCenterPopup:{open:function(){return I.create(I.centerPopup.open(),{to:[m,v],move:["50%",0]})},close:function(){return I.create(I.centerPopup.close(),{to:[m,b],move:["50%",0]})}},basicSlideIn:{open:function(t){return I.create({anchor:e.AL[(t.valign||"top").toUpperCase()+"_"+(t.halign||"left").toUpperCase()],to:[e.PA[t.center?"CENTER":"INSIDE"],v],move:t.center?["50%",0]:void 0,rotateScale:void 0,origin:["right"==t.halign?1:"left"==t.halign?0:.5,"bottom"==t.valign?1:"top"==t.valign?0:.5],duration:300})},close:function(t){return I.create(this.open(t),{to:[e.PA[t.center?"CENTER":"INSIDE"],b],ease:E,rotateScale:void 0})},half:function(e){var t=I.create(this.open(e));return t.move||(t.move=[0,0]),t.move[1]=+e.move||0,t}},badgeSlideIn:{open:function(t){var i=(t.halign||"left").toUpperCase();return I.create({anchor:e.AL["BOTTOM_"+("CENTER"==i?"LEFT":i)],to:["CENTER"==i?m:v,v],move:"CENTER"==i?["50%",0]:void 0,rotateScale:"CENTER"==i?void 0:[e.PA[i],y,-90,1],duration:300})},close:function(t){var i=(t.halign||"left").toUpperCase();return I.create(this.open(t),{ease:E,rotateScale:"CENTER"==i?void 0:[e.PA[i],w,-90,1],to:["CENTER"==i?m:v,b]})}},grow:{open:function(e){return I.create({anchor:C,to:[v,v],animate:{paddingTop:e.height}})},close:function(e){return I.create(this.open(e),{animate:{paddingTop:0}})}},fadeIn:{open:function(){return I.create({anchor:C,to:[v,v],ease:"linear",animate:{opacity:1}})},close:function(){return I.create(this.open(),{delay:100,animate:{opacity:0}})}}},N={spacer:function(e){var i=!t.empty(e.placement)&&d(e);return i&&"bodyTop"==e.placement?!r("nospacer"):i},badge:function(e){return!t.contains(e.position,p.HELLO,p.HELLO2)&&(t.contains(e.type,"form","success")&&e.profile==x)},cover:function(e){return!!t.contains(e.type,"form","success")&&l(e)}},P={spacer:function(e,t){return I.grow[t]({height:e.height})},badge:function(e,t){var i="center";switch(e.position){case p.CENTER_LEFT:case p.BOTTOM_LEFT:i="left";break;case p.CENTER_RIGHT:case p.BOTTOM_RIGHT:i="right"}return I.badgeSlideIn[t]({halign:i})},cover:function(e,t){return I.fadeIn[t]()},form:function(e,t,i,n){var o,r,s="topCenterPopup",a=0;switch(e.position){case p.SLIDEUP:case p.SLIDEUP2:o="top",s="basicSlideIn";break;case p.HELLO:s="basicSlideIn",o="top";break;case p.HELLO2:s="basicSlideIn",o="bottom";break;case p.POPUP:case p.POPUP2:s="centerPopupSlide",i&&"form"==e.type&&("teaser"==i&&"open"==t&&(t="openSpring"),"success"==i&&"close"==t&&(t="closeDown"));break;case p.POPUP5:case p.POPUP7:case p.POPUP9:s="topCenterPopup";break;case p.CENTER_LEFT:r="left",o="bottom",s="centerSlideIn";break;case p.CENTER_RIGHT:r="right",o="bottom",s="centerSlideIn";break;case p.BOTTOM_LEFT:s="basicSlideIn",r="left",o="bottom";break;case p.BOTTOM_RIGHT:s="basicSlideIn",r="right",o="bottom"}if("half"==t&&e.toggleDOMNode){var c=e.toggleDOMNode.getBoundingClientRect();if(c.height)switch(e.position){case p.HELLO:case p.HELLO2:a=c.height-e.bounds.height}}return I[s][t]||(t="open"),I[s][t]({halign:r,valign:o,move:a})},success:function(e,t,i,n){return this.form(e,t,i,n)},teaser:function(e,t){var i,n,o,r,s="basicSlideIn";switch(e.position){case p.SLIDEUP:n="bottom",e.attach&&e.relativeWidth<100?i=e.attach:e.profile==k?i="left":r=!0;break;case p.SLIDEUP2:n="top",e.attach&&e.relativeWidth<100?i=e.attach:e.profile==k?i="left":r=!0;break;case p.POPUP:case p.POPUP2:case p.POPUP5:
r=!0,n="bottom";break;case p.CENTER_LEFT:o="left",i="left",n="bottom",s="centerSlideIn";break;case p.CENTER_RIGHT:o="right",i="right",n="bottom",s="centerSlideIn";break;case p.POPUP7:case p.BOTTOM_LEFT:i="left",n="bottom";break;case p.POPUP9:case p.BOTTOM_RIGHT:i="right",n="bottom"}return I[s][t]||(t="open"),I[s][t]({halign:i,valign:n,center:r,rotate:o})}};return{translateRelative:c,paddings:h,defaults:function(e,t){return e in T?T[e](t):t},isSleekBar:u,needs:N,distanceFromEdges:a,animationParameters:f,boxParameters:g}}(l,t,o,e),f=function(e,t,i,n,o,r){function s(e){this.config=e,this.dimensions=function(){return{width:this.config.style.width,height:this.config.height}}}function a(){this.reset()}function c(e){var o=e.config,r=t.qsa(o.selector,h)[0];return o.DOMNode=t.insertHTML(r,t.template('<span class={className} style="{style}"></span>',{className:n.sleeknoteWrap,id:o.id,style:i.inline(o.style)}),o.insert),e}var l=this,h=l.document,u={},d={};return a.prototype={reset:function(){return d={},this},set:function(e){return"close"==e.next&&d[e.id]||(d[e.id]=new s(e)),this},execute:function(){var e;for(e in u)u.hasOwnProperty(e)&&(d[e]?(this.create(d[e]),delete d[e]):this.destroy(u[e]));for(e in d)d.hasOwnProperty(e)&&(this.create(d[e]),delete d[e]);return this},create:function(e){var t=e.config.id;u[t]||(u[t]=c.call(this,e),i.reveal(u[t].config.DOMNode));var n=r.animationParameters(e,"close","open");i.set(e.config.DOMNode,n.to.animate)},destroy:function(e){var n=r.animationParameters(e,"open","close");"shared"==e.config.kind?i.set(e.config.DOMNode,n.to.animate):(t.removeNode(e.config.DOMNode),delete u[e.config.id])}},a}(0,t,r,c,0,d),g=function(e,t,i,n,o,r,s,a,c,l){function h(e){return l.CustomInitSettings&&l.CustomInitSettings[e]}function u(){return w.TL||(w.TL=new s(!1,k?0:m,h("zIndex")))}function d(){return w.BR||(w.BR=new s(!0,k?0:m,h("zIndex")))}function f(){return w.TL||w.BR||d()}function g(e){return w.BR&&w.BR.DOMNode.contains(e)&&w.BR||w.TL&&w.TL.DOMNode.contains(e)&&w.TL}function p(e,i){return Array.isArray(e)?e=t.extend(e):(t.isNumeric(e)&&(e+="px"),e=[e]),i&&(t.isNumeric(i)&&(i=(i<0?" - ":" + ")+i+"px"),e.push(i)),e}var m,v=this,b=v.document,y=t.randomName(),w={TL:void 0,BR:void 0},k=!0;k||(m=t.gid("wrap")||b.body),"hidden"==b.documentElement.style.overflow&&(k=!1);var S,x=!1,C={reposition:function(){w.TL&&w.TL.reposition(),w.BR&&w.BR.reposition()},spacer:new c,getAnchor:function(e){return"tl"==e?u():"br"==e?d():f()},prepareForAnimation:function(e){var i=t.filterMap(e,function(e){if(!t.contains(e.description.what,"cover","badge")&&"close"!=e.description.to){var i=e.description.obj,n=Number(t.getAdvOption(i.controller.config,i.config.profile==a.PROFILE.MOBILE?"zindexes-mobile":"zindexes-desktop","teaser"==i.config.type?1:2));return isNaN(n)&&(n=99999),{zIndex:n,DOMNode:i.config.DOMNode}}});if(i.length){var n=w.TL&&w.TL.DOMNode.contains(i[0].DOMNode)?w.TL:w.BR;n?n.zIndex(i[0].zIndex):i[0].DOMNode.style.zIndex=i[0].zIndex}},cleanup:function(){x||(x=!0)},sandbox:function(){var e=t.gid("sleeknote-sandbox");return e||(f().DOMNode.insertAdjacentHTML("beforeend",'<iframe data-for="layout" id='+y+' style="display:none!important"></iframe>'),e=t.gid(y)),e.name=y,e},prepForTrans:function(e,t,i,n){return r.prepForTrans(e,t,i,n)},css:function(i,n,r,s){var c={};if(s||(s=i[n]),s)return"DOMNode"==n&&"width"in r&&100==i.relativeWidth&&(r=t.extend(r),c.width=t.extend(r.width),r.width=p(r.width,e.systemScrollbarWidth())),!l.editor&&S==a.PROFILE.MOBILE&&"form"==s.type&&"height"in r&&(c.height=p(r.height)),o.css(s,r,c)},doc:function(e){return o.doc(e)},positionBegin:function(t,i,n){var o=g(i);return r[o?"startRelative":"start"](t,i,!o||(e.isPositionValue(o.position,"fixed")?void 0:o.DOMNode),n,o&&o.mirror)},absolutePositionBegin:function(e,t,i){return r.start(e,t,!0,i)},createPositionStyles:function(e,t,i){var n=e[t],o=this.positionBegin(n.anchor,e.DOMNode,e),r=n.style||(n.style={});return e.isHidden&&(r.visibility=0),i||(r.width=e.width,r.height=e.height),Object.keys(n.animate||{}).forEach(function(e){r[e]=n.animate[e]}),o.move.apply(o,n.move).move.apply(o,(e.translatePx||[,]).concat(!0)).to.apply(o,n.to).rotateScale.apply(o,n.rotateScale).origin.apply(o,n.origin).css(r).get()},createBoxPositionStyles:function(e){var i=e.to,n=this.absolutePositionBegin(i.anchor,e.DOMNode,e);return i.move&&(t.isNumeric(i.move[0])&&(i.move[0]=0),t.isNumeric(i.move[1])&&(i.move[1]=0)),n.move.apply(n,i.move).to.apply(n,i.to).get()},createMotion:function(e,o){var r=Object.keys(e.to.animate||{}),s={ease:i.makeEaseFunc(e.ease||"easeOut"),props:["transform"].concat(r),animate:{from:{},to:{}},description:e.description,delay:e.delay||0,duration:e.duration||0,firstProp:function(){return t.extend({},this.from,{transform:i.blendTransformArray(this.animate.from.transform,this.animate.to.transform,0)})},frame:function(e,t,n){function r(e){return o?o(e,t,n):e}var s,a,c={};if(n)return r(this.to);if(t)return r(this.firstProp());for(s=this.props.length;s--;)a=this.props[s],"transform"==a?c.transform=i.blendTransformArray(this.animate.from.transform,this.animate.to.transform,e):e>1?c=this.to:e<0?c=this.firstProp():c[a]=this.animate.from[a]+(this.animate.to[a]-this.animate.from[a])*e;return r(c)}};return s.frame=s.frame.bind(s),e.DOMNode.style.display="block",n.reveal(e.DOMNode),["to","from"].forEach(function(t){s[t]=n.applyPerspectiveIf(this.createPositionStyles(e,t)),"from"==t&&(s[t]=n.applyPerspectiveIf(C.prepForTrans(e.DOMNode,s.from,s.to,!0))),s.animate[t].transform=i.makeFullTransformArray(s[t].transform),r.forEach(function(i){s[t][i]=s.animate[t][i]=e[t].animate[i]})},this),s},insert:function(e,i,n,r,s,c){var f,g=l.debug;s||(s={});var p=e;switch("note"==p&&(p=i.type),s.zIndex=["cover","form","success","teaser","badge"].indexOf(p),e){case"note":if(this.cleanup(),(S=i.profile)!=a.PROFILE.DESKTOP)f=i.position==a.POS.HELLO2?d():"teaser"==p&&i.position!=a.POS.SLIDEUP2?d():u();else if(i.position==a.POS.HELLO){if(!t.empty(i.placement))return o.insert({parent:b.body,id:n,html:r,style:{zIndex:h("zIndex"),position:"absolute"},position:c,concealed:!0});f=u()}else f=d();var m=f.insert(i.name+n,s,r,g?i.name:"");return l.editor&&S!=a.PROFILE.MOBILE?this.css(i,"",{overflow:"hidden"},m):S==a.PROFILE.MOBILE&&t.contains(p,"form","success")&&this.css(i,"",{webkitOverflowScrolling:"touch",overflowY:"auto",overflowX:"hidden",maxHeight:l.viewportScaleFactor(100)+"vh"},m),m;case"badge":case"cover":return f=S==a.PROFILE.DESKTOP?d():u(),f.insert(n,s,r)}}};return C}(e,t,s,r,c,h,u,l,f,o),p=function(e,t,i,n,o,r,s,a){function c(e){return e.isHello?"inline":"tooltip"}function l(e,n,s){var c=e.Y,l=c(n),h=t.querySelectorClosest(n,".form-element, .element");if(h){var u=e.config.formNode,d=h.getBoundingClientRect(),f=u.getBoundingClientRect();g(e);var p=t.insertHTML(u,'<div id="validation-tooltip" style=\'width:auto;overflow:visible;height:auto;color:#fff;font-family:"Helvetica neue", arial, sans-serif;padding:5px 10px;line-height: 16px;font-weight:bold;font-size:11px;text-align:center;background:#ED5757;position:absolute;z-index:9999;border-radius:2px\'>'+s+'<span class="tip" style="position:absolute;top:100%;left:50%;margin-left:-5px;width:0;height:0;border-top:5px solid #ED5757;border-right:5px solid transparent;border-left:5px solid transparent"></span></div>');i.set(p,"opacity",0),(n.offsetWidth-n.clientWidth||n.offsetHeight-n.clientHeight)&&(l.attr("data-default-bordercolor",l.css("border-color")),l.css("border-color","#ED5757")),o.absolutePositionBegin(a.AL.TOP_LEFT,p).move(d.left-f.left+d.width/2,d.top-f.top-10).to(a.PA.CENTER,a.PA.OUTSIDE).set(),new r({duration:200,frame:function(e,n){i.set(p,{top:t.px2rem(18*this.pos-20,!1),opacity:this.pos})}}).play()}}function h(e){var n=e.Y,o=n("#validation-tooltip")[0];o&&(n("input[data-default-bordercolor]").each(function(){var e,t=n(this);(e=t.attr("data-default-bordercolor"))&&t.css("border-color",e)}),o.id="",new r({duration:200,frame:function(e,n){i.set(o,{opacity:1-this.pos}),n&&t.removeNode(o)}}).play())}function u(e,t,n){m={borderColor:i.get(t,"borderColor"),borderWidth:i.get(t,"borderWidth"),borderStyle:i.get(t,"borderStyle"),boxShadow:i.get(t,"boxShadow")},i.set(t,{borderColor:"#ED5757",borderWidth:1,borderStyle:"solid",boxShadow:"0px 0px 10px 3px #ED5757"}),p=t}function d(e){i.set(p,m)}function f(e,t,i){switch(c(e)){case"inline":u(e,t,i);break;default:l(e,t,i)}}function g(e){switch(c(e)){case"inline":d(e);break;default:h(e)}}var p,m={};return{show:f,hide:g}}(0,t,r,0,g,s,0,l),m=function(e,t,i,n,o){function r(n,r,s){function a(e){n(e+" form")[0]&&(n(e+" .sleeknoteMobileClose").css({borderTopRightRadius:10,borderTopLeftRadius:10}),n(e+" form .row:first-child .column").each(function(){var e=parseInt(i.get(this,"paddingTop"),10);i.set(this,"paddingTop",e+40)}))}function c(e,i){var o=s.doc.createDocumentFragment(),r=n(e+" form .column"),a=i.CustomInitSettings&&i.CustomInitSettings.allowMobileImages;if(r.length){r.each(function(e){(!a||"array"==t.typeStr(a)&&-1==a.indexOf(i.campaignId)||a!=i.campaignId)&&n('[data-sn-type="image"]',this).remove(),this.children.length&&(1==this.children.length&&n(this.children[0]).hasClass("column-bg")||o.appendChild(this))});var c=n(e+' form [data-sn-type="grid"]')[0];if(c){c.innerHTML="";for(var l,h,u,d=o.children.length-1,f=0;l=o.children[0];)u={top:0,bottom:0,left:0,right:0,width:"100%",height:"100%",borderTopRightRadius:"0px",borderTopLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomLeftRadius:"0px"},f?f==d&&(u.borderBottomRightRadius=10,u.borderBottomLeftRadius=10):(u.borderTopRightRadius=10,u.borderTopLeftRadius=10,f==d&&(u.borderBottomRightRadius=10,u.borderBottomLeftRadius=10)),n(".column-bg",l).css(u),f+=1,h=s.doc.createElement("div"),h.className="row",h.appendChild(l),c.appendChild(h);n(e+' form [data-sn-type="close"]').remove(),n(e+' form [data-sn-type="sticker"]').remove(),n(e+' form [data-sn-type="grid"]').css("width","100%"),n(e+" .column").css("width","100%"),n(e+" form").css("float","none"),n(e).css("width","100%")}}}if(r.version<3&&(c("#sleeknoteBox",r),c("#sleeknoteSuccess",r)),n(".fb-container").css(v),n(".fb_iframe_widget span").first().css(m),!t.contains(r.position,o.POS.HELLO,o.POS.HELLO2)){var l={position:"absolute",left:0,top:0,"z-index":9999,background:"#fff",width:"100%","text-align":"right",color:"#474747","font-family":"'Helvetica Neue', arial, sans-serif","font-style":"italic","font-size":14,"border-bottom":"1px solid #ddd",height:40},h='<img src="//sleeknoteimages.sleeknote.com/mobile-close'+(e.is.retina?"_retina":"")+'.png" class="mobile-close-icon" style="cursor:pointer;position:absolute;right:7px;top:7px;'+(e.is.retina?"width:26px;":"")+'">',u='<div class="sleeknoteMobileClose" style="'+i.inline(l,!0)+'">'+h+"</div>";if(n(t.insertHTML(n("#sleeknoteBox")[0],u)),a("#sleeknoteBox"),r.badge){var d="//sleeknote.com/?utm_source=Badge&utm_medium="+r.type+"&utm_campaign="+r.hostname;t.insertHTML(s.doc.querySelector(".sleeknoteMobileClose"),'<a target="_blank" href="'+d+'" style="opacity:0.5;position:relative;display:block;width:120px;height:40px;background:url(//sleeknoteimages.sleeknote.com/badge.svg);background-size: 77px 20px; background-repeat: no-repeat; background-position: 20px 10px;"></a>')}n(t.insertHTML(n("#sleeknoteSuccess")[0],u)),a("#sleeknoteSuccess")}}function s(n,r,s){var a=[];if(r.version<3&&n("#SNForm").length>0){a=[],n("#SNForm .form-element").each(function(){var e=n(this);"hidden"!=e.children().first().attr("type")&&a.push({obj:e,height:this.offsetHeight,topPosition:i.get(this,"top")})});var c=function(e,t){return e.topPosition-t.topPosition};a.sort(c);var u=0;n.each(a,function(e){var t=e;e>0&&(u=u+a[e-1].height+10),n.each(a,function(e){0===t?a[e].obj.css("top",0):e>=t&&a[e].obj.css("top",u)})});var d=0,f=0;n("#SNForm .form-element").each(function(){var e=i.get(this,"top");e>d&&(d=e,f=e+this.offsetHeight)}),n("#SNForm").css("height",f)}t.contains(r.position,o.POS.HELLO,o.POS.HELLO2)||(n("#sleeknoteBox").css(l),n("#sleeknoteSuccess").css(h)),r.version<3&&(n("#sleeknoteBox > *, #sleeknoteSuccess > *").each(function(){(this.style.float||this.style.width)&&i.set(this,{width:"100%","max-width":"100%"})}),n("#sleeknoteSuccess, #sleeknoteBox").css("background-image","none"),n('input[type="text"], input[type="email"], input[type="telephone"]').css(g),n(".fb-container").css(v),n('.SNTextEdit, .text-container, button, .SNTextEdit, .SNCTAEdit, .form-element, form, input[type="text"], input[type="email"], iframe, .fb_iframe_widget').css(m),n(".fb_iframe_widget span").first().css(m),n(".SNTextEdit, .text-container, #SNForm, .SNCTAEdit").css(y),n(".form-element").css(b),n("img, .SNCloseButton, .image-container").remove(),n('input[type="radio"]').next("label").css(p),n("img").not(".mobile-close-icon").remove());var w={position:"absolute",left:0,top:0,"z-index":9999,background:"#fff",width:"100%","text-align":"right",color:"#474747","font-family":"'Helvetica Neue', arial, sans-serif","font-style":"italic","font-size":14,"border-bottom":"1px solid #ddd",height:40};if(!t.contains(r.position,o.POS.HELLO,o.POS.HELLO2)){var k='<img src="//sleeknoteimages.sleeknote.com/mobile-close'+(e.is.retina?"_retina":"")+'.png" class="mobile-close-icon" style="cursor:pointer;position:absolute;right:7px;top:7px;'+(e.is.retina?"width:26px;":"")+'">',S='<div class="sleeknoteMobileClose" style="'+i.inline(w,!0)+'">'+k+"</div>";if(r.badge){var x="//sleeknote.com/?utm_source=Badge&utm_medium="+r.type+"&utm_campaign="+r.hostname;t.insertHTML(s.doc.querySelector(".sleeknoteMobileClose"),'<a target="_blank" href="'+x+'" style="opacity:0.5;position:relative;display:block;width:120px;height:40px;background:url(//sleeknoteimages.sleeknote.com/badge.svg);background-size: 77px 20px; background-repeat: no-repeat; background-position: 20px 10px;"></a>')}n(t.insertHTML(n(r.id)[0],S))}}var a=60,c={"-webkit-transform-origin":"none","-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none","-o-transform":"none",transform:"none"},l={position:"relative",width:"100%",top:"10px",margin:"0px",border:"none",bottom:"auto",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 20px 20px","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%","background-image":"none"},h={position:"static",width:"100%",top:"0px",bottom:"auto",margin:"0px",border:"none",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 20px 20px","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%"},u={width:"100%",bottom:"initial",left:"initial",right:"initial",top:"0px"},d={"line-height":"38px","text-align":"center","font-size":"16px !important"},f={position:"static",top:"initial",bottom:"initial",left:"initial",right:"initial","min-height":"40px"},g={"font-size":"16px","-webkit-user-modify":"read-write-plaintext-only"},p={padding:"1px 0px 1px 25px"},m={width:"100%","line-height":"initial"},v={"text-align":"center"},b={left:"auto",right:"auto"},y={position:"relative",top:"initial",bottom:"initial",left:"initial",right:"initial"};return{prepare:function(g,p){function b(e){k('[data-sn-type="close"]').css({zIndex:1})}function y(e){e.profile==o.PROFILE.MOBILE&&(k("#sleeknoteMinified").css(u),e.version<3&&(k(".text-container").css(f),k(".text-container, .SNTextEdit").css(m),k(".SNTextEdit").css(v),k("p").css(d),k('#sleeknoteMinified [data-sn-type="grid"]').css({width:"100%"}),k("#sleeknoteMinified img").remove()))}var w=g.config,k=g.Y,S=0,x=function(){S||("teaser"==w.type?y(w):w.mobile?2==w.version?r(k,w,g):s(k,w,g):b(k),p&&p())};k("input").bind("keypress",function(e){e=t.normalizedEvent(e),13==e.which&&(t.preventDefault(e),t.click(g.doc.querySelector('[data-section="Button"]'),e))}),k("input").bind("focus",function(e){n.hide(g)}),function(t){1==t.version&&(k("#sleeknoteMinified").css(c),e.is.ie&&i.addRule("p,li","line-height: 1.18",g.doc))}(w),function(i){2==i.version&&(function(){k("body [style]").each(function(){var i=this.style,n=this.getAttribute("style");if(~n.indexOf("-webkit-")&&!("webkitTransform"in i)&&t.empty(i.transform)&&(this.setAttribute("style",n.replace(/-webkit-/g,"")),e.is.ie&&1==this.parentNode.querySelectorAll(".element").length)){var o=this.parentNode.style.verticalAlign,r=this.parentNode.getBoundingClientRect(),s=g.win.getComputedStyle(this).transform.replace(/^.*\((.*)\)$/g,"$1").split(/, +/),a=+s[5];"middle"==o&&(a+=r.height/2),this.style.transform="translate("+s[4]+"px, 0)",this.style.top=a+"px"}})}(),k(".row").css("tableLayout","fixed"),k("form").css("padding","0px"),k("#sleeknoteMinified, #sleeknoteSuccess, #sleeknoteBox").each(function(){var e=k('[data-sn-type="close"]',this)[0],t=k('[data-sn-type="grid"]',this)[0].parentNode,i=t.getBoundingClientRect();k('[data-sn-type="sticker"]',this).each(function(){var n=this.getBoundingClientRect();k(this).css({top:n.top-i.top,left:n.left-i.left,transform:""}),t.insertBefore(this,e)})}))}(w),function(e){1!=e.version&&(k(".linkbutton, img").each(function(){var e=k(this).attr("data-sn-custom-href"),t=k(this).attr("data-sn-custom-step"),i=k(this).attr("data-sn-custom-email");(e||t||i)&&k(this).css({cursor:"pointer"})}),k("a").each(function(){var e=k(this).attr("target"),i=k(this).attr("data-sn-custom-href")||k(this).attr("data-sn-custom-email");t.empty(i)&&t.empty(e)&&k(this).attr("target","_blank")}))}(w),function(e){3==e.version&&(a=40,c={"-webkit-transform-origin":"none","-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none","-o-transform":"none",transform:"none"},l={position:"relative",width:"100%",top:"10px",margin:"0px",border:"none",bottom:"auto",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 0px 0px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%","background-image":"none"},h={position:"static",width:"100%",top:"0px",bottom:"auto",margin:"0px",border:"none",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 0px 0px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%"})}(w),g.doc.querySelectorAll(".fb-container").length&&(S++,t.loadScript("//connect.facebook.net/en_US/all.js",function(){g.win.FB.init({appId:"684387618256004",status:!0,cookie:!0,xfbml:!0,oauth:!0}),g.win.FB.Event.subscribe("edge.create",function(e){g.message({type:"aftersubmit",from:w,target:"Facebook"}),g.win.socialSubmitSleeknoteBox()}),S--,x()},"facebook-jssdk",g.doc)),g.doc.querySelectorAll(".twitter-follow-button, .twitter-share-button").length&&(S++,t.loadScript("//platform.twitter.com/widgets.js",function(){g.win.twttr.events.bind("tweet",function(e){g.message({type:"aftersubmit",from:w,target:"Twitter"}),g.win.socialSubmitSleeknoteBox()}),g.win.twttr.events.bind("follow",function(e){g.message({type:"aftersubmit",from:w,target:"Twitter"}),g.win.socialSubmitSleeknoteBox()}),S--,x()},"twitter-wjs",g.doc)),x()}}}(e,t,r,p,l),v=function(e,t,i,n,o){function r(e,i){function o(t){var i=(e.win.navigator.userLanguage||e.win.navigator.language).split("-")[0],n="Error";return"email-error"==t?n="da"==i?"Denne email er ikke gyldig.":"de"==i?"Ungltige E-Mail-Adresse.":"This email is not valid.":(t="required-error")&&(n="da"==i?"Dette felt er pkrvet.":"This field is required."),n}function r(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function s(e,t,i){return i&&"email"==t||"true"==e.attr("data-required-field")||"required"==e.attr("data-user-required")||"true"==e.attr("data-user-required")||"true"==e.attr("data-required")||"true"==e.attr("data-required")&&"false"!=e.attr("data-required-field")}var a=e.Y,c=!0;i=i||!1,n.hide(e);var l=[],h=[];return a("input, textarea").each(function(){var u=a(this),d=u.attr("type");if("hidden"!=d){var f=s(u,d,i),g="text"==d||"number"==d||"TEXTAREA"==u.prop("nodeName");return f&&"email"==d&&!r(this.value)?(n.show(e,this,o("email-error")),c=!1,!1):g&&f&&!t.trim(this.value).length?(n.show(e,this,o("required-error")),c=!1,!1):"checkbox"==d&&f&&!this.checked?(n.show(e,this,o("required-error")),c=!1,!1):void("radio"==d&&f&&(this.checked&&h.push(this.name),l.filter(function(e){return e.name==this.name},this).length||l.push({name:this.name,element:this})))}}),l.forEach(function(t){if(-1==h.indexOf(t.name))return n.show(e,t.element,o("required-error")),c=!1,!1}),a("select").each(function(){if(s(a(this),"select",i)&&this.selectedIndex<1)return n.show(e,this,o("required-error")),c=!1,!1}),c}return r}(0,t,0,p),b=function(e,t){function i(e,i){this.callback=i,this.elem=e,t.listener(this.elem,"add",this,!0)("touchstart")("touchmove")("touchend")("touchcancel")}function n(e){return Math.pow(e,2)}function o(e,i){return t.listener(e,"add",i,!0)("click"),function(){t.listener(e,"remove",i,!0)("click")}}return i.prototype={destroy:function(){this.elem&&t.listener(this.elem,"remove",this,!0)("touchstart")("touchmove")("touchend")("touchcancel")},handleEvent:function(e){switch(e.type){case"touchstart":this.moved=!1,this.start=t.eventXY(e);break;case"touchmove":var i=t.eventXY(e);this.moved||(this.moved=n(i.x-this.start.x)+n(i.y-this.start.y)>n(10));break;case"touchend":case"touchcancel":this.moved||this.callback(e)}}},{listen:o}}(0,t),y=function(e,t,i,n){function o(e,t){for(var i,n=e.nodes?e.nodes.length:0;n--;)if(i=e.nodes[n],t==i.id)return i}function r(){this.container,this.tree,this.history=[]}var s=this,a=s.document,c='<span data-id="{id}" class="{className}">{text}';return r.prototype={start:function(i,o){i=i||{};var r=i.doc||s.document;if((!i||"form"==i.config.name)&&("string"==typeof o&&(o=JSON.parse(o)),o&&(!o.campaignId||i.config.campaignId==o.campaignId))){var a=e.qsa("#"+o.elementId,r)[0];if(!a){var c=e.qsa('[data-sn-type="bot"]',r);c.length&&(a=c[0])}if(a){a.innerHTML='<div class=container style="pointer-events:auto"></div>',this.container=e.qsa(".container",a)[0],this.tree=o.tree.nodes;var l=e.querySelectorClosest(a,"#sleeknoteBox");l=e.qsa(".sleeknoteMobileClose",l)[0],l&&(t.set(l,{background:"#4B4DD1",padding:"5px",color:"#fff",borderBottom:"none"}),l.innerHTML='<div class="logo"><div class="logo-icon"><img src="//sleeknotestaticcontent.sleeknote.com/avatar-robot.svg"></div><h1 class="logo-caption">SleekBot</h1></div><div class="close-button"><img src="//sleeknotestaticcontent.sleeknote.com/icon-close-bot.svg"></div>',l.id="botclosebutton"),this.scrollIntoView=this.scrollIntoView.bind(this),this.removeListener=n.listen(this.container,this.onClick.bind(this)),this.init()}}},scrollIntoView:function(){var e=this.container.lastElementChild;e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()},onClick:function(t){var i;i=t.target?e.querySelectorClosest(t.target,"[data-id]"):t.target;var n=i.getAttribute("data-id");if(n)if("ok"==n)this.init();else{var r=e.querySelectorClosest(t.target,".chat");if(!r)return;var a=+r.getAttribute("data-id"),c=o(this.history[a],n);if(!c)return;this.history[a].selected=n,this.history.splice(a+1,this.history.length),this.container.innerHTML="",c.nodes&&c.nodes.length>0&&(1==c.nodes.length&&(c.nodes[0].selected=-1),this.history.push(c.nodes[0])),this.history.forEach(function(e,t){this.render(e,t,n)},this),s.setTimeout(this.scrollIntoView(),100)}},getNodeHTML:function(t,i,n){var o="",r="";if(t){o=e.template(c,{id:t.id,text:t.text});for(var s,a=t.nodes?t.nodes.length:0,l=0;l<a;)s=t.nodes[l++],r+=e.template(c,{className:t.selected==s.id?"selected":"",id:s.id,text:s.text})}else r=e.template(c,{id:"top",text:"Let's start over"});return e.template('<div class=chat data-id={sid}>{welcome}<div class="message bot footer" style="{hstyle}"><div class="col-small"><div class="avatar bot"><img src="//sleeknotestaticcontent.sleeknote.com/avatar-robot.svg"/></div></div><div class="col-large right"><div class="header text">{header}</div></div></div><div class="message visitor footer" style="{fstyle}"><div class="col-large left"><div class="footer text options">{footer}</div></div><div class="col-small"><div class="avatar visitor"><img src="//sleeknotestaticcontent.sleeknote.com/avatar-visitor.svg"/></div></div></div></div>',{sid:i,welcome:this.history.length<=1?'<div class="welcome-splash"><img src="//sleeknotestaticcontent.sleeknote.com/illustration-robot.svg"><h2>SleekBot</h2><p>Your Personal Virtual Assistant</p></div>':"",header:o,footer:r,hstyle:o?"":"display:none"})},render:function(e,t,i){var n=a.createRange().createContextualFragment(this.getNodeHTML(e,t,i)).childNodes[0];this.container.appendChild(n)},init:function(){this.tree.selected=-1,this.container.innerHTML="",this.history.length=0,this.render(this.tree,0,-1),this.history.push(this.tree)},stop:function(){this.removeListener()}},r}(t,r,0,b),function(){function e(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function t(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function i(e,t,i){var n;for(e=i?Math.floor(e/f):e>>1,e+=Math.floor(e/t),n=0;e>(d-g)*p>>1;n+=d)e=Math.floor(e/(d-g));return Math.floor(n+(d-g+1)*e/(e+m))}function n(e,t){return(e-=(e-97<26)<<5)+((!t&&e-65<26)<<5)}function o(t,n){var o,r,s,a,f,m,b,y,w,k,S,x,C,T=[],O=[],E=t.length;for(o=l,s=0,a=h,f=t.lastIndexOf(u),f<0&&(f=0),m=0;m<f;++m){if(n&&(O[T.length]=t.charCodeAt(m)-65<26),t.charCodeAt(m)>=128)throw new RangeError("Illegal input >= 0x80");T.push(t.charCodeAt(m))}for(b=f>0?f+1:0;b<E;){for(y=s,w=1,k=d;;k+=d){if(b>=E)throw RangeError("punycode_bad_input(1)");if((S=e(t.charCodeAt(b++)))>=d)throw RangeError("punycode_bad_input(2)");if(S>Math.floor((v-s)/w))throw RangeError("punycode_overflow(1)");if(s+=S*w,x=k<=a?g:k>=a+p?p:k-a,S<x)break;if(w>Math.floor(v/(d-x)))throw RangeError("punycode_overflow(2)");w*=d-x}if(r=T.length+1,a=i(s-y,r,0===y),Math.floor(s/r)>v-o)throw RangeError("punycode_overflow(3)");o+=Math.floor(s/r),s%=r,n&&O.splice(s,0,t.charCodeAt(b-1)-65<26),T.splice(s,0,o),s++}if(n)for(s=0,C=T.length;s<C;s++)O[s]&&(T[s]=String.fromCharCode(T[s]).toUpperCase().charCodeAt(0));return c.encode(T)}function r(e,o){var r,s,a,f,m,b,y,w,k,S,x,C;o&&(C=c.decode(e)),e=c.decode(e.toLowerCase());var T=e.length;if(o)for(b=0;b<T;b++)C[b]=e[b]!=C[b];var O=[];for(r=l,s=0,m=h,b=0;b<T;++b)e[b]<128&&O.push(String.fromCharCode(C?n(e[b],C[b]):e[b]));for(a=f=O.length,f>0&&O.push(u);a<T;){for(y=v,b=0;b<T;++b)(x=e[b])>=r&&x<y&&(y=x);if(y-r>Math.floor((v-s)/(a+1)))throw RangeError("punycode_overflow (1)");for(s+=(y-r)*(a+1),r=y,b=0;b<T;++b){if((x=e[b])<r&&++s>v)return Error("punycode_overflow(2)");if(x==r){for(w=s,k=d;S=k<=m?g:k>=m+p?p:k-m,!(w<S);k+=d)O.push(String.fromCharCode(t(S+(w-S)%(d-S),0))),w=Math.floor((w-S)/(d-S));O.push(String.fromCharCode(t(w,o&&C[b]?1:0))),m=i(s,a+1,a==f),s=0,++a}}++s,++r}return O.join("")}function s(e){for(var t=e.split("."),i=[],n=0;n<t.length;++n){var o=t[n];i.push(o.match(/[^A-Za-z0-9-]/)?"xn--"+r(o):o)}return i.join(".")}function a(e){for(var t=e.split("."),i=[],n=0;n<t.length;++n){var r=t[n];i.push(r.match(/^xn--/)?o(r.slice(4)):r)}return i.join(".")}var c={decode:function(e){for(var t,i,n=[],o=0,r=e.length;o<r;){if(55296==(63488&(t=e.charCodeAt(o++)))){if(i=e.charCodeAt(o++),55296!=(64512&t)||56320!=(64512&i))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");t=((1023&t)<<10)+(1023&i)+65536}n.push(t)}return n},encode:function(e){for(var t,i=[],n=0,o=e.length;n<o;){if(55296==(63488&(t=e[n++])))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");t>65535&&(t-=65536,i.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),i.push(String.fromCharCode(t))}return i.join("")}},l=128,h=72,u="-",d=36,f=700,g=1,p=26,m=38,v=2147483647,b={encodePuny:s,decodePuny:a};w=function(){return b}()}.call(this),k=function(e,t){function i(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;this.set.apply(this,e)}function n(t,i){var n,o,r={};if(t=t.replace(/[?#]/,""),t=t.split("&").filter(function(t){return!e.empty(t)}),t[0])for(n=0;n<t.length;n++)o=t[n].split("=",2),r[o[0]]=o[1]?i?o[1]:e.decodeURIComponent(o[1].replace(/\+/g," ")):void 0;return r}function o(e,t){return l.href=r(e,t),new i(t,l.hostname,l.pathname,l.search,l.hash,l.port).toString()}function r(e,t){return t||(t="http:"),/^\/\//i.test(e)||(t+="//"),/^https?:\/\//i.test(e)||(e=t+e),e}function s(e,t){l.href=e;var n,o=l.pathname.replace(".aspx","").replace(".html","").replace(".htm","").replace(".php",""),r=i.prototype.queryParams.call(l,!0),s=!l.search&&l.hash,a=[];for(n in r)if(r.hasOwnProperty(n)){if(!(n.indexOf("utm_")&&n.toLowerCase().indexOf("sndebug")&&n.toLowerCase().indexOf("snscript")&&n.toLowerCase().indexOf("snreset")&&n.toLowerCase().indexOf("snsubscribed")))continue;a.push(n+(void 0===r[n]?"":":"+r[n]))}return a=a.join("&"),e=new i(l.protocol,l.hostname,o,s?"":a,s?a:t?"":l.hash,l.port),e=e.toString().replace(/\/$/g,""),e=e.replace(/:\/\/www\./g,"://")}function a(e,t){if(t&&(a.loc=void 0),!a.loc){var n=e.local===String(e.local)?i.fromString(e.local):c.location;a.loc=new i(["protocol","hostname","pathname","search","hash","port"].map(function(e){var t;return"pathname"==e&&"/"==n[e]?c.location[e]:(t=n[e]||c.location[e],"hostname"==e&&(t=t.replace(/^www\./,"")),t)}))}return a.loc}var c=this,l=c.document.createElement("a");return i.fromString=function(e){return l.href=t.decodePuny(e),new i(l.protocol,l.hostname,l.pathname,l.search,l.hash,l.port)},i.extractDomain=function(i){return"string"!=e.typeStr(i)||e.empty(i)?"":(i=t.decodePuny(i),l.href=s(o(i,c.location.protocol),!0),l.hostname)},i.prototype={domainMatches:function(e){return e=t.decodePuny(e),l.href=s(o(e,this.protocol),!0),this.hostname==l.hostname},matches:function(e){e=t.decodePuny(e),e=s(o(e,this.protocol),!0).toUpperCase();var i,n=s(this.toString(),!0).toUpperCase(),r=e.indexOf("*");if(~r){var a=e.split("*")[0];return i=s(a).toUpperCase(),"/"==a[a.length-1]&&a.split("/").length>4&&(i+="/"),0===n.indexOf(i)||0===(n+"/").indexOf(i)}return n==e},contains:function(e){return e=e||"",s(this.toString(),!0).toUpperCase().indexOf(e.toUpperCase())>-1},queryParams:function(e){return!this.search&&this.hash?n(this.hash,e):n(this.search,e)},toString:function(){return this.href},set:function(e,t,i,n,o,r){e||(e="http:"),o=o?("#"==o.charAt(0)?"":"#")+o:"",n=n?("?"==n.charAt(0)?"":"?")+n:"",r||(r=""),i||(i=""),i&&"/"!=i.charAt(0)&&(i="/"+i),t=(t||"").split(":")[0],80!=r&&443!=r||(r="");var s=e+"//"+t+(r?":"+r:"");return this.hash=o,this.search=n,this.port=r||"",this.origin=s,this.protocol=e,this.href=s+i+n+o,this.hostname=t,this.pathname=i,this.host=t,this}},i.get=a,i.reset=function(e){return a(e,!0)},i}(t,w),S=function(e,t){function i(e,t,i){switch(e){case"load":return{type:e,command:t};case"ready":t=t.origin;var n,o={},r={};for(n in t.notes)r[n]={name:n,DOMNode:t.notes[n].config.DOMNode},o[n]=t.notes[n].config.DOMNode;return{type:e,campaignId:t.config.campaignId,boxes:r,DOMNodes:o};case"after":return{type:"close"==t.action?"exit":"entry",campaignId:t.origin.config.campaignId,box:{name:t.noteName,DOMNode:t.origin.notes[t.noteName].config.DOMNode}};case"submit":return{type:e,campaignId:t.campaignId,data:i}}}function n(e,t,n){var o=r.createEvent("Event");o.initEvent("sleekNote",!0,!0),o.data=i(e,t,n),r.dispatchEvent(o)}var o=this,r=o.document;return n}(),x=function(e,t,i,n,o,r,s,a,c,l,h,u,d,f,g){function p(e){return 0===e&&(e=I),{paddingTop:e.top,paddingRight:e.right,paddingBottom:e.bottom,paddingLeft:e.left}}function m(e){function t(e){var t=0;return s.forEach(function(i,n){if(i.contains(e))return t=n,!1}),t}var o=[],r=function(e,t){return 100*e.containerIndex+e.order-(100*t.containerIndex+t.order)||e.top-t.top||e.left-t.left},s=w(e,".flex-container");w(e,".form-element, .element").forEach(function(e){n(e).children().each(function(n,r){if(("INPUT"==r.nodeName||"TEXTAREA"==r.nodeName||"BUTTON"==r.nodeName)&&"hidden"!=r.getAttribute("type")){r.getAttribute("data-sn-custom-value")&&r.setAttribute("value",r.getAttribute("data-sn-custom-value"));var n=t(r);o.push({obj:r,
top:i.get(e,"top")||i.get(e.parentElement,"top"),left:i.get(e,"left")||i.get(e.parentElement,"left"),order:i.get(e,"order")||i.get(e.parentElement,"order"),containerIndex:n||0})}})}),o.sort(r),n.each(o,function(e,t){t.obj.setAttribute("tabindex",e+1)})}function v(e,i,n){if("_blank"==n){var o=e.target.ownerDocument.body;o.insertAdjacentHTML("beforeend",'<a style="width:0;height:0" href="'+i+'" target="_blank"></a>'),t.click(o.lastElementChild,e)}}function b(e){return u.extractDomain(e)}function y(e){return e%2?e+1:e}function w(e,t){return Array.prototype.slice.call(e.querySelectorAll(t||":not(*)"))}function k(){var e=this.config,n=e.boxNode,o=e.formNode=n.querySelector("form")||n;e.version=+e.version||0,w(this.doc.body,".inline-editor span").forEach(function(e){t.slice(e.childNodes).forEach(function(e){3==e.nodeType&&(e.textContent=e.textContent.replace(/\\'/g,"'"))})}),x||"form"!=e.type||(w(this.doc.body,'.flexbox [style*="display:none"]').forEach(function(e){w(e,"input").forEach(function(e){if("hidden"!=e.type){var i=t.parseNodeValue(e),n={};void 0!==i&&(n[e.name]=i,this.insertOrReplaceHiddenInputs(n))}},this),t.removeNode(e)},this),l.CustomInitSettings.acceptCharset&&o.setAttribute("accept-charset",l.CustomInitSettings.acceptCharset)),i.set(this.doc.body,{position:"relative",height:"100%"}),this.doc.body.setAttribute("data-campaign",e.campaignId),e.scrollContent&&(i.set(o,{height:"100%",overflow:"auto"}),i.set(o.parentNode,{height:"100%"})),e.relativeWidth&&(this.isHello||i.set(o,{width:"100%"}),i.set(n,{width:"100%"})),i.set(n,{left:"auto",bottom:"auto",top:"auto",right:"auto",marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,zIndex:"",display:1,float:"left"});var r=l.viewportScaleFactor();i.set(this.doc.documentElement,{position:"relative",top:0,left:0,height:100/r+"%",transform:"scale("+r+")",transformOrigin:[0,0],width:100/r+"%"});var c,u;if(2==e.version){var d=this.calculateBounds(!1,{all:!0});c=n.querySelector('[data-sn-type="grid"]'),u=n.querySelector('[data-sn-type="sleeknote-wrapper"]'),i.set(c,{overflow:0,width:d.width,height:""}),i.set(u,{paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:""}),w(n,".row").forEach(function(e){w(e,".column-bg").forEach(function(e){i.set(e,"height","")})}),e.profile==s.PROFILE.MOBILE?i.set(u,p(0)):(i.set(c,{width:d.width,height:d.height}),w(n,".row").forEach(function(e){var t=e.getBoundingClientRect();w(e,".column-bg").forEach(function(e){i.set(e,"height",t.height)})}))}if(!this.editor&&e.version>2&&e.profile==s.PROFILE.MOBILE&&!t.contains(e.position,s.POS.HELLO2,s.POS.HELLO)&&t.contains(e.name,"form","success")&&i.set(o,{paddingTop:40}),a.css(this.config,"boxNode",a.createBoxPositionStyles(h.boxParameters(this,"box",!1),"to")),this.config.bounds=void 0,h.isSleekBar(this.config)&&(i.set(n,{right:0}),e.profile==s.PROFILE.TABLET)){var n,f,g,v,b,y=0,k=w(this.doc,'[data-sn-type="close"]>[image-type="content-svg"]')[0];if(k){f=k.parentNode,n=f.parentNode,g=i.get(n,"width"),v=g,w(n.parentNode,".flex-container-container").forEach(function(e){y=Math.max(y,i.get(e,"paddingLeft"))}),i.set(n,{padding:Math.min(44-g,2*v)/2}),b=Math.min(44,3*v);var S=""==n.style.left,C=parseInt(i.get(n,"transform").split(",")[5],10);isNaN(C)&&(C=0);var T=0,O=Math.max(v,y);T=Math.max(0,v-O);var E=g+v+T;i.set(n,{left:S?"auto":0,right:S?0:"auto",transform:[(T+b/2)*(S?1:-1),C],top:"calc(50% - "+b/2+"px)",width:b,height:b})}i.set(o,{width:"auto",marginLeft:E,marginRight:E})}this.config.toggleDOMNode=this.config.toggle&&t.qsa(this.config.toggle,n)[0],this.config.toggleDOMNode&&t.contains(e.position,s.POS.HELLO2)&&i.set(this.config.toggleDOMNode,"order",0),w(n,"li.box").forEach(function(e){i.set(e,"overflow","visible")}),m(o)}function S(e,i){this.name="Note",this.controller=e,this.config=h.defaults(i.config.name,i.config),this.editor=l.editor||l.preview,this.onLoad=this.onLoad.bind(this);var n=T.createElement("html");n.innerHTML=i.html;for(var o=T.createDocumentFragment();n.hasChildNodes();)o.appendChild(n.firstChild);t.qsa(".flexbox",o).forEach(function(e){if(t.empty(e.style.position)&&t.empty(e.style.flex)){var i=parseInt(e.style.width,10);i<100&&i>0&&(e.style.flex="0 1 auto",e.style.width="calc("+e.style.width+" - "+e.style.marginRight+")")}}),Array.prototype.slice.call(t.qsa(this.config.id,o)[0].parentNode.children).forEach(function(e){"#"+e.id!=this.config.id&&t.removeNode(e)},this),t.qsa("script, object, iframe",o).forEach(t.removeNode),i.config.version>3&&t.qsa("img",o).forEach(function(e){if(e.src.indexOf("sleeknote.com/template-images/123456_close_button.png")>0){e.parentNode.innerHTML=N}}),l.local&&t.qsa("base",o).forEach(t.removeNode),t.qsa("link",o).forEach(function(e){l.cssName?e.href=l.cssName:x||0!==e.href.indexOf("sleeknote")||(e.href=e.href.replace("sleeknote","//sleeknotestaticcontent.sleeknote.com/sleeknote")),l.local&&(e.href=e.href.replace("//sleeknotestaticcontent.sleeknote.com/sleeknote","sleeknote"))});var r=x?this.config.profile:this.config.campaignId;if(this.config.DOMNode=a.insert("note",this.config,r,o),this.applyConfig(),this.config.boxNode=t.qsa(this.config.id,a.doc(this.config.DOMNode))[0],this.config.boxNode){this.config.current||(this.config.current="close");var s=(x?200:3e3)/50,c=function(){for(var e=this.config.boxNode.ownerDocument,t=e.images,i=t.length,n=i;i--;)t[i].complete&&(n-=1);s--,s<0||this.doc.body&&"border-box"==this.win.getComputedStyle(this.doc.body).boxSizing&&n<=0?C.setTimeout(this.onLoad):C.setTimeout(c,50)}.bind(this);C.setTimeout(c,50),this.editorArea=0}}var x=l.editor||l.preview,C=this,T=C.document,O=l.debugMessage("a"),E=["top","left","bottom","right"],I={top:0,left:0,bottom:0,right:0},N='<svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%" viewBox="0 0 66 66"><circle cx="33" cy="33" r="32" fill="#444"/><path fill="#FFF" d="M33.485 26.414l4.95-4.95a5 5 0 0 1 7.071 7.072l-4.95 4.95 4.95 4.949a5 5 0 0 1-7.071 7.071l-4.95-4.95-4.95 4.95a5 5 0 0 1-7.07-7.071l4.95-4.95-4.95-4.95a5 5 0 1 1 7.07-7.07l4.95 4.95z"/></svg>',P=["toggleForm","mimimizeForm","maximizeForm","redirectBox","openTeaser","outsideClick","hideBox","openSleeknote","socialSubmitSleeknoteBox","contactSubmitSleeknoteBox","submitSleeknoteBox","submitBlankSleeknoteBox","hideTeaserAndDontShowAgain"];return S.prototype={insertOrReplaceHiddenInputs:function(e){var t;for(t in e)if(e.hasOwnProperty(t)){var i=w(this.doc.body,'[name="'+t+'"]')[0];i?i.value=e[t]:this.config.formNode.insertAdjacentHTML("beforeend",'<input type="hidden" name="'+t+'", value="'+e[t]+'">')}},applyConfig:function(e,t){e&&["distanceFromEdge","adjustableSize","attach","options","placement","position","relativeWidth","toggle"].forEach(function(t){t in e&&(this.config[t]=e[t])},this),this.reposition(!0),this.config.next=this.config.current,this.config.reveal=this.config.toggle?"half":"open"},get isHello(){return t.contains(this.config.position,s.POS.HELLO,s.POS.HELLO2)},get visible(){return!this.hidden&&this.config.next},get hidden(){return"close"==this.config.next},get doc(){return this.config.boxNode.ownerDocument},get win(){return this.doc.defaultView},renderBot:function(t){t||(t=this.config.botData),t&&(this.config.bot?this.config.bot.stop():(i.set(this.doc.body,{overflowX:"hidden",overflowY:x&&"teaser"==this.config.type?"hidden":"scroll"}),i.set(this.doc.documentElement,{overflowX:"hidden",overflowY:x&&"teaser"==this.config.type?"hidden":"scroll",width:x&&"teaser"==this.config.type?"100%":"calc(100% + "+e.systemScrollbarWidth()+"px)"})),this.config.bot=new c,this.config.bot.start(this,t),this.config.bot.container||(this.config.bot=void 0))},afterAnimation:function(){this.prevDims={width:-1,height:-1},this.setEditorDimensions(),this.hidden&&i.conceal(this.config.DOMNode)},dimensions:function(e){e||(e={});var i=this.calculateBounds(!1,e.bounds||e.all),n=h.distanceFromEdges(this,this.editorArea,e.edge||e.all),o=this.calculatePadding(i,n,e.padding||e.edge||e.all),r=0,s=0;if("other"in i&&(E.forEach(function(e){var a;~n[e]&&(a=o[e]-(i.other[e]+n[e]))>0&&(t.contains(e,"left","right")?r-=a:s-=a)},this),this.config.relativeWidth&&(r=0)),this.config.translatePx=[r,s],this.config.version>1)this.config.relativeWidth?this.config.width=[h.translateRelative(this.config)," + "+(o.left+o.right)+"px"]:this.config.width=i.width+o.left+o.right,this.config.height=i.height+o.top+o.bottom,this.config.bot&&(this.config.height="100vh");else{var a=~n.right?n.right:0,c=~n.left?n.left:0;this.config.width=i.width+(a+c>10?a+c-10:0),this.config.height=i.height}var l={height:0};return this.config.toggleDOMNode&&(l=this.config.toggleDOMNode.getBoundingClientRect()),{toggle:{move:l.height?l.height-i.height:0},width:this.config.width,height:this.config.height,adjust:this.config.translatePx,bounds:i,edge:n,padding:o}},calculateBounds:function(e,n){e=!0;var o={x:0,y:0,top:0,left:0,bottom:0,right:0,width:+this.config.width1||0,height:+this.config.height1||0};return this.config.DOMNode?x||!this.config.bounds||n?(this.config.relativeWidth&&a.css(this.config,"DOMNode",{width:l.translateViewportUnitValue(this.config.relativeWidth,"width")+"vw"}),i.flashRevealIf(this.config.DOMNode,function(){var n,r,s=!e&&this.config.DOMNode.style[i.property("transform")],a=this.config.boxNode;if(s&&i.set(this.config.DOMNode,"transform",""),n=a.style.padding,i.set(a,p(0)),1==this.config.version)r=o;else{var c=this.config.formNode;a.querySelector(".chat")&&(c=c.querySelector("ul")),c||(c=a);var l=t.bounds(c,'[style*="box-shadow"]').elem;r=t.newDict({shadow:t.newDict(l,E),width:y(l.width),height:y(l.height)});var h=t.bounds(c.parentNode||c,".image-container, .element, .sleeknoteMobileClose");r.other=t.newDict({top:h.elem.top,left:h.elem.left,bottom:h.elem.bottom,right:h.elem.right}),E.forEach(function(e){r[e]=Math.max(r.other[e],r.shadow[e])})}return s&&i.set(this.config.DOMNode,"transform",s),i.set(a,{padding:n}),this.config.bounds=r,r}.bind(this))):this.config.bounds:o},calculatePadding:function(e,t,i){var n=this.config;if(n.padding&&!i)return n.padding;var o={};return"shadow"in e&&E.forEach(function(i){var n;o[i]=e[i],~t[i]&&(o[i]+=t[i],(n=e.shadow[i]-e.other[i])>0&&(o[i]-=Math.min(t[i],n)))},this),o=h.paddings(this.config,o,t),E.forEach(function(e){o[e]=y(o[e])||0},this),this.config.padding=o,o},setEditorDimensions:function(){x&&(this.editorArea=this.config.profile==s.PROFILE.MOBILE?50:5e3,i.set(this.config.boxNode,p(this.dimensions({all:!0}).padding)))},toggleToggleButton:function(e){var i=t.qsa('[data-sn-custom-step="toggleForm"]',this.doc)[0];if(i){i.classList.remove("toggle-arrow-up"),i.classList.remove("toggle-arrow-down");var n;n=this.config.position==s.POS.HELLO?"open"==e?"toggle-arrow-up":"toggle-arrow-down":"open"==e?"toggle-arrow-down":"toggle-arrow-up",i.classList.add(n)}},applyPaddings:function(){if(!t.contains(this.config.name,"badge","cover")){var e=this.dimensions(),n=e.edge;this.config.version>1?i.set(this.config.boxNode,p(e.padding)):i.set(this.config.boxNode,{marginTop:~n.top?n.top:0,marginRight:~n.right?n.right:0,marginBottom:~n.bottom?n.bottom:0,marginLeft:~n.left?n.left:0})}},reposition:function(e){this.ready&&(e&&k.call(this),x&&(this.editorArea=this.config.profile==s.PROFILE.MOBILE?50:5e3),this.dimensions({all:!0}),this.applyPaddings(),a.css(this.config,"DOMNode",a.createPositionStyles(h.boxParameters(this,this.config.current),"to")))},prepare:function(e,t){var i,n=this.config.current;switch(e){case"current":i=this.config.current,n="close";break;case"maximize":i="open";break;case"open":case"reveal":this.onBeforeOpen(),i="reveal";break;case"minimize":i="half";break;default:i="close"}if("reveal"==i&&(i=this.config.reveal||(h.isSleekBar(this.config)?"half":"open")),i!=n){"half"!=i&&"half"!=n||this.config.toggleDOMNode||("half"==i&&(i="open"),"half"==n&&(n="close")),this.config.next=i,"close"!==i&&(this.config.reveal=i),this.animating=!0,this.editorArea=0,this.setEditorDimensions(),this.toggleToggleButton(i);var o=h.animationParameters(this,n,i,t);return this.applyPaddings(),a.createMotion(o,function(e,t,i){if(i){var n=e.transform;n&&5==n.length&&(e.transform=["calc("+n[0][0]+" + "+n[4][0]+"px)","calc("+n[0][1]+" + "+n[4][1]+"px)"])}a.css(this.config,"DOMNode",e),i&&(this.config.current=this.config.next)}.bind(this))}},addClickAttribute:function(e,t){var i;t&&t in this&&(e.setAttribute("data-click",t),(i=e.getAttribute("data-id")||e.parentElement.getAttribute("data-id"))&&e.setAttribute("data-track-id",i))},getCloseFunc:function(){var e="hideBox";return"teaser"==this.config.type&&(e="hideTeaserAndDontShowAgain"),"form"==this.config.type&&this.config.teaser&&(e="openTeaser"),e},getJITData:function(e){function i(e,n){var o=t.typeStr(e);if("array"==o||"object"==o)for(var r in e)if("array"==(o=t.typeStr(e[r]))||"object"==o){var s=i(e[r],n);if(void 0!==s)return s}else if(r==n&&void 0!==e[r])return e[r]}var n,o,r=e;for(e+="";;){if("="!=e.charAt(0))break;if(n=e.split("(")[0]+"","=gtmdl"!=n.toLowerCase()){r="";break}try{o=(e.split("(")[1]+"").replace(")",""),r=i(C.dataLayer,o)}catch(e){}r||(r="");break}return r},onLoad:function(e){this.config.boxNode=t.qsa(this.config.id,a.doc(this.config.DOMNode))[0],this.Y=n.bindTo(this.doc),x||o.prepare(this),k.call(this),this.formMethod=((this.config.formNode.hasAttribute("custom-method")?this.config.formNode.getAttribute("custom-method"):this.config.formNode.getAttribute("method"))||"GET").toUpperCase(),w(this.doc,"[onclick]").forEach(function(e){var t=e.getAttribute("onclick").replace("()","").replace(";","");e.removeAttribute("onclick"),this.addClickAttribute(e,"hideBox"==t?this.getCloseFunc():t)},this),w(this.doc,'[data-sn-type="close"], .sleeknoteMobileClose').forEach(function(e){this.addClickAttribute(e,this.getCloseFunc()),e.classList.contains("sleeknoteMobileClose")||this.config.profile!=s.PROFILE.DESKTOP||i.set(e,{width:"100%",height:"100%",lineHeight:0})},this),w(this.doc,'[data-sn-type="toggle"]').forEach(function(e){this.addClickAttribute(e,"toggleForm")},this),"teaser"==this.config.type&&w(this.doc,this.config.id).forEach(function(e){this.addClickAttribute(e,"openSleeknote")},this),w(this.doc,'[data-sn-type="button"]').forEach(function(e){var t;switch(this.config.noteType){case"social":t="socialSubmitSleeknoteBox";break;case"newsletter":t="submitSleeknoteBox";break;case"contact":t="contactSubmitSleeknoteBox";break;case"blank":case"promote":O(this.config.noteType+" should be used anymore"),t="submitBlankSleeknoteBox";break;default:return}this.addClickAttribute(e,t)},this),w(this.doc,".linkbutton, img, a").forEach(function(e){("IMG"!=e.tagName||e.getAttribute("data-sn-custom-href")||e.getAttribute("data-sn-custom-email"))&&this.addClickAttribute(e,"redirectBox")},this),w(this.doc,"[data-sn-custom-action]").forEach(function(e){this.addClickAttribute(e,"redirectBox")},this);var r={showTeaser:"teaser",showTogglersBox:"form",showForm:"form",showTogglersSuccess:"success",showSuccess:"success"};w(this.doc,"[data-sn-custom-step]").forEach(function(e){var t=r[e.getAttribute("data-sn-custom-step")];t&&e.setAttribute("data-sn-custom-step",t)},this),this.removeListener=d.listen(this.doc,this.onClick.bind(this)),this.onResize=function(){if(this.config.toggleDOMNode||"half"==this.config.current&&(this.config.current="open"),l.CustomInitSettings.observeZoomChanges)try{this.config.boxNode.ownerDocument.documentElement.style.zoom=C.getComputedStyle(T.documentElement).zoom*C.getComputedStyle(T.body).zoom}catch(e){}this.dimensions({all:!0}),a.css(this.config,"DOMNode",{width:this.config.width,height:this.config.height})}.bind(this),this.prevDims={width:-1,height:-1},this.renderBot(),l.CustomInitSettings.observeZoomChanges&&(this.config.adjustableSize=!0);var c=function(e,i){var n=function(t){if(this.visible){var i=e.getBoundingClientRect();("100%"!=e.parentElement.style.width&&~~i.width!=~~this.prevDims.width||~~i.height!=~~this.prevDims.height)&&(this.prevDims.width=i.width,this.prevDims.height=i.height,this.animating||C.setTimeout(this.onResize,0))}}.bind(this);try{var o=t.getWindow(e)}catch(e){return}t.listener(o,"add",n)("resize"),i&&n({target:e.ownerDocument.defaultView})}.bind(this);if(x){t.listener(this.doc,"add",function(e){var t=new C.MouseEvent(e.type,e);t.initialTarget=e.target,C.top.document.documentElement.dispatchEvent(t)||t.preventDefault()},!0)("mousemove")("mousedown")("mouseup"),t.listener(this.doc,"add",function(e){l.editor.event("APP.INTERACTION",e.target)},!0)("click"),t.listener(this.win,"add",function(e){var i;try{i=t.JSON.parse(e.data)}catch(e){return}"SleekNote"==i.fingerprint&&"ping"==i.command&&this.win.parent.postMessage(t.JSON.stringify({fingerprint:"SleekNote",command:"pong"}),"*")})("message");var h=function(e){e.forEach(function(e){(e.type="style"==e.attributeName)&&t.matchesSel(e.target,'[style*="box-shadow"]')&&(this.prevDims={width:-1,height:-1},this.onResize()),"childList"==e.type&&e.addedNodes.forEach(function(e){e.classList&&e.classList.contains("resize-listener")&&c(e,!0)})},this)}.bind(this);new C.MutationObserver(h).observe(this.doc.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})}var u=w(this.doc,".resize-listener");(!u.length&&(x||this.config.adjustableSize)||this.config.bot)&&(this.config.boxNode.insertAdjacentHTML("afterbegin",'<object class="resize-listener" style="display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;" type="text/html" data="about:blank"></object>'),u=[this.doc.querySelector(".resize-listener")]),C.setTimeout(function(){u.forEach(c)},0),this.ready=!0,this.message({type:"ready",id:this.controller.id,part:this.config.name})},message:function(e){if("resize"!=e.type||this.visible){switch(e.stepName=this.config.name,e.type){case"aftersubmit":e=this.onAfterSubmit(e);break;case"redirect":"_blank"==e.target&&this.config.status==l.STATUS.DESKTOP?C.open(e.href):C.location.href=e.href}e.origin=this,this.controller.message(e)}},setVisibility:function(e){this.config.DOMNode&&(this.config.isHidden=!e,a.css(this.config,"DOMNode",{visibility:e}))},isHidden:function(){if(this.config.DOMNode)return this.config.isHidden},onClick:function(e){if((!x||(t.preventDefault(e),this.controller.manager.emulate))&&!this.controller.manager.showQueue.busy){var i;i=e.target?t.querySelectorClosest(e.target,"[data-click]"):e;var n;i&&(n=e.target==this.doc.body?"hideBox":i.getAttribute("data-click"))&&~P.indexOf(n)&&n in this&&(e.target&&t.preventDefault(e),this[n](e,i))}},destroy:function(e){this.config.DOMNode&&(P.forEach(function(e){delete this.win[e]},this),t.listener(this.win,"remove",this.onLoad)("load"),this.removeListener(),this.config.bot&&this.config.bot.stop(),e?t.removeNode(this.config.DOMNode):delete this.config.DOMNode)},outsideClick:function(){var e=this.doc.querySelectorAll("[data-sn-type=close], .sleeknoteMobileClose")[0];e&&this.onClick(e)},onBeforeOpen:function(){w(this.config.formNode,"input,textarea,select").forEach(function(e){switch(e.tagName){case"INPUT":case"TEXTAREA":e.value=this.getJITData(e.value,"hidden"==e.type)}},this)},onAfterSubmit:function(e){if(this.config.DOMNode){var i,n,o,r,s=!0,a=this.controller.config;switch(a.type){case"social":i="social";break;case"newsletter":i="newsletter",n=!0,o=!0;break;case"contact":i="contact",n=!0,o=!0;break;case"blank":case"promote":i="blank",s=!1,o=!0}return e.href&&"_blank"!=e.target&&(r=function(){C.location.href=e.href}),(void 0===e.isUserDefinedClick||e.isUserDefinedClick&&"promote"==a.type&&e.isForm)&&(this.config.redirect&&(e.href=this.config.redirect,r=function(){C.location=e.href}),e=t.extend(e,{closeSession:s,setShown:!0,setSubscription:n,setEngaged:o,customTrackerEvent:i,mimirEvent:"engaged",next:this.controller.getAfterSubmitStep(r,this)}),e.next.origin=this),r&&C.setTimeout(function(){r()},500),e}},openSleeknote:function(e,t){this.message({type:"open",noteName:this.config.form,openTrigger:"teaserClick"})},openTeaser:function(e,t){this.controller.teaserExist?(this.message({type:"open",noteName:this.config.teaser}),this.message({eventName:"closed",type:"trackevent",noteName:"teaser",closeTrigger:{type:e.target?"closebutton":"dismiss",elementDataId:t.getAttribute("data-track-id")}})):this.hideBox(e,t)},hideBox:function(e,t){this.message({type:"close",noteName:this.config.name,closeTrigger:{isImage:"IMG"==t.nodeName,isLinkButton:t.classList.contains("linkbutton"),type:e.target?"closebutton":"dismiss",elementDataId:t.getAttribute("data-track-id")}})},hideTeaserAndDontShowAgain:function(){this.message({type:"close",noteType:this.config.type,noteName:this.config.name})},toggleForm:function(){this.message({type:"half"==this.config.current?"maximize":"minimize",noteName:this.config.name})},maximizeForm:function(){this.message({type:"maximize",noteName:this.config.name})},minimizeForm:function(){this.message({type:"minimize",noteName:this.config.name})},redirectBox:function(e,i){function n(e,n,o,r){n&&(v(e,n,o),this.message(t.extend({type:"aftersubmit",href:n,target:o,submitTrigger:this.getSubmitTriggerInfo(e,i)},r)))}var o,r,s,a=!1,c={isUserDefinedClick:!0,isImage:"IMG"==i.nodeName,isLinkButton:i.classList.contains("linkbutton"),isForm:t.querySelectorClosest(i,"#sleeknoteBox")||t.querySelectorClosest(i,"#sleeknote-form"),name:i.innerText};if("A"==i.tagName)o=i.getAttribute("href"),s=i.getAttribute("target"),a=!0,"CTA button"==i.getAttribute("data-section")?n.call(this,e,o,s,c):("_blank"==s?v(e,o,s):"_self"==s&&this.message({type:"redirect",href:o,target:s}),a=!0);else if("IMG"==i.tagName||i.classList.contains("linkbutton")||"background"==i.getAttribute("data-sn-type")){o=i.getAttribute("data-sn-custom-href"),o&&!~o.indexOf("//")&&(o="//"+o);var l=i.getAttribute("data-sn-custom-email");l&&!~l.indexOf("mailto:")&&(l="mailto:"+l),o=o||l,s=i.getAttribute("data-sn-custom-target")||(l?"_self":"_blank"),n.call(this,e,o,s,c),r=i.getAttribute("data-sn-custom-step"),r&&(~P.indexOf(r)&&r in this?this[r](e,i):this.controller.notes[r]&&"success"==this.controller.notes[r].config.type?this.message(t.extend({type:"aftersubmit",submitTrigger:this.getSubmitTriggerInfo(e,i)},c)):this.message(t.extend({type:"step",step:r},c)))}this.message(t.extend({eventName:"link_clicked",type:"trackevent",href:o,step:r,elementDataId:i.getAttribute("data-track-id"),target:s,isLink:a},c))},submitWithIFrame:function(e){var i=t.serialize(this.config.formNode);f("submit",this.config,i),t.insertHTML(a.getAnchor().DOMNode,'<iframe src="'+t.appendToUrl(e,i)+'" style="display:none;"></iframe>'),O("submitWithIFrame",e,i)},sendCustomTrackerData:function(e){this.message({type:"trackerCustomEvent",CustomEventData:{SleeknoteId:this.config.campaignId,CustomerId:this.config.customerId,SignupPage:u.get(l).href,event:e||"SleeknoteSubscriber",fieldData:t.parseForm(this.config.formNode,void 0,!0)}}),O("sendCustomTrackerData",e)},getSubmitTriggerInfo:function(e,t){return{type:e&&e.type||"",elementDataId:t.getAttribute("data-id")}},contactSubmitSleeknoteBox:function(e,t){this.submitBox("//contactform.sleeknote.com",{submitTrigger:this.getSubmitTriggerInfo(e,t)})},submitSleeknoteBox:function(e,i){var n=this.config.formNode.querySelector('input[type="email"]'),o={submitTrigger:this.getSubmitTriggerInfo(e,i)};n&&(o.email=t.trim(n.value)),this.submitBox("//subscribe.sleeknote.com",o)},submitBox:function(e,i){if(r(this,!0)){var n=this.config.formNode.getAttribute("action")||e,o=b(n);this.insertOrReplaceHiddenInputs({guid:this.config.guid,SleeknoteId:this.config.campaignId,CustomerId:this.config.customerId,SignupPage:u.get(l).href,UserAgent:C.navigator.userAgent}),!t.empty(o)&&o.indexOf("sleeknote.com")<0?(this.submitWithIFrame(e,this.config),"POST"==this.formMethod?(t.insertHTML(this.config.boxNode,'<iframe id="dummyIframe" name="dummyIframe" style="width:0px;height:0px;visibility:hidden;display:block;border:0;position:absolute"></iframe>'),this.config.formNode.setAttribute("target","dummyIframe"),this.config.formNode.setAttribute("method","post"),this.config.formNode.submit()):this.submitWithIFrame(n,this.config)):this.submitWithIFrame(n,this.config),this.sendCustomTrackerData("SleeknoteSubscriber"),this.config.submitted=!0,i||(i={}),i.formData=t.parseForm(this.config.formNode,!1,!0),i.type="aftersubmit",i.name=this.config.name,this.message(i)}}},S}(e,t,r,a,m,v,l,g,y,o,d,k,b,S),C=function(e,t,i,n,o,r,s,a){function c(e){return e.replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}function l(e,i){if(this.manager=e,this.name="NoteController",this.config=i,this.notes={},this.waiting=0,this.guid=t.guid_string(),this.next=void 0,h)this.profile=s.editor.profile,this.onLoad(c(u.SleekNote.editor.HTML));else if(this.config.version>3)t.fetch(this.url("toggler"),function(e){this.onLoad(e.responseText)}.bind(this));else{this.waiting=2;var n={},o=function(e,t){this.waiting-=1,n[e]=t,this.waiting||this.onLoad(n)}.bind(this);t.fetch(this.url("toggler"),function(e){o("toggler",e.responseText)}),t.fetch(this.url("teaser"),function(e){o("teaser",e.responseText)})}}var h=s.editor||s.preview,u=this,d=u.document;return l.prototype={get profileStr(){return this.config.profile==r.PROFILE.MOBILE?"mobile":"desktop"},url:function(e){if(this.config.url)return this.config.version>3?this.config.url:this.config.url[e];var t="desktop";return this.config.version>2&&(this.config.profile==r.PROFILE.MOBILE||this.config.profile==r.PROFILE.TABLET&&s.tabletUsesMobile)&&(t="mobile"),"//sleeknotestaticcontent.sleeknote.com/editorv2/"+t+e+"/"+this.config.campaignId+".html"},get isHello(){return this.getType("form")[0].isHello},destroy:function(e){if(this.config.ready){for(var t=Object.keys(this.notes),i=t.length;i--;)this.notes[t[i]]=this.notes[t[i]].destroy(e);this.config.ready=!1}},querySelectorAll:function(e){for(var t,i=Object.keys(this.notes),n=i.length,o=[];n--;)t=this.notes[i[n]],t.doc&&(o=o.concat(Array.prototype.slice.call(t.doc.querySelectorAll(e))));return o},get id(){return this.config.campaignId},releaseNote:function(e){return e in this.notes&&this.notes[e].animating&&(this.notes[e].animating=!1,this.notes[e].afterAnimation()),this},prepareNote:function(e,t,i){if(e in this.notes)return this.notes[e].prepare(t,i)},get visible(){return Object.keys(this.notes).reduce(function(e,t){return this.notes[t].visible&&t||e}.bind(this),!1)},onLoad:function(e){t.Objectkeys(this.config.steps).forEach(function(t){var i=new o(this,{config:this.config.steps[t],html:this.config.version>3||h?e:"teaser"==t?e.teaser:e.toggler});i.config.boxNode&&(this.notes[t]=i,i.config.guid=this.guid)},this)},message:function(e){function t(e){return this.notes[e].ready}switch(e.origin||(e.origin=this),e.stepName&&(this.config.stepName=e.stepName),e.openTrigger&&this.processOpenTrigger(e.openTrigger),e.closeTrigger&&this.processCloseTrigger(e.closeTrigger),e.submitTrigger&&this.processSubmitTrigger(e.submitTrigger),e.isUserDefinedClick&&this.processUserDefinedClicks(e),this.manager.message(e),e.type){case"aftersubmit":e.next&&"open"==e.next.type&&"form"==this.notes[e.next.noteName].config.type&&this.notes[e.next.noteName].insertOrReplaceHiddenInputs(e.formData||{});break;case"after":this.releaseNote(e.noteName),a("after",e);break;case"ready":!this.config.ready&&Object.keys(this.notes).every(t,this)&&(this.config.ready=!0,this.getType("teaser").length&&!this.config.hidden&&(this.teaserExist=!0),this.manager.message({type:"ready",id:this.id,origin:this}))}},getType:function(e){return t.filterMap(Object.keys(this.notes),function(t){if(this.notes[t].config.type==e)return this.notes[t]},this)},setVisibility:function(e,t){if(this.config.ready){var i=this.notes[e];i&&i.setVisibility(t)}},ifTrigger:function(t){if(this.config.ready)switch(t){case"scroll":if(this.config.scroll&&e.scroll.pct()>this.config.scroll)return this.tameTriggers(t);break;case"exit":if(this.config.exit)return this.tameTriggers(t);break;case"timer":if(this.config.wait)return this.tameTriggers(t)}},launchTriggers:function(e){0!=this.config.wait&&(this.timer=u.setTimeout(function(){this.ifTrigger("timer")&&e("timer",this)}.bind(this),Math.max(this.config.wait+1e3,0))),this.config.onClick&&t.listener(d,"add",function(e){t.querySelectorClosest(e.target,this.config.onClick.selector)&&this.manager.triggerOnClick(this.config.campaignId,this.config.onClick.triggerOnce)}.bind(this))("click"),t.contains(this.notes.form.config.position,r.POS.HELLO,r.POS.HELLO2)&&e("notification",this)},tameTeaser:function(){this.teaserExist=!1,this.tameTriggers()},tameTriggers:function(e){return this.timer&&u.clearTimeout(this.timer),this.processOpenTrigger(e),this.config.hidden=!0,this.config.wait=0,this.config.exit=!1,this.config.scroll=0,!0},processOpenTrigger:function(e){if(e){var t={};switch(e){case"timer":t.name="1_sleeknote_trigger_shown_after",t.value=this.config.wait/1e3;break;case"scroll":t.name="2_sleeknote_trigger_scroll",t.value=this.config.scroll;break;case"exit":t.name="3_sleeknote_exit_intent";break;case"manual":t.name="4_sleeknote_trigger_manual";break;case"teaserClick":t.name="5_sleeknote_teaser_clicked";break;default:t.name=e}this.config.trackData=this.config.trackData||{},this.config.trackData.openTriggerEvent=t}},processCloseTrigger:function(e){if(e){var t={};switch(e.type){case"closebutton":e.isLinkButton?t.name="12_sleeknote_linkbutton_clicked":t.name="8_sleeknote_closebutton_clicked";break;case"dismiss":t.name="9_sleeknote_dismissed";break;default:t.name=e.type}t.elementDataId=e.elementDataId,this.config.trackData=this.config.trackData||{},this.config.trackData.closeTriggerEvent=t}},processSubmitTrigger:function(e){if(e){var t={};switch(e.type){case"click":case"touchend":case"touchcancel":t.name="6_sleeknote_submitbutton_clicked";break;case"keypress":t.name="7_sleeknote_submitbutton_enterpress";break;default:t.name=e.type}t.elementDataId=e.elementDataId,this.config.trackData=this.config.trackData||{},this.config.trackData.submitTriggerEvent=t}},processUserDefinedClicks:function(e){if(e){var t={};void 0===e.mimirEvent&&(e.mimirEvent="link_clicked",t.linkDestination=e.href||e.step,t.linkDestinationType=e.href?"1_url":"2_sleeknotestep",e.isImage?t.linkType="1_imagelink":e.isLinkButton?t.linkType="3_linkbutton":e.isLink&&(t.linkType="2_textlink"),t.linkName=e.name,t.elementDataId=e.elementDataId,this.config.trackData=this.config.trackData||{},this.config.trackData.userDefinedClickEvent=t)}},getAfterSubmitStep:function(e,t){return!e&&t.config.success?{type:"open",noteName:t.config.success}:{type:"close",noteName:t.config.name}}},l}(e,t,0,0,x,l,o,S),T=function(e){function t(t){if(t||(t={}),this.onStateChanged=t.onStateChanged)if(this.context=t.context||this,e.has.touch){var n=!1;i.addEventListener("pageshow",function(){if(!n)return void(n=!0);this.signalVisibilityChange(!1)}.bind(this)),i.addEventListener("pagehide",this.signalVisibilityChange.bind(this,!0))}else i.document.addEventListener("visibilitychange",function(){this.signalVisibilityChange(i.document.hidden)}.bind(this))}var i=this;return t.prototype.signalVisibilityChange=function(e){e?this.onStateChanged.call(this.context,"suspend"):setTimeout(this.onStateChanged.bind(this.context,"restore"),100)},t}(e),O=function(e,t,i,n,o,r,s,a){function c(e,t,i){if(!(this instanceof c))return new c(e,t,i);e instanceof c?(this.controller=e.controller,this.type=e.type,this.noteName=e.noteName):(this.controller=e,this.type=t,this.noteName=i)}function l(e){this.manager=e,this.visibles={},this.queue=[],this.busy=!1,this.after=this.after.bind(this),this.actions=[],new o({context:this,onStateChanged:function(e){"restore"==e&&this.animator&&this.animator[this.busy?"ffwd":"playLastFrame"]()}})}var h=n.editor||n.preview;return l.prototype={get empty(){return!Object.keys(this.visibles).length},get stopper(){var e;for(e in this.visibles)if(this.visibles.hasOwnProperty(e)&&this.isStopper(this.visibles[e]))return this.visibles[e]},isStopper:function(e){return!(!e||e.controller.isHello)&&(!this.concurrent||t.contains(e.noteName,"form","success"))},get concurrent(){
return"concurrent"==this.manager.mode},addToVisibles:function(e,t){var i=this.visibles[e.id];return i?i.noteName=t:i=this.visibles[e.id]=c(e,"",t),i},removeFromVisibles:function(e){var e=this.visibles[e.controller.id];e&&delete this.visibles[e.controller.id]},extractCloseRequest:function(){for(var e,t=this.queue.length;t--;)if("close"==this.queue[t].type)return e=this.queue[t],this.queue.splice(t,1),e},positionIsOccupied:function(e,t){var i,n;for(i in this.visibles)if(this.visibles.hasOwnProperty(i)&&(n=this.visibles[i],n.controller.notes[t].config.position==e.notes[t].config.position))return n},extractHello:function(){for(var e,t=this.queue.length;t--;)if(e=this.queue[t],e.controller.isHello&&"close"!=e.type&&"form"==e.noteName&&!this.positionIsOccupied(e.controller,"form"))return this.queue.splice(t,1),e},next:function(e){function n(){if(d)return u=u.concat(d),d=!1,!0}var o,r,c,l,h;if(this.queue.length&&!this.busy){for(this.actions=[];o=this.extractCloseRequest();)this.actions.push(o),this.removeFromVisibles(o);for(;o=this.extractHello();)this.actions.push(o),this.addToVisibles(o.controller,o.noteName);for(;;){if(this.queue.length){if(!e&&this.stopper&&this.isStopper(this.queue[0]))break;if(this.queue[0].controller.isHello&&(o=this.positionIsOccupied(this.queue[0].controller,"form"))&&o.controller!=this.queue[0].controller)break;if(r=this.queue.shift(),(o=this.visibles[r.controller.id])&&o.noteName==r.noteName&&t.contains(r.type,"open","reveal"))break;this.actions.push(r),(o=this.visibles[r.controller.id])&&t.contains(r.type,"open","reveal")&&(o.type="close",c=o.noteName,this.actions.push(o),this.removeFromVisibles(o)),this.isStopper(r)&&(o=this.stopper)&&(o.type="close",this.actions.push(o),this.removeFromVisibles(o),this.add("unshift",o.controller,"open",o.noteName)),this.addToVisibles(r.controller,r.noteName)}break}if(this.actions.length){var u=[];a.spacer.reset();var d,f=this.manager.badge,g=r&&r.controller.notes[r.noteName];if(f&&(d=this.isStopper(r)&&s.needs.badge(g.config)?f.prepare("open",g):f.prepare("close")),n(),g&&s.needs.cover(g.config))d=this.manager.cover.prepare("open",g);else{var p=this.stopper;p&&s.needs.cover(p.controller.notes[p.noteName].config)||(d=this.manager.cover.prepare("close"))}n();var m,l=r&&r.noteName;this.actions.forEach(function(e){var t;r&&e.controller==r.controller&&(t=e.noteName==r.noteName?c:l),d=e.controller.prepareNote(e.noteName,e.type,t),m=e.controller.notes[e.noteName],n()&&"close"!=e.type&&s.needs.spacer(m.config)&&a.spacer.set(s.defaults("spacer",m.config))},this);for(var v in this.visibles)m=this.visibles[v].controller.notes[this.visibles[v].noteName],s.needs.spacer(m.config)&&a.spacer.set(s.defaults("spacer",m.config));return a.spacer.execute(),this.busy=!0,h=this.actions.length,a.prepareForAnimation(u),this.animator=new i,this.animator.add(u).play(this.after),h}}},after:function(){this.busy=!1,h&&n.editor.event&&!this.empty&&n.editor.event("CORE.NOTES_STATUS",this.visibles[Object.keys(this.visibles)[0]]);for(var e,t=this.actions.length;t--;)e=this.actions[t],e.controller.message({type:"after",origin:e.controller,action:e.type,noteName:e.noteName});this.next(h)},add:function(e,t,i,n,o){var r=this.queue.length;if(t.notes[n]){var s=t.config.campaignId;if(s in this.visibles&&this.visibles[s].noteName==n){var a=this.visibles[s].controller.notes[n].visible;if(a==i)return;if("half"==a&&"minimize"==i)return}for(;r--&&this.queue[r].controller!=t;);return~r?o?(this.queue.splice(r,1),this.add(e,t,i,n)):"unshift"==e&&0===r:(this.queue[e](c(t,i,n)),!0)}},indexOf:function(e){for(var t=this.queue.length;t--;)if(this.queue[t].controller==e)return t;return-1},push:function(e,t,i,n){if(this.add("push",e,t,i,n))return this.next(),!0},closeIf:function(e,t){var i=this.visibles[e.id];if(i&&this.add("unshift",i.controller,"close",i.noteName))return this.next(1)},now:function(e,t,i,n){if(this.add("unshift",e,t,i,n))return this.next(1)},state:function(e){return~this.indexOf(e)?1:this.visibles[e.id]?2:0},reset:function(e){var t=this.queue.length;for(e=String(e);t--;)e.indexOf(this.queue[t].controller.id)<0&&this.queue[t].splice(t,1);var i;for(i in this.visibles)this.visibles.hasOwnProperty(i)&&e.indexOf(i)<0&&this.add("unshift",this.visibles[i].controller,"close",this.visibles[i].noteName);return this.next(1)},repositionIf:function(e,t){var i,n,o,r;a.reposition();for(r in this.visibles)if(this.visibles.hasOwnProperty(r)){if(e&&r!=e.id)continue;o=this.visibles[r],i=o.controller.notes[o.noteName],i.reposition(t),this.isStopper(o)&&(n=this.manager.badge,n&&n.reposition(i.config),this.manager.cover.reposition(i.config))}}},l}(0,t,s,o,T,0,d,g),E=function(e){function t(e){var t=new Date;if(e=+e||0)return t.setTime(t.getTime()+e*h),t}function i(e,t){return e=String(e),0===e.lastIndexOf(t,0)}function n(t){if(!(this instanceof n))return new n(t);this.useLocalStorage=!1,this.cookiePath="/",this.cookieDomain=void 0,this.cookieSecure=void 0,e.applyOptions.call(this,t),this.useLocalStorage=u&&this.useLocalStorage,this.storageBacker=d.cookieStorage;var i;if(this.useLocalStorage&&!this.dummyStorage)try{i=e.JSON.parse(s.localStorage.getItem(c)),this.storageBacker=d.localStorage}catch(e){}this.data=i||{},n.getCookie("SNS")||(this.resetSessionData(),this.migrateOldCookiesIfNeed(),n.setCookie("SNS",1,"",this.cookiePath,this.cookieDomain,this.cookieSecure,!0)),this.newVisitor=this.newVisitorCheck()}function o(e,i,n,o){return l.setItem(e,i,t(n),this.cookiePath,this.cookieDomain,this.cookieSecure,o)}function r(e){return l.removeItem(e,this.cookiePath,this.cookieDomain)}var e,s=this,a=s.document,c="SleekNote",l={getItem:function(t,i){return t?function(t,i){return i?t:e.decodeURIComponent(t)}(a.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+function(t,i){return i?t:e.encodeURIComponent(t)}(t,i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"),i)||null:null},setItem:function(t,i,n,o,r,s,c){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var l="";if(n)switch(n.constructor){case Number:l=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:l="; expires="+n;break;case Date:l="; expires="+n.toUTCString()}return a.cookie=(c?t:e.encodeURIComponent(t))+"="+(c?i:e.encodeURIComponent(i))+l+(r?"; domain="+r:"")+(o?"; path="+o:"")+(s?"; secure":""),!0},removeItem:function(t,i,n){return!!this.hasItem(t)&&(a.cookie=e.encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(i?"; path="+i:""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+e.encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)},keys:function(){for(var t=a.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),i=t.length,n=0;n<i;n++)t[n]=e.decodeURIComponent(t[n]);return t}},h=864e5,u=function(){try{return s.localStorage.setItem("test","1"),s.localStorage.removeItem("test"),"localStorage"in s&&null!==s.localStorage}catch(e){return!1}}(),d={localStorage:1,cookieStorage:2};return n.setCookie=l.setItem.bind(l),n.removeCookie=l.removeItem.bind(l),n.getCookie=l.getItem.bind(l),n.getCookieKeys=l.keys.bind(l),n.prototype={write:function(t,i,n,r){if(void 0===i)return this.erase(t);this.data[t]=e.extend(i),this.useLocalStorage?this.dummyStorage||s.localStorage.setItem(c,e.JSON.stringify(this.data)):o.call(this,t,e.JSON.stringify(this.data[t]),n,r)},read:function(t,i,n){if(!this.useLocalStorage&&void 0===this.data[t])try{this.data[t]=e.JSON.parse(l.getItem(t))}catch(o){try{this.data[t]=e.JSON.parse('"'+l.getItem(t,n)+'"')}catch(e){this.data[t]=i}}return e.extend(void 0===i?this.data[t]:this.data[t]||i)},erase:function(t){delete this.data[t],this.useLocalStorage?this.dummyStorage||s.localStorage.setItem(c,e.JSON.stringify(this.data)):r.call(this,t)},readAndInitializeCompaignData:function(e){var t=this.read("SNC",{},!0);return t.cs=t.cs||{},t},readPersistentCookieByCampaignId:function(e){var t=String(e).substring(0,4);return this.readAndInitializeCompaignData(t).cs[t]||{}},writePersistentCookieByCampaignId:function(t,i){var n=String(t).substring(0,4),o=this.readAndInitializeCompaignData(n);e.empty(i)?delete o.cs[n]:o.cs[n]=i,this.write("SNC",o,730,!0)},readPersistentCookie:function(){return this.read("SNC",{},!0)},writePersistanceCookie:function(e){this.write("SNC",e,730,!0)},preserveIfNotExpired:function(e){return e&&e.length>=1?Date.now()<e[0]?e:void 0:e},resetSessionData:function(){if(a.cookie.indexOf("SNC")>=0){var t=this.readPersistentCookie();if(delete t.r,delete t.g,delete t.gi,t.cs){var i;for(var n in t.cs)if(t.cs.hasOwnProperty(n))if(i=t.cs[n],e.empty(i))delete t.cs[n];else{var o={i:this.preserveIfNotExpired(i.i),b:this.preserveIfNotExpired(i.b)};e.empty(o.i)&&e.empty(o.b)?delete t.cs[n]:t.cs[n]=o}}this.writePersistanceCookie(t)}},migrateOldCookiesIfNeed:function(){if(a.cookie.indexOf("SNC")<0){var t;n.getCookieKeys().forEach(function(n){var o=this.read(n),r="object"==e.typeStr(o);if("SleeknoteReferral"==n)r&&!e.empty(o.referral)&&this.setReferral(o.referral),r&&!e.empty(o.newVisitor)&&this.setNewVisitorIf(+o.newVisitor),this.erase(n);else if(i(n,"SleekNoteSubmitCookie"))t=n.replace(/SleekNoteSubmitCookie/g,""),e.empty(o)||this.setEmail(t,o,182),this.erase(n);else if(i(n,"SleekNotecookie"))t=n.replace(/SleekNotecookie/g,""),this.setShowCount(t,o||0,182),this.erase(n);else if(i(n,"SleekNoteSessionClosed")){t=n.replace(/SleekNoteSessionClosed/g,"");var s=this.readPersistentCookieByCampaignId(t);r&&!e.empty(o.close)&&(s.c=+o.close),r&&!e.empty(o.hide)&&(s.h=+o.hide),r&&!e.empty(o.Engaged)&&(s.e=+o.Engaged),r&&!e.empty(o.utm)&&(s.u=o.utm),r&&!e.empty(o.query)&&(s.q=o.query),r&&!e.empty(o.sequence)&&(s.s=this.encodeArrayValues(o.sequence)),this.writePersistentCookieByCampaignId(t,s),this.erase(n)}},this)}},encodeArrayValues:function(t){return Array.isArray(t)&&t.forEach(function(t,i,n){n[i]=e.encodeURIComponent(t)}),t},decodeArrayValues:function(t){return Array.isArray(t)&&t.forEach(function(t,i,n){n[i]=e.decodeURIComponent(t)}),t},forceResetSession:function(e){var t;"full"!=e&&(t=this.getGeoInfo()),this.erase("SNC"),this.erase("SNSubscribed"),this.newVisitor=this.newVisitorCheck(),t&&this.setGeoInfo(t),this.startSessionTime()},closeSession:function(e){var t=this.readPersistentCookieByCampaignId(e);t.c=1,this.writePersistentCookieByCampaignId(e,t)},isSessionClosed:function(e){return!!this.readPersistentCookieByCampaignId(e).c},hideSession:function(e){var t=this.readPersistentCookieByCampaignId(e);t.h=1,this.writePersistentCookieByCampaignId(e,t)},isSessionHidden:function(e){return!!this.readPersistentCookieByCampaignId(e).h},setEngaged:function(e){var t=this.readPersistentCookieByCampaignId(e);t.e=1,this.writePersistentCookieByCampaignId(e,t),this.recordGoalEngaged(e)},isEngaged:function(e){return!!this.readPersistentCookieByCampaignId(e).e},convertSessionEvent:function(e){var t=this.readPersistentCookieByCampaignId(e);t.z=1,this.writePersistentCookieByCampaignId(e,t)},hasConvertSessionEvent:function(e){return!!this.readPersistentCookieByCampaignId(e).z},setUTMInclude:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.u=t,this.writePersistentCookieByCampaignId(e,i)},getUTMInclude:function(e){return this.readPersistentCookieByCampaignId(e).u},setQueryInclude:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.q=t,this.writePersistentCookieByCampaignId(e,i)},getQueryInclude:function(e){return this.readPersistentCookieByCampaignId(e).q},getSequence:function(e){return this.decodeArrayValues(this.readPersistentCookieByCampaignId(e).s)||[]},setSequence:function(t,i){var n=this.readPersistentCookieByCampaignId(t);e.empty(i)?delete n.s:n.s=this.encodeArrayValues(i),this.writePersistentCookieByCampaignId(t,n)},setSubscription:function(){this.write("SNSubscribed",!0,730)},isSubscribed:function(){return this.read("SNSubscribed",!1)},setEmail:function(e,i,n){n=+n||365;var o=this.readPersistentCookieByCampaignId(e);n>0?o.b=[t(n).getTime(),i]:delete o.b,this.writePersistentCookieByCampaignId(e,o)},getEmail:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.b=t.b||[],t.b[1]||""},setShowCount:function(e,i,n){n=+n||365;var o=this.readPersistentCookieByCampaignId(e);o.i=[t(n).getTime(),i],this.writePersistentCookieByCampaignId(e,o)},getShowCount:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.i=t.i||[],t.i[1]||0},incrementShowCount:function(e){this.setShowCount(e,this.getShowCount(e)+1),this.recordGoalShown(e)},eraseShowCount:function(e){var t=this.readPersistentCookieByCampaignId(e);delete t.i,this.writePersistentCookieByCampaignId(e,t)},cleanShowCount:function(e){this.getShowCount(e)<1&&this.eraseShowCount(e)},setReferral:function(e){var t=this.readPersistentCookie();t.r=t.r||{},t.r.r=e,this.writePersistanceCookie(t)},getReferral:function(){var e=this.readPersistentCookie();return e.r=e.r||{},e.r.r||""},setNewVisitorIf:function(e){e&&this.setNewVisitor(!0)},setNewVisitor:function(e){var t=this.readPersistentCookie();t.r=t.r||{},t.r.n=+e,this.writePersistanceCookie(t)},isStoredNewVisitor:function(){var e=this.readPersistentCookie();return e.r=e.r||{},!!e.r.n},setVistorIdIf:function(e){var t=this.readPersistentCookie();return t.v=t.v?t.v:e,this.writePersistanceCookie(t),t.v},getVistorId:function(){var t=this.readPersistentCookie();return t.v||(t.v=e.guid_string(),this.writePersistanceCookie(t)),t.v},hasVisitorId:function(){var t=this.readPersistentCookie();return!e.empty(t.v)},setGeoInfo:function(e){var t=this.readPersistentCookie();return t.gi=e,this.writePersistanceCookie(t),t.gi},getGeoInfo:function(){return this.readPersistentCookie().gi},recordGoalShown:function(e){var t=this.readPersistentCookie();return t.g=t.g?t.g:{},t.g.sc=t.g.sc?t.g.sc:{},t.g.sc[e]=(t.g.sc[e]?t.g.sc[e]:0)+1,this.writePersistanceCookie(t),t.g.sc[e]},getGoalShownList:function(){var e=this.readPersistentCookie();return e.g=e.g?e.g:{},e.g.sc||{}},recordGoalEngaged:function(e){var t=this.readPersistentCookie();return t.g=t.g?t.g:{},t.g.e=t.g.e?t.g.e:{},t.g.e[e]=1,this.writePersistanceCookie(t),t.g.e[e]},getGoalEngageList:function(){var e=this.readPersistentCookie();return e.g=e.g?e.g:{},e.g.e||{}},resetGoal:function(){var e=this.readPersistentCookie();return delete e.g,this.writePersistanceCookie(e)},startSessionTime:function(){var t=this.readPersistentCookie();t.a=t.a||{},t.a.s=(new Date).getTime(),t.a.i=e.guid_string(),this.writePersistanceCookie(t)},getSessionStartTime:function(){var e=this.readPersistentCookie();return e.a=e.a||{},e.a.s||(e.a.s=(new Date).getTime(),this.writePersistanceCookie(e)),new Date(e.a.s)},endSessionTime:function(){var e=this.readPersistentCookie();e.a=e.a||{},e.a.e=(new Date).getTime(),delete e.a.i,this.writePersistanceCookie(e)},getLastSessionEndTime:function(){var e=this.readPersistentCookie();return e.a=e.a||{},e.a.e?new Date(e.a.e):""},getSessionId:function(){var e=this.readPersistentCookie();return e.a=e.a||{},e.a.i||""},newVisitorCheck:function(){return a.cookie.indexOf("SNC")<0},setInTest:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.t=i.t||{},i.t.i=t,this.writePersistentCookieByCampaignId(e,i)},getInTest:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.t=t.t||{},t.t.i||null},setChosenCohort:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.t=i.t||{},i.t.c=t,this.writePersistentCookieByCampaignId(e,i)},getChosenCohort:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.t=t.t||{},t.t.c||null},cookieExists:function(e){return l.hasItem(e)},cookieMatches:function(e,t){return l.getItem(e)==t}},n}(t),I=function(e){function t(t){var n=new e(t);return i[n.storageBacker]||(i[n.storageBacker]=n),i[n.storageBacker]}var i={};return{create:t}}(E),N=function(e,t,i,n){function o(e){var i={};return i.s1=e||"",i.s2=d.title,i.s3=u.location.hostname||"",i.s4=u.location.href||"",i.s9=u.location.protocol||"",i.s11=u.location.pathname||"",i.s12=u.location.search||"",i.s13=u.location.hash||"",i.c1=t.user.timezoneOffSet()||"",i.s7=t.user.language(),i.v5=t.userAgent(),i.v22=t.is.name,i.v23=t.is.version,i.v24=t.is.platform,i.v26=t.is.device,i}function r(e){return e.toISOString().split(".")[0]+"Z"}function s(){var n=i.create({useLocalStorage:!1}),o={},s=new Date,a=n.getSessionStartTime(),c=Math.round((s.getTime()-a.getTime())/1e3);o.v0=n.getVistorId(),o.v3=r(s),o.v4=d.referrer,o.v6=r(a);var l=n.getLastSessionEndTime();return e.empty(l)||(o.v7=r(l)),o.v20=e.empty(l)?"true":"false",o.v21=n.getSessionId(),o.v25=t.isLandscape()?"true":"false",o.v27=c,o}function a(e){var t=d.createElement("img");return t.width=1,t.height=1,t.src=e,t}function c(t,i,n){var o=a(e.appendToUrl(t,i));o.onload=o.onerror=function(){o.onload=null,o.onerror=null,n()}}function l(i,n){if(n=n||function(){},!t.is.bot){var o=e.buildQueryString(i);c(f,o,n)}}function h(e){g=o(e)}var u=this,d=u.document,f="https://analytics.sleeknote.com/",g={},p={pagereload:"1_pagereload",pageview:"2_pageview",shown:"3_sleeknote_shown",engaged:"4_sleeknote_engaged",closed:"5_sleeknote_closed",link_clicked:"6_sleeknote_link_clicked",goal_converted:"7_goal_converted",teaser_closed:"8_sleeknote_teaser_closed",substep_engaged:"11_sleeknote_substep_engaged"},m={newsletter:"1_Newsletter",promote:"2_Promote",contact:"3_Contact",blank:"2_Promote"};return h.prototype={trackPageView:function(){var t={v8:p[u.performance&&1==u.performance.navigation.type?"pagereload":"pageview"]||"pageview"};l(e.extend(t,s(),g))},trackEvent:function(t,i,n){i=i||{},i.trackData=i.trackData||{};var o={v8:p[t]||t,v1:i&&i.campaignId,v12:m[i.type]||i.type,v33:i.stepName},r=i.trackData.openTriggerEvent;r&&(o.v9=r.name,r.value&&(o.v10=r.value));var a=i.trackData.closeTriggerEvent;a&&(o.v9=a.name,o.v32=a.elementDataId);var c=i.trackData.submitTriggerEvent;c&&"engaged"==t&&(o.v9=c.name,o.v32=c.elementDataId,delete i.trackData.submitTriggerEvent);var h=i.trackData.userDefinedClickEvent;h&&(o.v28=h.linkDestination,o.v29=h.linkType,o.v30=h.linkDestinationType,o.v31=h.linkName,o.v32=h.elementDataId),i.smartIndex&&(o.v11="true");var u=i.splitTestId;u&&!isNaN(u)&&(o.v19=u);var d=i.position||i.form&&i.form.position;d&&(o.v13=d),l(e.extend(o,s(),g),n),i.trackData&&delete i.trackData},trackGoal:function(t,n){var o=i.create({useLocalStorage:!1}),r={v8:p[t]||t,g1:n,v15:"true"};r.g2=Object.keys(o.getGoalEngageList()).join(","),r.g3=Object.keys(o.getGoalShownList()).join(","),l(e.extend(r,s(),g)),o.resetGoal()}},h}(t,e,I),P=function(e,t,i,n,o){function r(e,t,n){a=new i(e,t),a.trackPageView(),this.isGoalMatch()}function s(e,i,n){if(t.CustomInitSettings.DisableGA)return void h("GA disabled in config",t.CustomInitSettings.DisableGA);var o=c.ga,r=c._gat,s=c._gaq,a=c.__gaTracker,l=0;try{n=n.toString(),r&&r._getTrackers?(r._getTrackers().forEach(function(t){t._trackEvent(e,i,n,void 0,1)}),l++):s&&s.push?s.push(["_trackEvent",e,i,n,void 0,1]):a&&a("send","event",e,i,n,void 0,1),o&&o.getAll&&(o.getAll().forEach(function(t){o(t.get("name")+".send","event",e,i,n,{nonInteraction:!0})}),l++),l||h("google blocked")}catch(e){h(e)}}var a,c=this,l=c.document,h=t.debugMessage("t"),u=t.editor||t.preview;return r.prototype={event:function(e,t,i){!u&&a&&a.trackEvent(e,t,i)},shown:function(e){this.event("shown",e,null),this.customTrackerEvent("boxShown",e.campaignId),h("closeSession")},cohortEvent:function(e,t,i){u||s("cohorts",e,t+" | "+i)},customTrackerEvent:function(e,t){function i(e,t){s("Sleeknote",e,t)}switch(t=t||"unknown",h("customTrackerEvent",e),e){case"boxShown":i("Sleeknote shown",t);break;case"newsletter":i("New Subscriber",t);break;case"contact":i("New Contact Request",t);break;case"blank":i("Blank Click",t);break;case"social":i("New Social Follower",t);break;default:h("customTrackerEvent","unknown")}},isGoalMatch:function(){if(!u){var e,i,o,r,s=l.location.href;if(t.SleeknoteGoals&&(r=n.create({useLocalStorage:!0}),r.read("location")!=s))for(r.write("location",s),e=0;e<t.SleeknoteGoals.length;e++)for(o=t.SleeknoteGoals[e].urls,i=0;i<o.length;i++)if(~s.indexOf(o[i].url)){a.trackGoal("goal_converted",t.SleeknoteGoals[e].goalId);break}}}},r}(0,o,N,I),L=function(e,t,i){function n(e,n,o){if(!0===i.local)return!0;var r=t.get(i).domainMatches(n);return S(o,"CorrectDomain","is",e?e+","+n:n,r),r}function o(t,i,n,o){var r,s=!0;if(void 0===t||!Array.isArray(i))return S(o,"excludedOrIncludedFromThisReferral","not evaluated"),s;if("exclude"==t)for(var a=0;a<i.length;a++){var c=i[a];c=e.cleanUpReferral(c),c&&(-1!=c.indexOf("*")?(r=c.replace("*",""),-1!=n.indexOf(r)&&(s=!1)):n==c&&(s=!1))}else{s=!1;for(var l=0;l<i.length;l++){var h=i[l];h=e.cleanUpReferral(h),h&&(-1!=h.indexOf("*")?(r=h.replace("*",""),-1!=n.indexOf(r)&&(s=!0)):n==h&&(s=!0))}}return S(o,"excludedOrIncludedFromThisReferral","is",s),s}function r(e,t,i){return b(l,e,t||[],i)}function s(t,i,n,o){function r(t,i){if(!Array.isArray(t))return S(o,"includeOnThisUTM","not evaluated"),!0;S(o,"includeOnThisUTM","evaluating",JSON.stringify(t));var n,r,s,a;if(Array.isArray(t))for(r=0;r<t.length;r++){for(n=e.getQueryVarByName(t[r].UTMName).toLowerCase().split(","),a=!1,s=0;s<n.length&&!(a="contains"==t[r].matchType?~n[s].indexOf(t[r].value):n[s]==t[r].value);s++);if(!a)return!i}return i}var s=i.getUTMInclude(n);return s?(S(o,"includeOnThisUTM","cookie",s>0),s>0):t&&(Array.isArray(t.Exclude)||Array.isArray(t.Include))?r(t.Exclude,!1)&&r(t.Include,!0)?(i.setUTMInclude(n,1),S(o,"includeOnThisUTM","is",!0),!0):(i.setUTMInclude(n,-1),void S(o,"includeOnThisUTM","is",!1)):(S(o,"includeOnThisUTM","not evaluated"),!0)}function a(t,i){var n,o=[],r={};switch(t){case 2:return"boolean"!=e.typeStr(i)&&(i=e.JSON.parse(i)),i;case 3:case 8:return i;case 1:case 6:for(Array.isArray(i)||(i=e.JSON.parse(i)),n=i.length;n--;)o.unshift(i[n].value);return o;case 4:case 10:case 5:case 9:case 11:return"string"==e.typeStr(i)&&(i=e.JSON.parse(i)),i.include&&(r.include=a(1,i.include)),i.exclude&&(r.exclude=a(1,i.exclude)),r;case 7:case 12:return"string"==e.typeStr(i)&&(i=e.JSON.parse(i)),i}}function c(e,t){return"exclude"==e?!t:t}function l(e,n,o,r){var s=c(e,t.get(i).matches(n));return S(o,"evaluateURL",e,n,s),s}function h(e,n,o,r){var s=c(e,t.get(i).contains(n));return S(o,"containsURL",e,n,s),s}function u(e,t,i){var n=t.lng<e.lng?i.lng>=e.lng||i.lng<=t.lng:i.lng>=e.lng&&i.lng<=t.lng;return i.lat>=e.lat&&i.lat<=t.lat&&n}function d(e,t,i,n){t=t||{};var o,r=n.getGeoInfo()||{};return o=t.sw?c(e,u(t.sw,t.ne,{lat:r.lt,lng:r.lg})):c(e,r.gi.indexOf(t.geoname_id)>-1),S(i,"containsGEOID",e,t,o),o}function f(e,n,o,r,s){var a=t.get(i).queryParams(),c=0;if(o.length){if(o.forEach(function(t){var i=t[0].key,o=t[0].value;S(r,"evalSpecificQuery",e?"and":"or",n,"?"+i+"="+o,0),i in a&&a[i]==o&&c++}),c==o.length)return c="include"==n?1:-1,S(r,"evaluateQuery",n,o,!0),c;S(r,"evaluateQuery",n,[],!1)}return 0}function g(e,t,i,n,o){var r,s,a=o.getQueryInclude(n.CampaignId);return r=f(e,"exclude",i.exclude||[],n,o),s=f(e,"include",i.include||[],n,o),r||s?-1==r?(e||(t="exclude"),o.setQueryInclude(n.CampaignId,r),{result:!1,matchType:t}):s?(o.setQueryInclude(n.CampaignId,s),{result:s>0,matchType:t}):(o.setQueryInclude(n.CampaignId,r),{result:r>0,matchType:t}):(a&&S(n,"Query cookie","is set",a,!0),{result:a?a>0:!(i.include||[]).length,matchType:t})}function p(e,t,i,n){var o,r=t.split("=");return o=r.length>1?n.cookieMatches(r[0],r[1]):n.cookieExists(r[0]),o=c(e,o),S(i,"evaluateCookie",e,t,o),o}function m(e,t,i,n){t||(t=[]);var o=t.length;if(!o)return!0;if("include"!=e){for(;o--;)if(!p(e,t[o],i,n))return!1;return!0}for(;o--&&p(e,t[o],i,n););return-1==o||void 0}function v(t,i,n,o){var r=e.gid(i.target);if(e.empty(r)){var s=c(t,"notExists"==i.matchType);return S(n,"evalateHtmlElementValue",t,s),s}var a=e.parseNodeValue(r);switch(i.matchType){case"exactMatch":s=c(t,a.toLowerCase()==i.value.toLowerCase());break;case"notExactMatch":s=c(t,a.toLowerCase()!=i.value.toLowerCase());break;case"contains":s=c(t,a.toLowerCase().indexOf(i.value.toLowerCase())>-1);break;case"lessThan":s=c(t,+a<+i.value);break;case"lessThanEq":s=c(t,+a<=+i.value);break;case"greaterThan":s=c(t,+a>+i.value);break;case"greaterThanEq":s=c(t,+a>=+i.value);break;case"exists":s=c(t,!0)}return S(n,"evalateHtmlElementValue",t,s),s}function b(e,t,i,n,o){var r=(i||[]).length,s=!1;if(!r)return!0;for(;r--;)if(s=e(t,i[r],n,o),"include"==t){if(s)return!0}else if(!s)return!1;return s}function y(n,o,r,s){var c,u,f,p,y=0,w=o;if(S(r,"--Conditions--",o?"AND":"OR",n.length),!n.length)return!0;for(;y<n.length;y++)if(c=n[y],"object"==e.typeStr(c)){if(u=a(c.type,c.value),p=c.matchType,12==c.type)f=b(v,"exclude",u.exclude,r,s),f?f=b(v,"include",u.include,r,s):o||(p="exclude");else if(11==c.type)f=b(d,"exclude",u.exclude,r,s),f?f=b(d,"include",u.include,r,s):o||(p="exclude");else if(4==c.type||10==c.type)f=b(10==c.type?h:l,"exclude",u.exclude,r,s),f?f=b(10==c.type?h:l,"include",u.include,r,s):o||(p="exclude");else if(5==c.type){var k=s.getQueryInclude(r.CampaignId);e.empty(t.get(i).queryParams())&&k?(S(r,"Query cookie","is set",k,!0),f=k>0):(f=g(o,p,u,r,s),p=f.matchType,f=f.result)}else 9==c.type?(f=m("exclude",u.exclude,r,s),f?f=m("include",u.include,r,s):o||(p="exclude")):f=x[C[c.type-1]](p,u,r,s);w=o?w&&f:w||f}return w}function w(e,t){for(var i=e.rules&&e.rules.groups||[],n=0,o=!1,r=!0;n<i.length;n++)o=!!y(i[n].conditions,i[n].conditionAnd,e,t),r=i[n].groupAnd?r&&o:r||o;return r}function k(e){for(var t=e.rules&&e.rules.groups||[],i=0;i<t.length;i++)if(t[i].conditions&&t[i].conditions.length)return!0}var S=i.debug?function(e,t,i,n,o){e.CampaignId;var r=(e.CampaignId+"").split("-")[0];o===Boolean(o)&&(o=o?"YES":"NO");var s=[r," ",t," [",i,', "',n,'"]'];void 0!==o&&s.push(" ->"),console.log(s.join(""),void 0===o?"":o)}:function(){},x={},C=["evalSequence","evalNewsletterSubscriber","evalNewVisitor","evalSpecificURL","evalSpecificQuery","evalSpecificReferral","evalUTMCampaign","evalShowCount"];return x[C[0]]=function(t,i,n,o){var r=o.getSequence(n.CampaignId);return S(n,"Current Sequence","is",e.JSON.stringify(r)),r.length<i.length&&(l("include",i[r.length],n,o)?r.push(1):r.length-1>=0&&l("include",i[r.length-1],n,o)||(r.length=0)),o.setSequence(n.CampaignId,r),r.length==i.length?(S(n,C[0],t,i,!0),c(t,!0)):"exclude"==t||void S(n,C[0],t,i,!1)},x[C[1]]=function(n,o,r,s){var a=s.isSubscribed()||"true"==e.getQueryVarByName("SNSubscribed");S(r,"Current Subscribe","saved",a),!a&&o.extraParam&&(a=~String(t.get(i)).indexOf(o.extraParam)),a=o.value?a&&o.value:a&&o;var l=c(n,a);return S(r,C[1],n,o.value?o.value:o,l),l},x[C[2]]=function(e,t,i,n){var o=c(e,n.newVisitor);return S(i,C[2],e,t,o),o},x[C[5]]=function(t,i,n,o){var r=o.getReferral().toLowerCase();S(n,"stored referral is",r);var s=r&&i.some(function(t){return e.cleanUpReferral(t).toLowerCase()==r}),a=c(t,s);return S(n,C[5],t,i,a),a},x[C[6]]=function(e,n,o,r){function s(e,t){var i,n,o,r=e.split(",");for(i=0;i<t.length;i++)for(o=t[i].matchType,n=0;n<r.length;n++)if("exactMatch"==o){if(t[i].value==r[n])return!0}else if("contains"==o&&~r[n].indexOf(t[i].value))return!0}var a=t.get(i).queryParams(),l=r.getUTMInclude(o.CampaignId);if(l)return S(o,"UTM cookie","is set",l,!1),l>0;var h=function(e,t){var i,n,o;for(i in t)if(t.hasOwnProperty(i)){n=!0;for(o in e)if(i.toLowerCase()==o.toLowerCase()&&(n=!1,!s(e[o],t[i])))return!1;if(n)return!1}return!0}(a,n),u=c(e,h);return r.setUTMInclude(o.CampaignId,u?1:-1),S(o,C[6],e,JSON.stringify(n),u),u},x[C[7]]=function(e,t,i,n){if(i.hiddenSleeknote)return S(i,C[7],"hidden Sleeknote"),!0;var o=n.getShowCount(i.CampaignId),r=c(e,o>=t);return S(i,C[7],e,t,r),r},{isCorrectDomain:n,excludedOrIncludedFromThisReferral:o,excludedOrIncludedOnThisPage:r,includeOnThisUTM:s,includeNote2:w,isAnyConditions2:k}}(t,k,o),A=function(e,t){function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function n(e,t,i){return e>=t&&e<=i}var o,r=this;return function(){var t=function(t,i){this.storage=t,this.options=e.extend({smart:!1,name:null,cohorts:null,sample:1,invalidConfigCallback:function(){},previousChoiceRemoved:function(){}},i),o=this.options.name,o?this.options.cohorts?e.objectSize(this.options.cohorts)<2?this.getCohort(o)?(console.warn("cohort: Previous note is not longer available"),this.options.previousChoiceRemoved()):(console.warn("cohort: You must specify at least 2 cohorts for a test"),this.options.invalidConfigCallback()):(this.cohorts=Object.keys(this.options.cohorts),this.run()):(console.warn("cohort: Cohorts must be specified for this test"),this.options.invalidConfigCallback()):(console.warn("cohort: A name for this test must be specified"),this.options.invalidConfigCallback())};return t.prototype={run:function(){var t,s=r.location.hash;0===s.indexOf("#")&&(s=s.slice(1,s.length));for(var a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("="),h=l[0];t=l[1],this.options.name==h&&this.setCohort(o,t)}var u=this.getInTest(o);null===u&&(u=Math.random()<=this.options.sample);var d;if(u){if(this.storage.setInTest(o,1),this.getCohort(o))d=this.getCohort(o);else{var f,g=0,p=e.objectSize(this.options.cohorts);if(this.options.smart){for(f=i(1,100);p--;)if(t=this.options.cohorts[this.cohorts[p]],n(f,t.low,t.high)){g=p;break}}else g=i(0,p-1);d=this.cohorts[g],this.setCohort(o,d)}this.options.cohorts[d]&&this.options.cohorts[d].onChosen&&this.options.cohorts[d].onChosen()}else this.setInTest(o,0)},getInTest:function(e){return this.storage.getInTest(e)},getCohort:function(e){if(this.getInTest(e))return this.storage.getChosenCohort(e)},setCohort:function(e,t){return-1!=this.cohorts.indexOf(t)&&(this.storage.setChosenCohort(e,t),!0)}},t}()}(t),M=function(e,t,i,n,o,r){function s(){return e.is.phone&&"isRealMobileSite"in o.CustomInitSettings?!!o.CustomInitSettings.isRealMobileSite:!e.is.phone||e.dim.screen.width()===e.dim.win.width()}function a(e){return"rules"in e||(+e.Version||0)>1}function c(e,i,o){if(!Array.isArray(e))return[];var r={},s=[];e.forEach(function(e,i){if(e){var n,a,c=e.CampaignId+"-smart";if(Array.isArray(n=function(){var t=l(e,o);return t!=v.MOBILE&&t!=v.IGNORE?e.smarts:void 0}())){r[c]=[];var h=1;n=n.map(function(e){return e.low=h,e.high=h+e.weight-1,h=e.high+1,e}),n.forEach(function(i,n){var o=[t.extend(i)],r=[o[0].id,o[0].type,o[0].value,o[0].weight].join(",");n?(a=t.extend(e),a.SplitTestId=c,a.smartIndex=r,a.rules.triggers=o,s.push(a)):(e.smartIndex=r,e.rules.triggers=o,e.SplitTestId=c)}),e=!1}}}),e=e.concat(s);var c=e.map(function(e,t){return a(e)?f(i,e,r,t,o):h(i,e,r,t,o)}),u=[],d=[],g="";return Object.keys(r).forEach(function(t){var o,s,a=r[t],l=a.length,h=0,f=100;if(l){k("testSubjects: "+l+" Test subject 1: "+c[a[0]].campaignId);var p={};for(s=0;s<l;s++)o=c[a[s]].smartIndex||"",g=c[a[s]].campaignId,o&&(h=e[a[s]].rules.triggers[0].low||0,f=e[a[s]].rules.triggers[0].high||100),p[g+o]={sleeknoteId:g,smartIndex:o,low:h,high:f,onChosen:function(e){return function(){u.push(a[e])}}(s)};try{k("added Split test",p),new n(i,{smart:o,name:o?g:t,sample:1,cohorts:p,invalidConfigCallback:function(){Object.keys(p).length<2&&(k("Split test not added, invalid split test...Stoping split test but showing the only one we have",p),d[t]=!0)},previousChoiceRemoved:function(){}})}catch(e){k(e)}}}),c.filter(function(e,t){if(e){if(e.splitTestId){if(d[e.splitTestId])return delete e.splitTestId,e;if(u.indexOf(t)<0)return void k(e.campaignId,e.splitTestId,e.smartIndex||"","ignored for split test");k(e.campaignId,e.splitTestId,e.smartIndex||"","added for split test")}i.setShowCount(e.campaignId,i.getShowCount(e.campaignId))}return e})}function l(t,i){var n,r="true"==t.ShowOnMobile;return a(t)?i?n=o.editor||o.preview?"mobile"==(o.editor||o.preview).profile?v.MOBILE:v.DESKTOP:e.is.desktop?v.DESKTOP:e.is.tablet?v.TABLET:v.MOBILE:("displayStatus"in o.CustomInitSettings&&(n=o.CustomInitSettings.displayStatus(e,o,t,v)),"displayStatus"in o.CustomInitSettings&&void 0!==n||(n=v.IGNORE,
Array.isArray(t.rules.display)?e.is.desktop?~t.rules.display.indexOf(1)&&(n=v.DESKTOP):e.is.tablet?~t.rules.display.indexOf(1)&&(n=v.TABLET):~t.rules.display.indexOf(2)&&(n=v.MOBILE):e.is.desktop?~[1,3].indexOf(t.rules.display)&&(n=v.DESKTOP):e.is.tablet?~[1,2].indexOf(t.rules.display)&&(n=v.TABLET):~[1,2].indexOf(t.rules.display)&&(n=v.MOBILE))):i?n=e.is.desktop?v.DESKTOP:e.is.tablet?v.TABLET:v.MOBILE:("displayStatus"in o.CustomInitSettings&&(n=o.CustomInitSettings.displayStatus(e,o,t,v)),"displayStatus"in o.CustomInitSettings&&void 0!==n||(n=e.is.desktop?v.DESKTOP:r?e.is.tablet?v.TABLET:v.MOBILE:v.IGNORE)),i||n!=v.MOBILE||s()||(n="displayStatus"in o.CustomInitSettings&&o.CustomInitSettings.displayStatus(e,o,t,v)==v.MOBILE?v.MOBILE:a(t)?v.TABLET:v.DESKTOP),n}function h(e,n,r,s,a){var c,h,u=v.UNKN,d=e.isSubscribed()||"true"==t.getQueryVarByName("SNSubscribed"),f=void 0===n.ShowCount?4:+n.ShowCount||99999,g="true"==n.ObeyDontShow,p=i.excludedOrIncludedFromThisReferral(n.includeExcludeReferral,n.includeExcludeReferrals,e.getReferral(),n),b=i.excludedOrIncludedOnThisPage(n.includeExclude,n.includeExcludeURLs,n),y=e.getEmail(n.CampaignId),w=e.getShowCount(n.CampaignId),S=i.isCorrectDomain(n.HostnamePunycode,n.Hostname,n),x=i.includeOnThisUTM(n.UTM,e,n.CampaignId,n);return h=y||w>=f||g&&d||!S||!b||!p||!x,(u=a||n.hiddenSleeknote||!h?l(n,a):v.IGNORE)<=v.IGNORE?(e.cleanShowCount(n.CampaignId),void k("sleeknote ignored",n.CampaignId,"email:",y,"show:",w,f,"obey:",g,"subscribed:",d)):(c={profile:u,campaignId:n.CampaignId,hostname:n.Hostname,wait:"exit"==n.ShowSleekNoteAfter?0:e.isSessionClosed(n.CampaignId)?0:+n.ShowSleekNoteAfter,exit:!e.isSessionClosed(n.CampaignId)&&"exit"==n.ShowSleekNoteAfter,hidden:n.hiddenSleeknote,type:n.SleeknoteType,showCount:f,splitTestId:n.SplitTestId,customerId:n.CustomerId,version:1,successLandingPage:n.SuccessLandingPage,successAction:n.SuccessAction,piwikSiteId:o.SleeknotePiwikSiteId||n.CustomerId},a&&(k('ignoring the rules for "'+n.CampaignId+'" use t() to activate'),c.hidden=!0),c.hidden&&!h&&(c.wait=0),0===c.delay&&(c.delay=1),c.hidden&&h&&(c.delay=0,c.exit=!1,c.wait=0),m(c,n,r,s))}function u(e){return e==v.MOBILE?1:0}function d(e,t,i,n){var o=i[e];return Array.isArray(o)&&(o=o[u(n)]),void 0===o&&(o=t),o}function f(n,r,a,c,h){function u(e,t){for(var i=r.rules.triggers.length;i--;)if(r.rules.triggers[i].type==e)return r.rules.triggers[i].value;return t}var f,g={options:r.advOptions||[],profile:l(r,h),campaignId:r.CampaignId,wait:0,exit:!1,hidden:!0,type:r.SleeknoteType,customerId:r.CustomerId,piwikSiteId:o.SleeknotePiwikSiteId||r.CustomerId,smartIndex:r.smartIndex,version:+r.Version||2};if(g.version<4&&(g.successAction=d("SuccessAction",void 0,r,g.profile),g.successLandingPage=d("SuccessLandingPage",void 0,r,g.profile)),h)g=t.extend(g,{hidden:!o.editor&&!o.preview}),k(g.campaignId,"ignoring the rules");else{k(g.campaignId,"START EVALUATING"),k(g.campaignId,"Location",y.location.toString()),e.is.phone&&k(g.campaignId,"realMobileSite",s());var p=i.isCorrectDomain(r.HostnamePunycode,r.Hostname,r),b=i.includeNote2(r,n),S=n.getEmail(g.campaignId);if(f=S||!p||!b||n.isSessionHidden(g.campaignId),k(g.campaignId,"include",b),k(g.campaignId,"correctDomain",p),k(g.campaignId,"isSessionHidden",n.isSessionHidden(g.campaignId)),S&&k(g.campaignId,"email",S),k(g.campaignId,"doNotShow",f),u(4,!1)||u(5,!1)?p?i.isAnyConditions2(r)&&!b?(k(g.campaignId,"manual and ignored",!0),g.profile=v.IGNORE):g.profile=l(r,h):g.profile=v.IGNORE:f&&(g.profile=v.IGNORE),k(g.campaignId,"profile",["ZERO?","UNKN","IGNORE","DESKTOP","TABLET","MOBILE"][g.profile]),g.profile<=v.IGNORE)return n.cleanShowCount(g.campaignId),void k(g.campaignId,"REJECTED");k(g.campaignId,"INCLUDED");var x=0===u(1,void 0)?-1:u(1,0);if(g=t.extend(g,{hostname:r.Hostname,wait:n.isSessionClosed(r.CampaignId)?0:1e3*x,exit:!n.isSessionClosed(r.CampaignId)&&u(3,!1),scroll:!n.isSessionClosed(r.CampaignId)&&u(2,0),hidden:u(4,!1),onClick:u(5,!1),splitTestId:r.SplitTestId}),g.onClick)try{g.onClick=JSON.parse(g.onClick),g.onClick.selector=(g.onClick.classes||[]).reduce(function(e,t){try{w.body.querySelector("."+t.value)&&e.push("."+t.value)}catch(e){}return e},[]).concat((g.onClick.ids||[]).reduce(function(e,t){try{w.body.querySelector("#"+t.value)&&e.push("#"+t.value)}catch(e){}return e},[])).join(",");w.body.querySelectorAll(g.onClick.selector).length||(g.onClick=!1)}catch(e){g.onClick=!1}(g.hidden||f)&&(g.wait=0,g.exit=!1,g.scroll=0)}return m(g,r,a,c)}function g(e){return(~e.indexOf("http://")||~e.indexOf("https://")?"":"//")+e}function p(e){return t.contains(e,b.HELLO,b.HELLO2)}function m(e,i,n,r){e.profile==v.MOBILE&&(e.wait=0);var s=function(t,n){return d(t,n,i,e.profile)},a=+s("BoxAndBarAlignment",b.POPUP),c=s("placement");if(p(a)&&(e.wait=0,e.exit=!1,e.scroll=0),a==b.POPUP&&(a=e.profile==v.MOBILE?b.SLIDEUP:b.POPUP2),e.profile!=v.TABLET||p(a)||(a=a==b.BOTTOM_LEFT?b.POPUP7:a==b.BOTTOM_RIGHT?b.POPUP9:b.POPUP5),e.profile==v.MOBILE&&(a<=b.BOTTOM_RIGHT||a==b.POPUP2)&&(a=b.SLIDEUP),e.version<=3){i.steps={form:{type:"form",teaser:"teaser"}};var l=s("ShowTeaser");l||!1===l||(l=!0),e.profile==v.MOBILE&&e.version<3&&(l=!1),a==b.POPUP&&e.version<3&&(l=!1),(p(a)||1==e.version&&a==b.POPUP2)&&(l=!1),l&&(i.steps.teaser={type:"teaser",form:"form"}),"SuccessStep"==e.successAction?(i.steps.success={type:"success"},i.steps.form.success="success"):"redirect"==e.successAction&&e.successLandingPage?i.steps.form.redirect=e.successLandingPage:delete i.steps.success,delete e.successAction,delete e.successLandingPage}o.tabletUsesMobile=!1,e.position=a;var h=e.profile==v.MOBILE;e.version>3?e.url=h?i.SleekNoteMobileURL:i.SleekNoteDesktopURL:e.version>2&&h?e.url={toggler:i.SleekNoteMobileURL,teaser:i.SleekNoteMobileTeaserURL}:e.url={toggler:i.SleekNoteDesktopURL,teaser:i.SleekNoteDesktopTeaserURL};var f=e.version>3?i.steps[u(e.profile)]:i.steps;e.steps={},Object.keys(f).forEach(function(n){var o=t.extend({},f[n],{name:n,mobile:e.profile==v.MOBILE,campaignId:e.campaignId,customerId:e.customerId,version:e.version,position:a,placement:c,profile:e.profile,noteType:e.type});if("string"==t.typeStr(o.redirect)&&(o.redirect=g(o.redirect)),e.version>3?o.id="#"+t.stepId(n):o.id="teaser"==o.type?"#sleeknoteMinified":"form"==o.type?"#sleeknoteBox":"#sleeknoteSuccess",1==e.version)switch(n){case"teaser":o.height1=+i.SleeknoteTeaserHeight,o.width1=+i.SleeknoteTeaserWidth;break;case"form":o.height1=+i.SleeknoteBoxHeight,o.width1=+i.SleeknoteBoxWidth;break;case"success":o.height1=+i.SleeknoteSuccessHeight,o.width1=+i.SleeknoteSuccessWidth}e.profile,v.TABLET,e.profile==v.MOBILE&&(o.botData=i.bot),e.profile==v.DESKTOP&&(o.relativeWidth=0),t.contains(o.type,"teaser")&&(e.profile,v.TABLET,e.profile==v.DESKTOP&&(o.relativeWidth=0)),e.steps[n]=o});var m=[];return Object.keys(e.steps).forEach(function(t){var i=e.steps[t];["form","teaser","success"].forEach(function(t){t in i?e.steps[i[t]]||delete i[t]:("form"==t&&"teaser"==i.type&&(i.form="form"),"teaser"==t&&"form"==i.type&&"teaser"in e.steps&&(i.teaser="teaser"),"success"==t&&"form"==i.type&&"success"in e.steps&&(i.success="success"))}),"form"==i.type&&"success"==i.success&&m.push(t)}),2==m.length&&(e.steps[m[0]].success=m[1]),e.splitTestId&&(n[e.splitTestId]||(n[e.splitTestId]=[]),n[e.splitTestId].push(r)),e}var v=r.PROFILE,b=r.POS,y=this,w=y.document,k=o.debug?function(e,t,i){"string"==typeof e&&(e=e.split("-")[0]),i===Boolean(i)&&(i=i?"YES":"NO"),0===(t+"").indexOf("START")&&(e="\n"+e),void 0!==i&&(t+=": "+i),console.log.call(console,e,t)}:function(){};return c}(e,t,L,A,o,l),D=function(e,t,i,n,o,r){function s(e,t){this.manager=t,this.config=r.defaults("badge",{profile:t.profile,width:a,height:c})}var a=76,c=20;return s.prototype={dimensions:function(){return this.config},insert:function(e){this.config.DOMNode||(this.config.DOMNode=o.insert("badge",this.config,"sleeknote-badge",""))},remove:function(){this.config.DOMNode&&t.removeNode(this.config.DOMNode)},reposition:function(e){var t=r.needs.badge(e)?"open":"close";o.css(this.config,"DOMNode",o.createPositionStyles(r.boxParameters(this,t),"to")),this.config.current=t},createHTML:function(){o.doc(this.config.DOMNode).documentElement.innerHTML=t.template('<style>* {padding:0;margin:0} .sleeknote-badge {opacity:0.5;display:block;background-color:white;z-ndex:1000000;width:{width}px;height:{height}px;} .sleeknote-badge:hover {opacity:1}</style><body><a href="{href}" target="_blank" class="sleeknote-badge">{svg}<a>',{width:this.config.width,height:this.config.height,href:t.template("//sleeknote.com/?utm_source=Badge&utm_medium={medium}&utm_campaign={hostname}",{medium:this.config.medium,hostname:this.config.hostname}),svg:t.template('<svg width="{width}px" xmlns="http://www.w3.org/2000/svg" height="{height}px"><path d="m26.514 12.038c0.175 0.339 0.489 0.544 0.851 0.639 0.345 0.089 0.702 0.091 1.053 0.042 0.16-0.025 0.31-0.069 0.451-0.137 0.14-0.068 0.256-0.159 0.35-0.276 0.202-0.255 0.193-0.689-0.045-0.92-0.305-0.298-0.767-0.417-1.167-0.513-0.254-0.061-0.511-0.127-0.771-0.2-0.268-0.067-0.528-0.149-0.782-0.247s-0.481-0.223-0.682-0.377c-0.2-0.154-0.362-0.347-0.486-0.578-0.456-0.853-0.089-1.942 0.667-2.479 0.254-0.181 0.541-0.314 0.862-0.402 0.664-0.18 1.372-0.167 2.038-0.005 0.343 0.084 0.648 0.22 0.917 0.407 0.267 0.188 0.479 0.428 0.636 0.719 0.157 0.292 0.235 0.646 0.235 1.062h-1.521c-0.014-0.215-0.059-0.393-0.136-0.534-0.077-0.14-0.179-0.251-0.306-0.331-0.126-0.081-0.271-0.139-0.435-0.171-0.297-0.062-0.619-0.073-0.917-0.011-0.126 0.027-0.242 0.074-0.346 0.141-0.103 0.066-0.189 0.15-0.255 0.251-0.13 0.195-0.145 0.521-0.02 0.724 0.053 0.088 0.158 0.168 0.315 0.241 0.157 0.074 0.373 0.147 0.651 0.222 0.277 0.073 0.64 0.167 1.087 0.281 0.133 0.026 0.319 0.075 0.556 0.146 0.236 0.07 0.473 0.183 0.706 0.337 0.234 0.154 0.437 0.36 0.606 0.618 0.357 0.544 0.322 1.331 0.065 1.905-0.126 0.281-0.315 0.524-0.566 0.729-0.25 0.205-0.561 0.364-0.931 0.478-0.771 0.239-1.657 0.231-2.434 0.024-0.371-0.096-0.699-0.25-0.982-0.456-0.285-0.209-0.51-0.473-0.677-0.795s-0.247-0.705-0.241-1.146h1.523c0 0.241 0.044 0.446 0.131 0.612m6.575-5.408h-1.422v7.178h1.422v-7.178zm2.546 5.932c-0.214-0.208-0.331-0.543-0.351-1.006h3.736c0.027-0.402-0.006-0.788-0.1-1.156-0.092-0.369-0.245-0.697-0.454-0.985-0.211-0.288-0.48-0.519-0.807-0.689-0.664-0.346-1.548-0.343-2.229-0.045-1.378 0.598-1.89 2.276-1.383 3.638 0.123 0.337 0.298 0.624 0.526 0.866 0.227 0.242 0.504 0.428 0.831 0.56 0.814 0.321 1.862 0.274 2.605-0.206 0.414-0.27 0.721-0.715 0.92-1.337h-1.25c-0.047 0.159-0.174 0.312-0.381 0.456-0.463 0.322-1.248 0.304-1.663-0.096m1.609-2.735c0.169 0.188 0.289 0.462 0.354 0.824h-2.313c0.007-0.101 0.027-0.215 0.064-0.342s0.1-0.248 0.19-0.361c0.09-0.114 0.21-0.21 0.361-0.286 0.15-0.078 0.339-0.116 0.566-0.116 0.347 0 0.607 0.094 0.778 0.281m4.065 2.735c-0.217-0.208-0.332-0.543-0.35-1.006h3.734c0.027-0.402-0.006-0.788-0.1-1.156-0.096-0.369-0.246-0.697-0.455-0.985-0.211-0.288-0.48-0.519-0.809-0.689-0.663-0.348-1.548-0.342-2.229-0.045-0.322 0.141-0.604 0.334-0.836 0.578-0.234 0.245-0.414 0.534-0.539 0.869-0.264 0.687-0.259 1.501-0.008 2.19 0.123 0.337 0.301 0.624 0.527 0.866 0.225 0.242 0.504 0.428 0.83 0.56 0.815 0.322 1.863 0.272 2.607-0.206 0.412-0.27 0.719-0.715 0.92-1.337h-1.251c-0.047 0.159-0.174 0.312-0.379 0.456-0.461 0.322-1.248 0.306-1.662-0.095m1.607-2.735c0.168 0.188 0.289 0.462 0.355 0.824h-2.312c0.004-0.101 0.025-0.215 0.062-0.342s0.1-0.248 0.189-0.361c0.092-0.114 0.213-0.21 0.361-0.286 0.15-0.078 0.338-0.116 0.566-0.116 0.349 0 0.609 0.094 0.779 0.281m2.58-3.197v7.178h1.422v-1.79l0.553-0.532 1.422 2.322h1.725l-2.174-3.287 1.953-1.91h-1.684l-1.795 1.87v-3.851h-1.422zm5.588 1.98v5.197h1.422v-2.725c0-0.529 0.088-0.909 0.26-1.141 0.324-0.427 1.24-0.522 1.555-0.03 0.133 0.211 0.199 0.532 0.199 0.961v2.935h1.424v-3.196c0-0.322-0.029-0.614-0.084-0.88-0.059-0.265-0.156-0.49-0.295-0.674-0.143-0.185-0.334-0.328-0.578-0.433-0.559-0.241-1.272-0.212-1.816 0.051-0.289 0.137-0.521 0.356-0.703 0.658h-0.029v-0.723h-1.355zm5.818 1.473c-0.263 0.702-0.265 1.556 0 2.258 0.127 0.335 0.309 0.62 0.541 0.86 0.234 0.237 0.516 0.419 0.844 0.547 0.689 0.267 1.52 0.262 2.209 0 0.33-0.128 0.611-0.31 0.846-0.547 0.234-0.24 0.414-0.525 0.543-0.86 0.262-0.704 0.26-1.553 0-2.258-0.129-0.339-0.309-0.626-0.543-0.864-0.234-0.237-0.516-0.423-0.846-0.553-0.685-0.27-1.525-0.274-2.209 0-0.328 0.13-0.609 0.315-0.844 0.553-0.232 0.238-0.414 0.526-0.541 0.864m1.295 1.739c-0.084-0.401-0.082-0.819 0-1.221 0.039-0.201 0.107-0.379 0.205-0.533 0.096-0.154 0.225-0.279 0.385-0.377 0.341-0.206 0.866-0.204 1.207 0 0.162 0.098 0.295 0.223 0.391 0.377s0.166 0.332 0.205 0.533c0.082 0.401 0.084 0.819 0 1.221-0.039 0.198-0.109 0.376-0.205 0.534-0.096 0.157-0.229 0.282-0.391 0.377-0.345 0.195-0.862 0.197-1.207 0-0.16-0.095-0.289-0.22-0.385-0.377-0.097-0.158-0.166-0.335-0.205-0.534m6.397-3.212v-1.557h-1.422v1.557h-0.861v0.955h0.861v3.065c0 0.263 0.045 0.474 0.131 0.636 0.086 0.16 0.205 0.283 0.355 0.371 0.15 0.089 0.324 0.146 0.521 0.177 0.351 0.05 0.704 0.048 1.057 0.034 0.146-0.007 0.281-0.02 0.4-0.04v-1.106c-0.066 0.016-0.137 0.023-0.209 0.031-0.213 0.017-0.545 0.055-0.715-0.111-0.078-0.082-0.119-0.241-0.119-0.483v-2.574h1.043v-0.955h-1.042zm3.094 3.952c-0.215-0.208-0.334-0.543-0.352-1.006h3.736c0.027-0.402-0.006-0.788-0.1-1.156-0.096-0.369-0.248-0.697-0.455-0.985-0.211-0.288-0.48-0.519-0.809-0.689-0.663-0.347-1.546-0.342-2.227-0.045-1.378 0.598-1.894 2.276-1.383 3.638 0.123 0.337 0.297 0.624 0.525 0.866 0.227 0.242 0.504 0.428 0.83 0.56 0.815 0.32 1.861 0.274 2.605-0.206 0.412-0.27 0.723-0.715 0.922-1.337h-1.254c-0.045 0.159-0.172 0.312-0.379 0.456-0.458 0.321-1.245 0.305-1.659-0.096m1.607-2.735c0.17 0.188 0.289 0.462 0.355 0.824h-2.314c0.006-0.101 0.027-0.215 0.064-0.342s0.1-0.248 0.189-0.361c0.09-0.114 0.211-0.21 0.361-0.286 0.15-0.078 0.338-0.116 0.566-0.116 0.347 0 0.609 0.094 0.779 0.281" fill="#464647"/><path d="m15.895 4.941h-5.643c-2.789 0-5.049 2.269-5.049 5.059 0 2.791 2.26 5.059 5.049 5.059h10.733v-5.141c-0.001-2.79-2.303-4.977-5.09-4.977m-0.446 8.995h-4.751c-2.351 0-4.256-1.775-4.256-3.936s1.905-3.935 4.256-3.935h4.751c2.351 0 4.256 1.721 4.256 3.882 0 1.07-0.466 2.074-1.223 2.781-0.773 0.72-1.846 1.208-3.033 1.208m-0.41-1.877c0 0.504-0.409 0.913-0.911 0.913-0.503 0-0.912-0.409-0.912-0.913 0-0.028 0.001-0.058 0.005-0.086l-1.57-1.13c-0.11 0.048-0.232 0.074-0.36 0.074-0.503 0-0.912-0.408-0.912-0.911 0-0.504 0.408-0.912 0.912-0.912 0.104 0 0.204 0.018 0.297 0.051l1.635-1.209c-0.005-0.036-0.008-0.07-0.008-0.106 0-0.504 0.408-0.912 0.911-0.912s0.911 0.409 0.911 0.912c0 0.504-0.408 0.912-0.911 0.912-0.114 0-0.223-0.021-0.324-0.061l-1.612 1.193c0.006 0.043 0.01 0.087 0.01 0.133 0 0.021-0.001 0.043-0.003 0.065l1.585 1.144c0.106-0.044 0.222-0.067 0.343-0.067 0.505-0.003 0.914 0.408 0.914 0.91z" fill="#464647"/></svg>',this.config)})},mergeConfigs:function(e){e&&(this.config.campaignId=e.config.campaignId,this.config.noteType=e.config.noteType,this.config.position=e.config.position)},prepare:function(e,t){var i=this.config.current;return this.mergeConfigs(t),e==i?void("open"==this.config.current&&this.createHTML()):(this.insert(),"close"==i&&this.createHTML(),this.config.next=e,this.params=r.animationParameters(this,i,e),o.createMotion(this.params,function(e,t,i){o.css(this.config,"DOMNode",e),i&&(this.config.current=this.config.next)}.bind(this)))}},s}(0,t,0,0,g,d),R=function(e,t,i,n,o,r,s){function a(e,t){this.manager=t,this.config=s.defaults("cover",{profile:t.profile})}return a.prototype={dimensions:function(){return this.config},insert:function(){this.config.DOMNode||(this.config.DOMNode=n.insert("cover",this.config,"sleeknote-cover",'<style>html{cursor:pointer;padding:0;margin:0;background:radial-gradient(ellipse at center, rgba(0,0,0,0.1) 40%,rgba(0,0,0,0.6) 100%);}</style><div style="height:100vh" onclick="void(0)"></div>',{cursor:"pointer"}),this.removeListener=o.listen(n.doc(this.config.DOMNode),this.onClick.bind(this)))},remove:function(){this.config.DOMNode&&(this.removeListener(),t.removeNode(this.config.DOMNode))},onClick:function(e){var t=this.manager.showQueue.stopper;if(t){var i=t.controller.notes[t.noteName],n=i.doc.querySelectorAll("[data-sn-type=close], .sleeknoteMobileClose")[0];n&&i.onClick(n)}},after:function(){this.config.DOMNode&&"close"==this.config.current&&i.conceal(this.config.DOMNode)},reposition:function(e,t){var i=s.needs.cover(e)?"open":"close";n.css(this.config,"DOMNode",n.createPositionStyles(s.boxParameters(this,i),"to")),this.config.current=i,this.after()},prepare:function(e,t){var o=this.config.current;if(e!=o)return this.insert(),this.config.next=e,this.params=s.animationParameters(this,o,e),n.createMotion(this.params,function(e,t,o){n.css(this.config,"DOMNode",e),o&&(this.config.current=this.config.next,"close"==this.config.current&&i.conceal(this.config.DOMNode))}.bind(this))}},a}(0,t,r,g,b,0,d),B=function(e,t,i,n,o,r,s,a,c,l,h,u,d,f){function g(e){return c.CustomInitSettings&&c.CustomInitSettings[e]}function p(e,t,i){var n,o;for(n in e)if(e.hasOwnProperty(n)&&(o=e[n],!1===t.call(i||o,o,n)))break}function m(i){function n(e){var t=+new Date;v&&t-v<1e3||(b.clearTimeout(k),k=b.setTimeout(S,2e3),v=t)}if(this.name="NotesManager",this.controllers={},this.rawConfig=i,this.emulate=!1,(w||c.local)&&(b.notesManager=this),w)return this.tracker=new s,this.storage=d.create({useLocalStorage:!0,dummyStorage:!0}),this.idle=function(){return!0},this.showQueue=new o(this),this.addSleekNotes(!0),void(this.cover=new u(y.body,this));this.idle=this.idle.bind(this),this.showQueue=new o(this);var a=11;t.listener(y,"add",function(e){a=e.clientY})("mousemove"),t.listener(y.documentElement,"add",function(e){!e.relatedTarget&&a<10&&p(this.controllers,function(e,t){e.ifTrigger("exit")&&this.showQueue.now(e,"open","form")},this)}.bind(this))("mouseout");var l=0,g=0,m=t.throttle(500,function(){var t=e.dim.win.width(),i=e.dim.win.height();t==l&&i==g||(l=t,g=i,this.reposition())},this);w||t.listener(b,"add",m)(e.is.ios||e.is.android?"orientationchange":"resize");var k,S=function(){v=0,p(this.controllers,function(e,t){e.ifTrigger("scroll")&&this.showQueue.push(e,"open","form")},this)}.bind(this);t.listener(b,"add",n,!0)("scroll"),this.historyListener,this.hashListener,this.urlPollerInterval,this.lastLocation=String(r.get(c)),this.triggerOnClick=this.triggerOnClick.bind(this),this.pollerFunc=function(){var e=r.reset(c);e.matches(this.lastLocation)||(this.resetSleekNotes(),this.lastLocation=String(e))}.bind(this),this.cover=new u(y.body,this),this.tracker=new s(c.CustomerId),this.storage=d.create(c.storageOptions);var x=t.cleanUpReferral(y.referrer);!this.storage.getReferral()&&x.indexOf(r.get(c).host)<0&&this.storage.setReferral(x),"true"==t.getQueryVarByName("SNSubscribed")&&this.storage.setSubscription(),(c.local||c.reset)&&Array.isArray(this.rawConfig)&&"n"!=c.reset&&this.storage.forceResetSession(c.reset),this.rawConfig&&b.ADDWISH_PARTNER_NS&&this.rawConfig.forEach(function(e){var t=this.storage.getEmail(e.CampaignId);if(t){try{b.ADDWISH_PARTNER_NS.regEmail(t)}catch(e){}this.storage.setEmail(e.CampaignId,"",-1)}},this);var C=c.HideSleeknoteBadge;void 0===C&&(C=!0),!C&&c.CustomerId>=790&&(this.badge=new h(y.body,this)),this.addSleekNotes(c.reset>1);var T=this;f("load",function(e){if(t.contains(e,"reset","close","launch","open","status")||console.warn("Unsupported Sleeknote API call"),"status"==e){var i,n,o={campaigns:{},visible:{}};for(i in T.controllers)o.campaigns[i]={campaignId:i};for(i in T.showQueue.visibles)n=T.showQueue.visibles[i],o.visible[i]={campaignId:i,name:n.noteName};return o}try{return!!T.command.apply(T,arguments)}catch(e){console.warn("Error calling Sleeknote API",e)}})}var v,b=this,y=b.document,w=c.editor||c.preview,k=c.debugMessage("n");return m.prototype={get isEditor(){return!!w},idle:function(i){function n(){return e.dim.doc.width(!e.is.desktop,y.body,y.documentElement)}if(t.isEqual(function(){var t=n();if(e.is.phone&&"isRealMobileSite"in c.CustomInitSettings){var i=c.CustomInitSettings.isRealMobileSite;Array.isArray(i)?t=Number(i[e.isLandscape()?1:0]):Number(i)===i&&i>0&&(t=i)}return t/e.dim.win.width()}(),1,.1)&&!function(){return!!(e.is.phone&&e.is.ios&&e.is.safari)&&(!!e.isLandscape()&&!t.isEqual(n()/e.dim.screen.width()*e.dim.screen.availHeight(),e.dim.win.height(),1))}()){if(v){if(!i)return;if(i.fullScreen)return}return!0}},message:function(e){var i,n={};for(i in e)if(e.hasOwnProperty(i))if("origin"==i)n.origin=e.origin.name;else{if("next"==i)continue;n[i]=e[i]}switch(k(JSON.stringify(n)),e.type){case"after":"open"==e.action&&"form"==e.noteName&&this.onTogglerShow(e);break;case"aftersubmit":this.onSubmit(e);break;case"trackerCustomEvent":try{var o=b.dataLayer||b[c.CustomInitSettings.googleDataLayerObjectName];Array.isArray(o)&&o.push(t.extend(e.CustomEventData));var r=t.extend(e.CustomEventData);r.fieldData&&delete r.fieldData;var s=b.fbq||b[c.CustomInitSettings.fbqDataLayerObjectName];t.isFunction(s)&&s("trackCustom",e.CustomEventData.event,r)}catch(e){console.warn(e)}break;case"ready":"NoteController"==e.origin.name&&(w?c.editor.event&&c.editor.event("CORE.NOTES_READY",w.profile):(this.launchController(e.origin),f("ready",e)));break;case"close":this.onClose(e),this.userInteraction(e);break;case"step":this.onStepChange(e),this.userInteraction(e);break;case"trackevent":this.trackEvent(e);break;case"open":case"maximize":case"minimize":this.userInteraction(e)}},onTogglerShow:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;this.storage.incrementShowCount(t.id),this.storage.closeSession(t.id),l.PROFILE.MOBILE==t.config.profile&&!t.isHello&&this.storage.hideSession(t.id),this.tracker.shown(t.config)},onSubmit:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;e.email&&this.storage.setEmail(t.id,e.email),e.setShown&&this.storage.setShowCount(t.id,999999),e.setSubscription&&this.storage.setSubscription(),e.setEngaged&&this.storage.setEngaged(t.id);var i=t.type||t.config.type,o=this.storage.hasConvertSessionEvent(t.id);if("promote"!=i&&e.isUserDefinedClick||"promote"==i&&this.storage.hasConvertSessionEvent(t.id)&&e.mimirEvent)return k("trackEventSkip",e.source,i,this.storage.hasConvertSessionEvent(t.id),e.mimirEvent),void(e.next&&this.userInteraction(e.next));o&&t.getType("form").length>1&&(e.mimirEvent="substep_engaged"),e.customTrackerEvent&&this.tracker.customTrackerEvent(e.customTrackerEvent,t.id),e.mimirEvent&&this.tracker.event(e.mimirEvent,t.config,e.callback),e.mimirEvent&&this.storage.convertSessionEvent(t.id),e.next&&this.userInteraction(e.next)},onClose:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;this.tracker.event("teaser"==e.noteName?"teaser_closed":"closed",t.config,e.callback)},onStepChange:function(e){if(e.isUserDefinedClick){var t=e.origin instanceof n?e.origin:e.origin.controller;this.tracker.event("link_clicked",t.config,e.callback)}},trackEvent:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;this.tracker.event(e.eventName||"no_event_defined",t.config,e.callback),e.eventName||k("no event name",e)},userInteraction:function(e){var i=e.origin instanceof n?e.origin:e.origin.controller;switch(i.config.smartIndex=0,e.type){case"step":"hideBox"==e.step?this.command("close",i.id):this.command("reveal",i.id,e.step);break;case"open":this.showQueue.now(i,"open",e.noteName),i.tameTriggers();break;case"close":t.contains(e.origin.config.type,"teaser","form")&&(this.storage.incrementShowCount(i.id),this.storage.hideSession(i.id),"teaser"==e.origin.config.type&&i.tameTeaser()),this.showQueue.closeIf(i);break;case"maximize":case"minimize":this.command(e.type,i.id,e.noteName)}},applyConfig:function(e,i,n){var o=this.controllers[e];if(o){var r=n?[n]:Object.keys(o.notes),s=this.rawConfig.filter(function(t){return t.CampaignId==e}),c=a([t.extend(s[0],i)],this.storage,!0)[0];c&&(r.forEach(function(e){o.notes[e].applyConfig(c[e])},this),this.showQueue.repositionIf(o))}},addSleekNotes:function(e,i,n){i||(i=this.rawConfig);var o=a(i,this.storage,e)||[];if(this.prioritizedConfig=[],o.length>0){this.mode||(this.mode=l.PROFILE.MOBILE==o[0].profile?"sequential":g("notamanagermode")||"concurrent"),o.sort(function(e,i){var n=+t.getAdvOption({options:e.options},"note-priority",1)||0;return(+t.getAdvOption({options:i.options},"note-priority",1)||0)-n});var r=[];this.prioritizedConfig=o.filter(function(e){if(!e.hidden){var t=e.position;if(~r.indexOf(t)){if(e.onClick)return e.steps&&delete e.steps.teaser,e;if(!(e.exit&&r.indexOf(-1)<0))return;t=-1,e.steps&&delete e.steps.teaser}else e.exit&&e.steps&&!e.steps.teaser&&(t=-1);r.push(t)}return e});for(var s=this.prioritizedConfig.length;s--;)this.createController(this.prioritizedConfig[s])}i.forEach(function(e){!this.urlPollerInterval&&t.getAdvOption({options:e.advOptions},"onepagesite",1)&&(this.urlPollerInterval=b.setInterval(this.pollerFunc,1e3))},this),n||this.destroyControllersNotPresent(this.prioritizedConfig)},createController:function(e){var t=e.campaignId;t in this.controllers||(this.controllers[t]=new n(this,e))},resetSleekNotes:function(e,t){this.addSleekNotes(e,t),this.showQueue.reset(Object.keys(this.controllers))},launchController:function(){var e,t;if(this.immediate)return this.triggerOnClick(this.immediate),this.immediate=void 0,void(this.prioritizedConfig=[]);do{if(e=this.prioritizedConfig[0].campaignId,t=this.controllers[e],!t.config.ready)break;t.teaserExist&&!t.config.hidden&&this.showQueue.push(t,"open",t.getType("teaser")[0].config.name),t.launchTriggers(function(e,t){"timer"!=e&&"notification"!=e||this.showQueue.push(t,"open",t.getType("form")[0].config.name,!0)}.bind(this)),this.prioritizedConfig.splice(0,1)}while(this.prioritizedConfig.length)},destroyController:function(e,t){var i=this.controllers[e];i&&(delete this.controllers[e],this.showQueue.state(i)<2?i.destroy(t):this.showQueue.closeIf(i,function(){i.destroy(t)}))},destroyControllersNotPresent:function(e){for(var t=[],i=e.length;i--;)t.push(String(e[i].campaignId));var n;for(n in this.controllers)this.controllers.hasOwnProperty(n)&&t.indexOf(n)<0&&this.destroyController(n,!0)},triggerOnClick:function(e,t){var i=this.controllers[e];if(i){if(t&&this.storage.isSessionClosed(i.id))return;i.config.smartIndex=0}if(i&&!i.config.ready)this.immediate=i.id;else if(i||t)i?(i.tameTeaser(),i.processOpenTrigger("manual"),this.showQueue.now(i,"open","form",!0)):console.warn&&console.warn("can not show toggler onlyShowPreloaded:"+t+" id:",e);else for(var n=this.rawConfig.length;n--;)if(this.rawConfig[n].CampaignId==e){this.rawConfig[n].hiddenSleeknote=!0,this.rawConfig[n].SplitTestId="",this.addSleekNotes(!0,[this.rawConfig[n]],!0),this.triggerOnClick(e);break}},getFormCurrent:function(e){k("getFormCurrent");var t=this.controllers[e];return t&&t.notes.form.config.current},reposition:function(e){this.showQueue.repositionIf(void 0,e)},setConfig:function(e,t,i){e||(e=Object.keys(this.controllers)[0]);var n=this.controllers[e],o=n&&n.notes[t];o&&o.config.profile==l.PROFILE.MOBILE&&o.applyConfig(i)},switchEmulation:function(e){this.emulate=e},renderBot:function(e,t){var i=this.controllers[e];return i&&i.notes.form&&i.notes.form.renderBot(t)},command:function(e,t,i){var n=this.controllers[t];switch(e){case"reset":var o;for(o in this.controllers)b.clearTimeout(this.controllers[o].timer);return this.showQueue.reset(t);case"add":return this.addSleekNotes(!1,t,!0);case"querySelectorAll":return n?n.querySelectorAll(i):[];case"purpose":return void("editor"==t?(c.editor=!0,c.preview=!1):"preview"==t&&(c.editor=!1,c.preview=!0));case"close":if(n)return this.showQueue.closeIf(n,i)}if(t||(t=Object.keys(this.controllers)[0]),n=this.controllers[t]){var r=n.notes[i];switch(e){case"trigger":case"launch":this.triggerOnClick(t,i);break;case"visibility":return n.setVisibility(i,arguments[3]),!0;case"open":case"reveal":return r&&this.showQueue.now(n,e,i),!0;case"maximize":case"minimize":if(!i){var t=n.config.campaignId;t in this.showQueue.visibles&&(i=this.showQueue.visibles[t].noteName)}return r=n.notes[i],r&&this.showQueue.now(n,e,i),!0;case"close":return this.showQueue.closeIf(n),!0;case"current":return r&&r.config.current;case"dimensions":return r?r.calculateBounds():{};case"hasToggle":return r&&r.toggleDivider();case"position":return this.setConfig(t,i,{position:arguments[3]})}}}},m}(e,t,0,C,O,k,P,M,o,l,D,R,I,S),_=function(e){function t(){var e=0;return u?(e=parseInt(u[v],10),(isNaN(e)||e<0)&&(e=(new Date).getTime())):e=y,e}function i(){return u?+u[v]||0:y}function n(e){u?u[v]=e:y=e}function o(){b&&(d.clearInterval(b),b=0,p&&p())}function r(){m&&m(),b||(b=d.setInterval(c,w))}function s(){b||(m&&m(),b=d.setInterval(c,w))}function a(e){switch(e){case"newSession":r();break;case"newSessionIf":s();break;case"endSession":o();break;case"restartSession":o(),r()}n((new Date).getTime())}function c(){l("interval")}function l(e,i){var n=(new Date).getTime(),o=t(),r=Math.floor((n-o)/1e3);if(r<=0&&(r=0),r>=g)switch(e){case"start":case"activity":a("restartSession");break;case"interval":a("endSession")}else switch(e){case"activity":a("newSessionIf");break;case"start":a(i?"newSession":"newSessionIf")}}function h(){try{u=d.localStorage}catch(e){}}var u,d=this,f=d.document,g=1800,p=null,m=null,v="sn_global_countdown_last_reset_timestamp",b=0,y=0,w=6e4,k=e.throttle(6e4,function(){l("activity")});return h.prototype={start:function(t,n,o){var r=!i();y=(new Date).getTime(),e.listener(f,"add",k)("click")("mousemove")("keypress"),e.listener(d,"add",k)("load"),g=60*t,p=n,m=o,b=d.setInterval(c,w),l("start",r)}},h}(t),function(e,t,i,n,o,r){function s(e){return t.CustomInitSettings&&t.CustomInitSettings[e]}Array.prototype.toJSON&&delete Array.prototype.toJSON;var a=r.create({useLocalStorage:!1});if((new o).start(30,function(){a.endSessionTime()},function(){a.startSessionTime()}),e.is.quirks&&console.warn("This web-page runs in Quirks Mode (usually that means DOCTYPE is missing), therefore sleeknotes may not shown correctly."),e.is.other||e.is.ie&&e.is.version<(s("ie")||11))return void console.warn("This browser is not supported by Sleeknote.");if(!Array.isArray(t.SleekNotes)||!t.SleekNotes.length)return void console.warn("nothing to do");var c,l=+new Date,h=function(){c=new n(t.SleekNotes),this.SleekNote.triggerOnclick=this.SleekNote.triggerOnClick=c.triggerOnClick,t.debug&&(this.q=c.showQueue,this.t=c.triggerOnClick,this.n=c)}.bind(this),u=t.SleekNotes.some(function(e){return e&&e.rules&&e.rules.groups&&e.rules.groups.some(function(e){return e.conditions&&e.conditions.some(function(e){return e&&11==e.type})})}),d=a.getGeoInfo(),f=!1;u&&!d&&(f=!0,i.httpRequest("GET","https://workers-203821.appspot.com/geo/api/v1.0/getJSON?getgeoids",void 0,function(e){try{var t=JSON.parse(e.response)}catch(e){return}t.geoname_id_list&&a.setGeoInfo({lt:t.location.latitude,lg:t.location.longitude,gi:t.geoname_id_list})},function(e){}));var g=s("loading")||function(){return!f||void 0!==a.getGeoInfo()},p=function(){g(i)||+new Date-l>1e4?h():this.setTimeout(p,100)}.bind(this);this.setTimeout(p,100)}(e,o,t,B,_,I)}();