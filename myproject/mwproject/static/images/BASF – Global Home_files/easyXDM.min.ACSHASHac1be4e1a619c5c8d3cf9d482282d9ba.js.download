(function(l,h,p,t,T,D){function E(a,b){var c=typeof a[b];return"function"==c||!("object"!=c||!a[b])||"unknown"==c}function U(){if(!w(navigator.plugins)&&"object"==typeof navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"].description;a&&!w(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(A=a.match(/\d+/g))}if(!A)try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");A=
Array.prototype.slice.call(b.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1)}catch(c){}if(!A)return!1;a=parseInt(A[0],10);b=parseInt(A[1],10);P=9<a&&0<b;return!0}function J(){if(!B){B=!0;for(var a=0;a<K.length;a++)K[a]();K.length=0}}function C(a,b){B?a.call(b):K.push(function(){a.call(b)})}function ca(){var a=parent;if(""!==H)for(var b=0,c=H.split(".");b<c.length;b++)a=a[c[b]];return a.easyXDM}function q(a){var b=a.toLowerCase().match(L);a=b[2];var c=b[3];b=b[4]||"";if("http:"==a&&":80"==
b||"https:"==a&&":443"==b)b="";return a+"//"+c+b}function I(a){a=a.replace(da,"$1/");if(!a.match(/^(http||https):\/\//)){var b="/"===a.substring(0,1)?"":p.pathname;"/"!==b.substring(b.length-1)&&(b=b.substring(0,b.lastIndexOf("/")+1));a=p.protocol+"//"+p.host+b+a}for(;V.test(a);)a=a.replace(V,"");return a}function F(a,b){var c="",d=a.indexOf("#");-1!==d&&(c=a.substring(d),a=a.substring(0,d));d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e+"\x3d"+D(b[e]));return a+(W?"#":-1==a.indexOf("?")?"?":"\x26")+
d.join("\x26")+c}function w(a){return"undefined"===typeof a}function r(a,b,c){var d;for(d in b)if(b.hasOwnProperty(d))if(d in a){var e=b[d];"object"===typeof e?r(a[d],e,c):c||(a[d]=b[d])}else a[d]=b[d];return a}function z(a){if(w(M)){var b=h.body.appendChild(h.createElement("form")),c=b.appendChild(h.createElement("input"));c.name=u+"TEST"+X;M=c!==b.elements[c.name];h.body.removeChild(b)}M?b=h.createElement('\x3ciframe name\x3d"'+a.props.name+'"/\x3e'):(b=h.createElement("IFRAME"),b.name=a.props.name);
b.id=b.name=a.props.name;delete a.props.name;"string"==typeof a.container&&(a.container=h.getElementById(a.container));a.container||(r(b.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=h.body);c=a.props.src;a.props.src="javascript:false";r(b,a.props);b.border=b.frameBorder=0;b.allowTransparency=!0;a.container.appendChild(b);a.onLoad&&x(b,"load",a.onLoad);if(a.usePost){var d=a.container.appendChild(h.createElement("form"));d.target=b.name;d.action=c;d.method="POST";if("object"===
typeof a.usePost)for(var e in a.usePost)if(a.usePost.hasOwnProperty(e)){if(M)var k=h.createElement('\x3cinput name\x3d"'+e+'"/\x3e');else k=h.createElement("INPUT"),k.name=e;k.value=a.usePost[e];d.appendChild(k)}d.submit();d.parentNode.removeChild(d)}else b.src=c;a.props.src=c;return b}function Y(a){var b=a.protocol;a.isHost=a.isHost||w(v.xdm_p);W=a.hash||!1;a.props||(a.props={});if(a.isHost)a.remote=I(a.remote),a.channel=a.channel||"default"+X++,a.secret=Math.random().toString(16).substring(2),w(b)&&
(b=q(p.href)==q(a.remote)?"4":E(l,"postMessage")||E(h,"postMessage")?"1":a.swf&&E(l,"ActiveXObject")&&U()?"6":"Gecko"===navigator.product&&"frameElement"in l&&-1==navigator.userAgent.indexOf("WebKit")?"5":a.remoteHelper?"2":"0");else{a.channel=v.xdm_c.replace(/["'<>\\]/g,"");a.secret=v.xdm_s;a.remote=v.xdm_e.replace(/["'<>\\]/g,"");b=v.xdm_p;var c;if(c=a.acl){a:{c=a.acl;var d=a.remote;"string"==typeof c&&(c=[c]);for(var e,k=c.length;k--;)if(e=c[k],e=new RegExp("^"==e.substr(0,1)?e:"^"+e.replace(/(\*)/g,
".$1").replace(/\?/g,".")+"$"),e.test(d)){c=!0;break a}c=!1}c=!c}if(c)throw Error("Access denied for "+a.remote);}a.protocol=b;switch(b){case "0":r(a,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(a.isHost){if(!a.local){b=p.protocol+"//"+p.host;var g=h.body.getElementsByTagName("img");for(d=g.length;d--;)if(c=g[d],c.src.substring(0,b.length)===b){a.local=c.src;break}a.local||(a.local=l)}b={xdm_c:a.channel,xdm_p:0};a.local===l?(a.usePolling=!0,a.useParent=!0,a.local=p.protocol+
"//"+p.host+p.pathname+p.search,b.xdm_e=a.local,b.xdm_pa=1):b.xdm_e=I(a.local);a.container&&(a.useResize=!1,b.xdm_po=1);a.remote=F(a.remote,b)}else r(a,{useParent:!w(v.xdm_pa),usePolling:!w(v.xdm_po),useResize:a.useParent?!1:a.useResize});g=[new f.stack.HashTransport(a),new f.stack.ReliableBehavior({}),new f.stack.QueueBehavior({encode:!0,maxLength:4E3-a.remote.length}),new f.stack.VerifyBehavior({initiate:a.isHost})];break;case "1":g=[new f.stack.PostMessageTransport(a)];break;case "2":a.isHost&&
(a.remoteHelper=I(a.remoteHelper));g=[new f.stack.NameTransport(a),new f.stack.QueueBehavior,new f.stack.VerifyBehavior({initiate:a.isHost})];break;case "3":g=[new f.stack.NixTransport(a)];break;case "4":g=[new f.stack.SameOriginTransport(a)];break;case "5":g=[new f.stack.FrameElementTransport(a)];break;case "6":A||U(),g=[new f.stack.FlashTransport(a)]}g.push(new f.stack.QueueBehavior({lazy:a.lazy,remove:!0}));return g}function Z(a){for(var b,c={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,
b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},d=0,e=a.length;d<e;d++)b=a[d],r(b,c,!0),0!==d&&(b.down=a[d-1]),d!==e-1&&(b.up=a[d+1]);return b}function ea(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var N=this,X=Math.floor(1E4*Math.random()),Q=Function.prototype,L=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,V=/[\-\w]+\/\.\.\//,da=/([^:])\/\//g,H="",f={},fa=l.easyXDM,u="easyXDM_",M,W=!1,A,P;if(E(l,"addEventListener")){var x=
function(a,b,c){a.addEventListener(b,c,!1)};var G=function(a,b,c){a.removeEventListener(b,c,!1)}}else if(E(l,"attachEvent"))x=function(a,b,c){a.attachEvent("on"+b,c)},G=function(a,b,c){a.detachEvent("on"+b,c)};else throw Error("Browser not supported");var B=!1,K=[];if("readyState"in h){var R=h.readyState;B="complete"==R||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==R||"interactive"==R)}else B=!!h.body;if(!B){if(E(l,"addEventListener"))x(h,"DOMContentLoaded",J);else if(x(h,"readystatechange",
function(){"complete"==h.readyState&&J()}),h.documentElement.doScroll&&l===top){var aa=function(){if(!B){try{h.documentElement.doScroll("left")}catch(a){t(aa,1);return}J()}};aa()}x(l,"load",J)}var v=function(a){a=a.substring(1).split("\x26");for(var b={},c,d=a.length;d--;)c=a[d].split("\x3d"),b[c[0]]=T(c[1]);return b}(/xdm_e=/.test(p.search)?p.search:p.hash),S=function(){var a={},b={a:[1,2,3]};if("undefined"!=typeof JSON&&"function"===typeof JSON.stringify&&'{"a":[1,2,3]}'===JSON.stringify(b).replace(/\s/g,
""))return JSON;Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(b).replace(/\s/g,"")&&(a.stringify=Object.toJSON);"function"===typeof String.prototype.evalJSON&&(b='{"a":[1,2,3]}'.evalJSON(),b.a&&3===b.a.length&&3===b.a[2]&&(a.parse=function(a){return a.evalJSON()}));return a.stringify&&a.parse?(S=function(){return a},a):null};r(f,{version:"2.4.20.7",query:v,stack:{},apply:r,getJSONObject:S,whenReady:C,noConflict:function(a){l.easyXDM=fa;(H=a)&&(u="easyXDM_"+H.replace(".","_")+"_");return f}});f.DomHelper=
{on:x,un:G,requiresJSON:function(a){"object"==typeof l.JSON&&l.JSON||h.write('\x3cscript type\x3d"text/javascript" src\x3d"'+a+'"\x3e\x3c/script\x3e')}};(function(){var a={};f.Fn={set:function(b,c){a[b]=c},get:function(b,c){if(a.hasOwnProperty(b)){var d=a[b];c&&delete a[b];return d}}}})();f.Socket=function(a){var b=Z(Y(a).concat([{incoming:function(b,c){a.onMessage(b,c)},callback:function(b){if(a.onReady)a.onReady(b)}}])),c=q(a.remote);this.origin=q(a.remote);this.destroy=function(){b.destroy()};
this.postMessage=function(a){b.outgoing(a,c)};b.init()};f.Rpc=function(a,b){if(b.local)for(var c in b.local)if(b.local.hasOwnProperty(c)){var d=b.local[c];"function"===typeof d&&(b.local[c]={method:d})}var e=Z(Y(a).concat([new f.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=q(a.remote);this.destroy=function(){e.destroy()};e.init()};f.stack.SameOriginTransport=function(a){var b,c,d,e;return b={outgoing:function(a,b,c){d(a);c&&c()},destroy:function(){c&&
(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){e=q(a.remote);a.isHost?(r(a.props,{src:F(a.remote,{xdm_e:p.protocol+"//"+p.host+p.pathname,xdm_c:a.channel,xdm_p:4}),name:u+a.channel+"_provider"}),c=z(a),f.Fn.set(a.channel,function(a){d=a;t(function(){b.up.callback(!0)},0);return function(a){b.up.incoming(a,e)}})):(d=ca().Fn.get(a.channel,!0)(function(a){b.up.incoming(a,e)}),t(function(){b.up.callback(!0)},0))},init:function(){C(b.onDOMReady,b)}}};f.stack.FlashTransport=function(a){function b(a,
b){t(function(){d.up.incoming(a,k)},0)}function c(b){var c=a.swf+"?host\x3d"+a.isHost,d="easyXDM_swf_"+Math.floor(1E4*Math.random());f.Fn.set("flash_loaded"+b.replace(/[\-.]/g,"_"),function(){f.stack.FlashTransport[b].swf=g=m.firstChild;for(var a=f.stack.FlashTransport[b].queue,c=0;c<a.length;c++)a[c]();a.length=0});a.swfContainer?m="string"==typeof a.swfContainer?h.getElementById(a.swfContainer):a.swfContainer:(m=h.createElement("div"),r(m.style,P&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",
right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),h.body.appendChild(m));var e="callback\x3dflash_loaded"+D(b.replace(/[\-.]/g,"_"))+"\x26proto\x3d"+N.location.protocol+"\x26domain\x3d"+D(N.location.href.match(L)[3])+"\x26port\x3d"+D(N.location.href.match(L)[4]||"")+"\x26ns\x3d"+D(H);m.innerHTML="\x3cobject height\x3d'20' width\x3d'20' type\x3d'application/x-shockwave-flash' id\x3d'"+d+"' data\x3d'"+c+"'\x3e\x3cparam name\x3d'allowScriptAccess' value\x3d'always'\x3e\x3c/param\x3e\x3cparam name\x3d'wmode' value\x3d'transparent'\x3e\x3cparam name\x3d'movie' value\x3d'"+
c+"'\x3e\x3c/param\x3e\x3cparam name\x3d'flashvars' value\x3d'"+e+"'\x3e\x3c/param\x3e\x3cembed type\x3d'application/x-shockwave-flash' FlashVars\x3d'"+e+"' allowScriptAccess\x3d'always' wmode\x3d'transparent' src\x3d'"+c+"' height\x3d'1' width\x3d'1'\x3e\x3c/embed\x3e\x3c/object\x3e"}var d,e,k,g,m;return d={outgoing:function(b,c,d){g.postMessage(a.channel,b.toString());d&&d()},destroy:function(){try{g.destroyChannel(a.channel)}catch(ja){}g=null;e&&(e.parentNode.removeChild(e),e=null)},onDOMReady:function(){k=
a.remote;f.Fn.set("flash_"+a.channel+"_init",function(){t(function(){d.up.callback(!0)})});f.Fn.set("flash_"+a.channel+"_onMessage",b);a.swf=I(a.swf);var m=a.swf.match(L)[3],n=function(){f.stack.FlashTransport[m].init=!0;g=f.stack.FlashTransport[m].swf;g.createChannel(a.channel,a.secret,q(a.remote),a.isHost);a.isHost&&(P&&a.swfNoThrottle&&r(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),r(a.props,{src:F(a.remote,{xdm_e:q(p.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:u+
a.channel+"_provider"}),e=z(a))};f.stack.FlashTransport[m]&&f.stack.FlashTransport[m].init?n():f.stack.FlashTransport[m]?f.stack.FlashTransport[m].queue.push(n):(f.stack.FlashTransport[m]={queue:[n]},c(m))},init:function(){C(d.onDOMReady,d)}}};f.stack.PostMessageTransport=function(a){function b(b){if("string"===typeof b.data){if(b.origin)var c=q(b.origin);else if(b.uri)c=q(b.uri);else if(b.domain)c=p.protocol+"//"+b.domain;else throw"Unable to retrieve the origin of the event";c==g&&b.data.substring(0,
a.channel.length+1)==a.channel+" "&&d.up.incoming(b.data.substring(a.channel.length+1),c)}}function c(g){g.data==a.channel+"-ready"&&(k="postMessage"in e.contentWindow?e.contentWindow:e.contentWindow.document,G(l,"message",c),x(l,"message",b),t(function(){d.up.callback(!0)},0))}var d,e,k,g;return d={outgoing:function(b,c,d){k.postMessage(a.channel+" "+b,c||g);d&&d()},destroy:function(){G(l,"message",c);G(l,"message",b);e&&(k=null,e.parentNode.removeChild(e),e=null)},onDOMReady:function(){g=q(a.remote);
a.isHost?(x(l,"message",c),r(a.props,{src:F(a.remote,{xdm_e:q(p.href),xdm_c:a.channel,xdm_p:1}),name:u+a.channel+"_provider"}),e=z(a)):(x(l,"message",b),k="postMessage"in l.parent?l.parent:l.parent.document,k.postMessage(a.channel+"-ready",g),t(function(){d.up.callback(!0)},0))},init:function(){C(d.onDOMReady,d)}}};f.stack.FrameElementTransport=function(a){var b,c,d,e;return b={outgoing:function(a,b,c){d.call(this,a);c&&c()},destroy:function(){c&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){e=
q(a.remote);a.isHost?(r(a.props,{src:F(a.remote,{xdm_e:q(p.href),xdm_c:a.channel,xdm_p:5}),name:u+a.channel+"_provider"}),c=z(a),c.fn=function(a){delete c.fn;d=a;t(function(){b.up.callback(!0)},0);return function(a){b.up.incoming(a,e)}}):(h.referrer&&q(h.referrer)!=v.xdm_e&&(l.top.location=v.xdm_e),d=l.frameElement.fn(function(a){b.up.incoming(a,e)}),b.up.callback(!0))},init:function(){C(b.onDOMReady,b)}}};f.stack.NameTransport=function(a){function b(b){m.contentWindow.sendMessage(b,a.remoteHelper+
(g?"#_3":"#_2")+a.channel)}function c(){g?2!==++n&&g||k.up.callback(!0):(b("ready"),k.up.callback(!0))}function d(a){k.up.incoming(a,h)}function e(){y&&t(function(){y(!0)},0)}var k,g,m,l,n,y,h,ba;return k={outgoing:function(a,c,d){y=d;b(a)},destroy:function(){m.parentNode.removeChild(m);m=null;g&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){g=a.isHost;n=0;h=q(a.remote);a.local=I(a.local);g?(f.Fn.set(a.channel,function(b){g&&"ready"===b&&(f.Fn.set(a.channel,d),c())}),ba=F(a.remote,{xdm_e:a.local,
xdm_c:a.channel,xdm_p:2}),r(a.props,{src:ba+"#"+a.channel,name:u+a.channel+"_provider"}),l=z(a)):(a.remoteHelper=a.remote,f.Fn.set(a.channel,d));var b=function(){var d=m||this;G(d,"load",b);f.Fn.set(a.channel+"_load",e);(function O(){"function"==typeof d.contentWindow.sendMessage?c():t(O,50)})()};m=z({props:{src:a.local+"#_4"+a.channel},onLoad:b})},init:function(){C(k.onDOMReady,k)}}};f.stack.HashTransport=function(a){function b(){if(h){var a=h.location.href,b="",d=a.indexOf("#");-1!=d&&(b=a.substring(d));
b&&b!=g&&(g=b,c.up.incoming(g.substring(g.indexOf("_")+1),p))}}var c,d,e,k,g,f,h,n,y,p;return c={outgoing:function(b,c){n&&(b=a.remote+"#"+f++ +"_"+b,(d||!y?n.contentWindow:n).location=b)},destroy:function(){l.clearInterval(e);!d&&y||n.parentNode.removeChild(n);n=null},onDOMReady:function(){d=a.isHost;k=a.interval;g="#"+a.channel;f=0;y=a.useParent;p=q(a.remote);if(d){r(a.props,{src:a.remote,name:u+a.channel+"_provider"});if(y)a.onLoad=function(){h=l;e=setInterval(b,k);c.up.callback(!0)};else{var m=
0,ha=a.delay/50;(function ia(){if(++m>ha)throw Error("Unable to reference listenerwindow");try{h=n.contentWindow.frames[u+a.channel+"_consumer"]}catch(O){}h?(e=setInterval(b,k),c.up.callback(!0)):t(ia,50)})()}n=z(a)}else h=l,e=setInterval(b,k),y?(n=parent,c.up.callback(!0)):(r(a,{props:{src:a.remote+"#"+a.channel+new Date,name:u+a.channel+"_consumer"},onLoad:function(){c.up.callback(!0)}}),n=z(a))},init:function(){C(c.onDOMReady,c)}}};f.stack.ReliableBehavior=function(a){var b,c,d=0,e=0,k="";return b=
{incoming:function(a,f){var g=a.indexOf("_"),n=a.substring(0,g).split(",");a=a.substring(g+1);n[0]==d&&(k="",c&&c(!0));0<a.length&&(b.down.outgoing(n[1]+","+d+"_"+k,f),e!=n[1]&&(e=n[1],b.up.incoming(a,f)))},outgoing:function(a,f,h){k=a;c=h;b.down.outgoing(e+","+ ++d+"_"+a,f)}}};f.stack.QueueBehavior=function(a){function b(){if(a.remove&&0===d.length)ea(c);else if(!e&&0!==d.length&&!g){e=!0;var f=d.shift();c.down.outgoing(f.data,f.origin,function(a){e=!1;f.callback&&t(function(){f.callback(a)},0);
b()})}}var c,d=[],e=!0,f="",g,h=0,l=!1,n=!1;return c={init:function(){w(a)&&(a={});a.maxLength&&(h=a.maxLength,n=!0);a.lazy?l=!0:c.down.init()},callback:function(a){e=!1;var d=c.up;b();d.callback(a)},incoming:function(b,d){if(n){var e=b.indexOf("_"),g=parseInt(b.substring(0,e),10);f+=b.substring(e+1);0===g&&(a.encode&&(f=T(f)),c.up.incoming(f,d),f="")}else c.up.incoming(b,d)},outgoing:function(e,f,g){a.encode&&(e=D(e));var k=[];if(n){for(;0!==e.length;){var m=e.substring(0,h);e=e.substring(m.length);
k.push(m)}for(;m=k.shift();)d.push({data:k.length+"_"+m,origin:f,callback:0===k.length?g:null})}else d.push({data:e,origin:f,callback:g});l?c.down.init():b()},destroy:function(){g=!0;c.down.destroy()}}};f.stack.VerifyBehavior=function(a){function b(){d=Math.random().toString(16).substring(2);c.down.outgoing(d)}var c,d,e;return c={incoming:function(f,g){var k=f.indexOf("_");-1===k?f===d?c.up.callback(!0):e||(e=f,a.initiate||b(),c.down.outgoing(f)):f.substring(0,k)===e&&c.up.incoming(f.substring(k+
1),g)},outgoing:function(a,b,e){c.down.outgoing(d+"_"+a,b,e)},callback:function(c){a.initiate&&b()}}};f.stack.RpcBehavior=function(a,b){function c(a){a.jsonrpc="2.0";f.down.outgoing(g.stringify(a))}function d(a,b){var d=Array.prototype.slice;return function(){var e=arguments.length,f={method:b};if(0<e&&"function"===typeof arguments[e-1]){if(1<e&&"function"===typeof arguments[e-2]){var g={success:arguments[e-2],error:arguments[e-1]};f.params=d.call(arguments,0,e-2)}else g={success:arguments[e-1]},
f.params=d.call(arguments,0,e-1);l[""+ ++h]=g;f.id=h}else f.params=d.call(arguments,0);a.namedParams&&1===f.params.length&&(f.params=f.params[0]);c(f)}}function e(a,b,d,e){if(d){if(b){var f=function(a){f=Q;c({id:b,result:a})};var g=function(a,d){g=Q;a={id:b,error:{code:-32099,message:a}};d&&(a.error.data=d);c(a)}}else f=g=Q;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);try{var n=d.method.apply(d.scope,e.concat([f,g]));w(n)||f(n)}catch(O){g(O.message)}}else b&&c({id:b,error:{code:-32601,
message:"Procedure not found."}})}var f,g=b.serializer||S(),h=0,l={};return f={incoming:function(a,d){a=g.parse(a);a.method?b.handle?b.handle(a,c):e(a.method,a.id,b.local[a.method],a.params):(d=l[a.id],a.error?d.error&&d.error(a.error):d.success&&d.success(a.result),delete l[a.id])},init:function(){if(b.remote)for(var c in b.remote)b.remote.hasOwnProperty(c)&&(a[c]=d(b.remote[c],c));f.down.init()},destroy:function(){for(var c in b.remote)b.remote.hasOwnProperty(c)&&a.hasOwnProperty(c)&&delete a[c];
f.down.destroy()}}};N.easyXDM=f})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);